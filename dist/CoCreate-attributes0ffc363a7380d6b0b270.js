/*! For license information please see CoCreate-attributes0ffc363a7380d6b0b270.js.LICENSE.txt */
!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F():"function"==typeof define&&define.amd?define([],F):"object"==typeof exports?exports.CoCreate=F():(Q.CoCreate=Q.CoCreate||{},Q.CoCreate.attributes=F())}(this,(function(){return(()=>{"use strict";var __webpack_modules__={"../CoCreate-action/src/index.js":(__unused_webpack_module,exports)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n// -testing1\nconst CoCreateAction = {\n  attribute: 'data-actions',\n  actions: {},\n  selectedStage: [],\n  stageIndex: 0,\n  selectedElement: null,\n  completedEventName: 'completedEvent',\n  __init: function () {\n    this.actionButtonEvent();\n  },\n  actionButtonEvent: function () {\n    const self = this;\n    document.addEventListener('click', function (event) {\n      let btn = event.target;\n\n      if (!btn.getAttribute('data-actions')) {\n        btn = event.target.closest('[data-actions]');\n      }\n\n      if (!btn) return;\n      event.preventDefault();\n      let actions = (btn.getAttribute(self.attribute) || \"\").replace(/\\s/g, '').split(',');\n      if (actions.length == 0) return;\n      self.stageIndex = 0;\n      self.selectedStage = actions; //. run function\n\n      self.selectedElement = btn;\n\n      self.__runActionFunc();\n    });\n  },\n  init: function ({\n    action,\n    callback,\n    endEvent\n  }) {\n    this.registerEvent(action, callback, null, endEvent);\n  },\n\n  /**\n   * key: string\n   * runFunc: function\n   * instance: object\n   * endEvent: string\n   **/\n  registerEvent: function (key, runFunc, instance, endEvent) {\n    if (this.actions[key]) {\n      return;\n    }\n\n    this.actions[key] = {\n      key: key,\n      runFunc: runFunc,\n      instance: instance || window,\n      endEvent: endEvent\n    }; //. register events\n\n    for (let __key in this.actions) {\n      if (__key != key && this.actions[__key]['endEvent'] === endEvent) {\n        return;\n      }\n    } //. register events\n\n\n    const _this = this;\n\n    document.addEventListener(endEvent, function (e) {\n      _this.__nextAction(endEvent, e.detail);\n    });\n  },\n  __runActionFunc: function (data) {\n    if (this.stageIndex >= this.selectedStage.length) {\n      //. if latest case, it will be run aTag\n      if (this.stageIndex == this.selectedStage.length) {\n        this.__runAtag(this.selectedElement);\n      }\n\n      return;\n    }\n\n    const actionName = this.selectedStage[this.stageIndex]; //. run function\n\n    const action = this.actions[actionName];\n\n    if (action) {\n      if (action.runFunc) {\n        action.runFunc.call(null, this.selectedElement, data);\n      } else {\n        this.__nextAction(action.endEvent, {});\n      }\n    } else {\n      let status = this.__runSpecialAction(actionName, data);\n\n      if (status === \"next\") {\n        this.__moveNextAction();\n      }\n    }\n  },\n  __nextAction: function (eventName, data) {\n    const key = this.selectedStage[this.stageIndex];\n\n    if (!key) {\n      return;\n    }\n\n    if (eventName !== this.actions[key].endEvent) {\n      return;\n    }\n\n    this.__moveNextAction(data);\n  },\n  __runAtag: function (button) {\n    var aTag = button.querySelector('a');\n\n    if (aTag) {// CoCreate.logic.setLinkProcess(aTag)\n    }\n  },\n  //. special action\n  __runSpecialAction: function (actionName, data) {\n    let matches = /(\\w+)\\{([a-zA-Z0-9_ \\-#$.]+)\\}/gm.exec(actionName);\n\n    if (!matches || matches.length < 3) {\n      return \"next\";\n    }\n\n    let type = matches[1],\n        param = matches[2].trim();\n    if (!param) return \"next\";\n    const self = this;\n\n    switch (type) {\n      case 'event':\n        console.log(\"Waiting Event....\");\n        document.addEventListener(param, eventData => {\n          console.log('Event Action (Received event from other section) ====== ' + param);\n\n          self.__moveNextAction(eventData);\n        }, {\n          once: true\n        });\n        break;\n\n      case 'timeout':\n        let delayTime = parseInt(param);\n\n        if (delayTime > 0) {\n          setTimeout(function () {\n            console.log(\"Timeout ======= \" + param);\n\n            self.__moveNextAction(data);\n          }, parseInt(param));\n        }\n\n        break;\n\n      case 'action':\n        let btn = document.querySelector(param);\n\n        if (btn) {\n          btn.click();\n        }\n\n        break;\n\n      default:\n        return \"next\";\n    }\n  },\n  __moveNextAction: function (data) {\n    this.stageIndex++;\n\n    this.__runActionFunc(data);\n  }\n};\n\nCoCreateAction.__init();\n\nvar _default = CoCreateAction;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWFjdGlvbi9zcmMvaW5kZXguanM/NTBkNSJdLCJuYW1lcyI6WyJDb0NyZWF0ZUFjdGlvbiIsImF0dHJpYnV0ZSIsImFjdGlvbnMiLCJzZWxlY3RlZFN0YWdlIiwic3RhZ2VJbmRleCIsInNlbGVjdGVkRWxlbWVudCIsImNvbXBsZXRlZEV2ZW50TmFtZSIsIl9faW5pdCIsImFjdGlvbkJ1dHRvbkV2ZW50Iiwic2VsZiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiYnRuIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0IiwicmVwbGFjZSIsInNwbGl0IiwibGVuZ3RoIiwiX19ydW5BY3Rpb25GdW5jIiwiaW5pdCIsImFjdGlvbiIsImNhbGxiYWNrIiwiZW5kRXZlbnQiLCJyZWdpc3RlckV2ZW50Iiwia2V5IiwicnVuRnVuYyIsImluc3RhbmNlIiwid2luZG93IiwiX19rZXkiLCJfdGhpcyIsImUiLCJfX25leHRBY3Rpb24iLCJkZXRhaWwiLCJkYXRhIiwiX19ydW5BdGFnIiwiYWN0aW9uTmFtZSIsImNhbGwiLCJzdGF0dXMiLCJfX3J1blNwZWNpYWxBY3Rpb24iLCJfX21vdmVOZXh0QWN0aW9uIiwiZXZlbnROYW1lIiwiYnV0dG9uIiwiYVRhZyIsInF1ZXJ5U2VsZWN0b3IiLCJtYXRjaGVzIiwiZXhlYyIsInR5cGUiLCJwYXJhbSIsInRyaW0iLCJjb25zb2xlIiwibG9nIiwiZXZlbnREYXRhIiwib25jZSIsImRlbGF5VGltZSIsInBhcnNlSW50Iiwic2V0VGltZW91dCIsImNsaWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBLE1BQU1BLGNBQWMsR0FBRztBQUNyQkMsV0FBUyxFQUFFLGNBRFU7QUFFckJDLFNBQU8sRUFBRSxFQUZZO0FBR3JCQyxlQUFhLEVBQUUsRUFITTtBQUlyQkMsWUFBVSxFQUFFLENB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QUF1QkksS0FBdkIsQ0FBVjs7QUFDQSxZQUFJckMsR0FBSixFQUFTO0FBQ1BBLGFBQUcsQ0FBQzhDLEtBQUo7QUFDRDs7QUFDRDs7QUFDRjtBQUNFLGVBQU8sTUFBUDtBQXhCSjtBQTBCRCxHQTVKb0I7QUE4SnJCakIsa0JBQWdCLEVBQUUsVUFBU04sSUFBVCxFQUFlO0FBQy9CLFNBQUtoQyxVQUFMOztBQUNBLFNBQUtpQixlQUFMLENBQXFCZSxJQUFyQjtBQUNEO0FBaktvQixDQUF2Qjs7QUFxS0FwQyxjQUFjLENBQUNPLE1BQWY7O2VBRWVQLGMiLCJmaWxlIjoiLi4vQ29DcmVhdGUtYWN0aW9uL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIC10ZXN0aW5nMVxuY29uc3QgQ29DcmVhdGVBY3Rpb24gPSB7XG4gIGF0dHJpYnV0ZTogJ2RhdGEtYWN0aW9ucycsXG4gIGFjdGlvbnM6IHt9LFxuICBzZWxlY3RlZFN0YWdlOiBbXSxcbiAgc3RhZ2VJbmRleDogMCxcbiAgc2VsZWN0ZWRFbGVtZW50OiBudWxsLFxuICBcbiAgY29tcGxldGVkRXZlbnROYW1lOiAnY29tcGxldGVkRXZlbnQnLFxuICBcbiAgX19pbml0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFjdGlvbkJ1dHRvbkV2ZW50KClcbiAgfSxcblxuICBhY3Rpb25CdXR0b25FdmVudDogZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgbGV0IGJ0biA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb25zJykpIHtcbiAgICAgICAgYnRuID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFjdGlvbnNdJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJ0bikgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgbGV0IGFjdGlvbnMgPSAoYnRuLmdldEF0dHJpYnV0ZShzZWxmLmF0dHJpYnV0ZSkgfHwgXCJcIikucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnLCcpO1xuICAgICAgaWYgKGFjdGlvbnMubGVuZ3RoID09IDApIHJldHVybjtcbiAgICAgIHNlbGYuc3RhZ2VJbmRleCA9IDA7XG4gICAgICBzZWxmLnNlbGVjdGVkU3RhZ2UgPSBhY3Rpb25zO1xuICAgICAgXG4gICAgICAvLy4gcnVuIGZ1bmN0aW9uXG4gICAgICBzZWxmLnNlbGVjdGVkRWxlbWVudCA9IGJ0bjtcbiAgICAgIHNlbGYuX19ydW5BY3Rpb25GdW5jKCk7XG4gICAgfSlcbiAgfSxcbiAgXG4gIGluaXQ6IGZ1bmN0aW9uKHthY3Rpb24sIGNhbGxiYWNrLCBlbmRFdmVudH0pIHtcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoYWN0aW9uLCBjYWxsYmFjaywgbnVsbCwgZW5kRXZlbnQpO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIGtleTogc3RyaW5nXG4gICAqIHJ1bkZ1bmM6IGZ1bmN0aW9uXG4gICAqIGluc3RhbmNlOiBvYmplY3RcbiAgICogZW5kRXZlbnQ6IHN0cmluZ1xuICAgKiovXG4gIHJlZ2lzdGVyRXZlbnQ6IGZ1bmN0aW9uKGtleSwgcnVuRnVuYywgaW5zdGFuY2UsIGVuZEV2ZW50KSB7XG4gICAgaWYgKHRoaXMuYWN0aW9uc1trZXldKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRoaXMuYWN0aW9uc1trZXldID0ge1xuICAgICAga2V5OiBrZXksXG4gICAgICBydW5GdW5jOiBydW5GdW5jLFxuICAgICAgaW5zdGFuY2U6IGluc3RhbmNlIHx8IHdpbmRvdyxcbiAgICAgIGVuZEV2ZW50OiBlbmRFdmVudFxuICAgIH1cbiAgICAvLy4gcmVnaXN0ZXIgZXZlbnRzXG4gICAgXG4gICAgZm9yIChsZXQgX19rZXkgaW4gdGhpcy5hY3Rpb25zKSB7XG4gICAgICBpZiAoX19rZXkgIT0ga2V5ICYmIHRoaXMuYWN0aW9uc1tfX2tleV1bJ2VuZEV2ZW50J10gPT09IGVuZEV2ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8uIHJlZ2lzdGVyIGV2ZW50c1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBmdW5jdGlvbihlKSB7XG4gICAgICBfdGhpcy5fX25leHRBY3Rpb24oZW5kRXZlbnQsIGUuZGV0YWlsKVxuICAgIH0pO1xuICB9LFxuICBcbiAgX19ydW5BY3Rpb25GdW5jOiBmdW5jdGlvbihkYXRhKSB7XG5cbiAgICBpZiAodGhpcy5zdGFnZUluZGV4ID49IHRoaXMuc2VsZWN0ZWRTdGFnZS5sZW5ndGgpIHtcblxuICAgICAgLy8uIGlmIGxhdGVzdCBjYXNlLCBpdCB3aWxsIGJlIHJ1biBhVGFnXG4gICAgICBpZiAodGhpcy5zdGFnZUluZGV4ID09IHRoaXMuc2VsZWN0ZWRTdGFnZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fX3J1bkF0YWcodGhpcy5zZWxlY3RlZEVsZW1lbnQpOyAgICAgICAgXG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGFjdGlvbk5hbWUgPSB0aGlzLnNlbGVjdGVkU3RhZ2VbdGhpcy5zdGFnZUluZGV4XTtcbiAgICAvLy4gcnVuIGZ1bmN0aW9uXG4gICAgY29uc3QgYWN0aW9uID0gdGhpcy5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGlmIChhY3Rpb24ucnVuRnVuYykge1xuICAgICAgICBhY3Rpb24ucnVuRnVuYy5jYWxsKG51bGwsIHRoaXMuc2VsZWN0ZWRFbGVtZW50LCBkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19uZXh0QWN0aW9uKGFjdGlvbi5lbmRFdmVudCwge30pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc3RhdHVzID0gdGhpcy5fX3J1blNwZWNpYWxBY3Rpb24oYWN0aW9uTmFtZSwgZGF0YSk7XG4gICAgICBpZiAoc3RhdHVzID09PSBcIm5leHRcIikge1xuICAgICAgICB0aGlzLl9fbW92ZU5leHRBY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFxuICBfX25leHRBY3Rpb246IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgIGNvbnN0IGtleSA9IHRoaXMuc2VsZWN0ZWRTdGFnZVt0aGlzLnN0YWdlSW5kZXhdO1xuICAgIGlmICgha2V5KSB7XG4gICAgICByZXR1cm4gO1xuICAgIH1cbiAgICBpZiAoZXZlbnROYW1lICE9PSB0aGlzLmFjdGlvbnNba2V5XS5lbmRFdmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9fbW92ZU5leHRBY3Rpb24oZGF0YSk7XG4gIH0sXG4gIFxuICBfX3J1bkF0YWc6IGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgIHZhciBhVGFnID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcbiAgICAgICAgICBcbiAgICBpZiAoYVRhZykge1xuICAgICAgLy8gQ29DcmVhdGUubG9naWMuc2V0TGlua1Byb2Nlc3MoYVRhZylcbiAgICB9XG4gIH0sXG4gIFxuICAvLy4gc3BlY2lhbCBhY3Rpb25cbiAgXG4gIF9fcnVuU3BlY2lhbEFjdGlvbjogZnVuY3Rpb24oYWN0aW9uTmFtZSwgZGF0YSkge1xuICAgIGxldCBtYXRjaGVzID0gLyhcXHcrKVxceyhbYS16QS1aMC05XyBcXC0jJC5dKylcXH0vZ20uZXhlYyhhY3Rpb25OYW1lKVxuICAgIFxuICAgIGlmICghbWF0Y2hlcyB8fCBtYXRjaGVzLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBcIm5leHRcIjtcbiAgICB9XG4gICAgXG4gICAgbGV0IHR5cGUgPSBtYXRjaGVzWzFdLCBwYXJhbSA9IG1hdGNoZXNbMl0udHJpbSgpXG4gICAgaWYgKCFwYXJhbSkgcmV0dXJuIFwibmV4dFwiO1xuICAgIFxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZXZlbnQnOlxuICAgICAgICBjb25zb2xlLmxvZyhcIldhaXRpbmcgRXZlbnQuLi4uXCIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHBhcmFtLCAoZXZlbnREYXRhKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0V2ZW50IEFjdGlvbiAoUmVjZWl2ZWQgZXZlbnQgZnJvbSBvdGhlciBzZWN0aW9uKSA9PT09PT0gJyArIHBhcmFtKTtcbiAgICAgICAgICBzZWxmLl9fbW92ZU5leHRBY3Rpb24oZXZlbnREYXRhKTtcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGltZW91dCc6XG4gICAgICAgIGxldCBkZWxheVRpbWUgPSBwYXJzZUludChwYXJhbSk7XG4gICAgICAgIGlmIChkZWxheVRpbWUgPiAwKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZW91dCA9PT09PT09IFwiICsgcGFyYW0pXG4gICAgICAgICAgICBzZWxmLl9fbW92ZU5leHRBY3Rpb24oZGF0YSk7XG4gICAgICAgICAgfSwgcGFyc2VJbnQocGFyYW0pKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2FjdGlvbic6XG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhcmFtKTtcbiAgICAgICAgaWYgKGJ0bikge1xuICAgICAgICAgIGJ0bi5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwibmV4dFwiO1xuICAgIH1cbiAgfSxcbiAgXG4gIF9fbW92ZU5leHRBY3Rpb246IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB0aGlzLnN0YWdlSW5kZXggKys7XG4gICAgdGhpcy5fX3J1bkFjdGlvbkZ1bmMoZGF0YSk7XG4gIH0sXG59XG5cblxuQ29DcmVhdGVBY3Rpb24uX19pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQWN0aW9uOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-action/src/index.js\n")},"./src/common.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.parseClassRules = parseClassRules;\nexports.getCoCreateStyle = getCoCreateStyle;\nexports.setStyleClassIfDif = setStyleClassIfDif;\nexports.setAttributeIfDif = setAttributeIfDif;\nexports.setStyleIfDif = setStyleIfDif;\nexports.removeAllSelectedOptions = removeAllSelectedOptions;\nexports.renderOptions = renderOptions;\nexports.parseCssRules = parseCssRules;\nexports.rgba2hex = rgba2hex;\nexports.parseUnit = parseUnit;\nexports.toCamelCase = toCamelCase;\nexports.elStore = elStore;\n\nvar _select = _interopRequireDefault(__webpack_require__(/*! @cocreate/select */ "../CoCreate-select/src/index.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*global CoCreate*/\nfunction parseClassRules(str) {\n  return str.split(\' \').filter(cln => cln);\n}\n\nfunction getCoCreateStyle(classList) {\n  let styles = {};\n  classList.forEach(classname => {\n    let [name, value] = classname.split(":");\n    styles[toCamelCase(name)] = value;\n  });\n  return styles;\n}\n\nfunction setStyleClassIfDif(element, {\n  property,\n  camelProperty,\n  value,\n  computedStyles\n}) {\n  let classList = element.classList;\n  let styleList = new Map();\n  classList.forEach(classname => {\n    let [name, value] = classname.split(":");\n    value && styleList.set(name, value);\n  });\n  let elValue = styleList.get(property);\n\n  if (value) {\n    if (elValue) {\n      if (elValue != value) return classList.replace(`${property}:${elValue}`, `${property}:${value}`);\n    } else if (computedStyles[camelProperty] != value && !classList.contains(`${property}:${value}`)) {\n      classList.add(`${property}:${value}`);\n      return true;\n    }\n  } else {\n    if (classList.contains(`${property}:${elValue}`)) {\n      classList.remove(`${property}:${elValue}`);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction setAttributeIfDif(property, value) {\n  if (this.getAttribute(property) !== value) {\n    if (value) this.setAttribute(property, value);else this.removeAttribute(property);\n    return true;\n  }\n\n  return false;\n}\n\nfunction setStyleIfDif({\n  property,\n  camelProperty,\n  value,\n  computedStyles\n}) {\n  if (computedStyles[camelProperty] && computedStyles[camelProperty] !== value) {\n    this.style[property] = value;\n    return true;\n  } else return false;\n} // CoCreate Select helper\n// export function getAllSelectedOptions() {\n//     let options = this.querySelectorAll(":scope > [selected]");\n//     return Array.from(options).map((o) => o.getAttribute("value"));\n// };\n\n\nfunction removeAllSelectedOptions() {\n  let options = this.querySelectorAll(":scope > [selected]");\n  return Array.from(options).forEach(o => o.remove());\n}\n\n; // export function getAllOptions() {\n//     let options = this.querySelectorAll(":scope > ul > [value]");\n//     return Array.from(options).map((o) => o.getAttribute("value"));\n// };\n\nfunction renderOptions(input, arrValue) {\n  if (arrValue && arrValue.length) _select.default.renderValue(input, arrValue);else removeAllSelectedOptions.call(input);\n} // CoCreate Select helper end  \n\n\nfunction parseCssRules(str) {\n  let styleObject = {};\n  if (str.split) str.split(";").forEach(rule => {\n    let ruleSplit = rule.split(":");\n    let key = ruleSplit.shift().trim();\n    let value = ruleSplit.join().trim();\n    if (key) styleObject[key] = value;\n  });\n  return styleObject;\n}\n\nfunction rgba2hex(orig) {\n  let a,\n      isPercent,\n      rgb = orig.replace(/\\s/g, \'\').match(/^rgba?\\((\\d+),(\\d+),(\\d+),?([^,\\s)]+)?/i),\n      alpha = (rgb && rgb[4] || "").trim(),\n      hex = rgb ? (rgb[1] | 1 << 8).toString(16).slice(1) + (rgb[2] | 1 << 8).toString(16).slice(1) + (rgb[3] | 1 << 8).toString(16).slice(1) : orig;\n\n  if (alpha !== "") {\n    a = alpha;\n  } else {\n    a = 1;\n  } // multiply before convert to HEX\n\n\n  a = (a * 255 | 1 << 8).toString(16).slice(1);\n  hex = hex + a;\n  return hex;\n}\n\nfunction parseUnit(style) {\n  let value = parseFloat(style);\n  if (isNaN(value)) return [style, \'\'];else {\n    let valueLength = (value + "").length;\n    return [value, style.substr(valueLength)];\n  }\n}\n\nfunction toCamelCase(str) {\n  let index = 0;\n\n  do {\n    index = str.indexOf("-", index);\n\n    if (index !== -1) {\n      let t = str.substring(0, index);\n      t += String.fromCharCode(str.charCodeAt(index + 1) - 32);\n      t += str.substr(index + 2);\n      str = t;\n    } else break;\n  } while (true);\n\n  return str;\n} // export function setCCStyle({ property, camelProperty, value, computedStyles }) {\n//     let hasChanged = false;\n//     if (computedStyles[camelProperty]  && computedStyles[camelProperty] !== value) {\n//         for (let classname of this.classList) {\n//             let [name, styleValue] = classname.split(":");\n//             if (name === property && styleValue) {\n//                 if (value)\n//                     this.classList.replace(classname, property + ":" + value);\n//                 else\n//                     this.classList.remove(classname)\n//                 hasChanged = true;\n//                 break;\n//             }\n//         }\n//         if (!hasChanged)\n//             this.classList.add(property + ":" + value);\n//         return true;\n//     } else\n//         return false;\n// }\n\n\nfunction elStore() {\n  this.cache = new Map();\n\n  this.spread = function set(key, object) {\n    this.cache.set(key, { ...this.cache.get(key),\n      ...object\n    });\n  };\n\n  this.set = function set(key, property, value) {\n    this.cache.set(key, { ...this.cache.get(key),\n      [property]: value\n    });\n  };\n\n  this.get = function get(key, property) {\n    let value = this.cache.get(key);\n    return value ? value[property] : undefined;\n  };\n\n  this.reset = function reset(key) {\n    this.cache.delete(key);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4vc3JjL2NvbW1vbi5qcz82OWQ5Il0sIm5hbWVzIjpbInBhcnNlQ2xhc3NSdWxlcyIsInN0ciIsInNwbGl0IiwiZmlsdGVyIiwiY2xuIiwiZ2V0Q29DcmVhdGVTdHlsZSIsImNsYXNzTGlzdCIsInN0eWxlcyIsImZvckVhY2giLCJjbGFzc25hbWUiLCJuYW1lIiwidmFsdWUiLCJ0b0NhbWVsQ2FzZSIsInNldFN0eWxlQ2xhc3NJZkRpZiIsImVsZW1lbnQiLCJwcm9wZXJ0eSIsImNhbWVsUHJvcGVydHkiLCJjb21wdXRlZFN0eWxlcyIsInN0eWxlTGlzdCIsIk1hcCIsInNldCIsImVsVmFsdWUiLCJnZXQiLCJyZXBsYWNlIiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmUiLCJzZXRBdHRyaWJ1dGVJZkRpZiIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldFN0eWxlSWZEaWYiLCJzdHlsZSIsInJlbW92ZUFsbFNlbGVjdGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiQXJyYXkiLCJmcm9tIiwibyIsInJlbmRlck9wdGlvbnMiLCJpbnB1dCIsImFyclZhbHVlIiwibGVuZ3RoIiwic2VsZWN0IiwicmVuZGVyVmFsdWUiLCJjYWxsIiwicGFyc2VDc3NSdWxlcyIsInN0eWxlT2JqZWN0IiwicnVsZSIsInJ1bGVTcGxpdCIsImtleSIsInNoaWZ0IiwidHJpbSIsImpvaW4iLCJyZ2JhMmhleCIsIm9yaWciLCJhIiwiaXNQZXJjZW50IiwicmdiIiwibWF0Y2giLCJhbHBoYSIsImhleCIsInRvU3RyaW5nIiwic2xpY2UiLCJwYXJzZVVuaXQiLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJ2YWx1ZUxlbmd0aCIsInN1YnN0ciIsImluZGV4IiwiaW5kZXhPZiIsInQiLCJzdWJzdHJpbmciLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjaGFyQ29kZUF0IiwiZWxTdG9yZSIsImNhY2hlIiwic3ByZWFkIiwib2JqZWN0IiwidW5kZWZpbmVkIiwicmVzZXQiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBOzs7O0FBREE7QUFFTyxTQUFTQSxlQUFULENBQXlCQyxHQUF6QixFQUE4QjtBQUNqQyxTQUFPQSxHQUFHLENBQUNDLEtBQUosQ0FBVSxHQUFWLEVBQWVDLE1BQWYsQ0FBc0JDLEdBQUcsSUFBSUEsR0FBN0IsQ0FBUDtBQUVIOztBQUVNLFNBQVNDLGdCQUFULENBQTBCQyxTQUExQixFQUFxQztBQUN4QyxNQUFJQyxNQUFNLEdBQUcsRUFBYjtBQUNBRCxXQUFTLENBQUNFLE9BQVYsQ0FBbUJDLFNBQUQsSUFBZTtBQUM3QixRQUFJLENBQUNDLElBQUQsRUFBT0MsS0FBUCxJQUFnQkYsU0FBUyxDQUFDUCxLQUFWLENBQWdCLEdBQWhCLENBQXBCO0FBQ0FLLFVBQU0sQ0FBQ0ssV0FBVyxDQUFDRixJQUFELENBQVosQ0FBTixHQUE0QkMsS0FBNUI7QUFDSCxHQUhEO0FBS0EsU0FBT0osTUFBUDtBQUNIOztBQUtNLFNBQVNNLGtCQUFULENBQTRCQyxPQUE1QixFQUFxQztBQUFFQyxVQUFGO0FBQVlDLGVBQVo7QUFBMkJMLE9BQTNCO0FBQWtDTTtBQUFsQyxDQUFyQyxFQUF5RjtBQUM1RixNQUFJWCxTQUFTLEdBQUdRLE9BQU8sQ0FBQ1IsU0FBeEI7QUFDQSxNQUFJWSxTQUFTLEdBQUcsSUFBSUMsR0FBSixFQUFoQjtBQUNBYixXQUFTLENBQUNFLE9BQVYsQ0FBbUJDLFNBQUQsSUFBZTtBQUM3QixRQUFJLENBQUNDLElBQUQsRUFBT0MsS0FBUCxJQUFnQkYsU0FBUyxDQUFDUCxLQUFWLENBQWdCLEdBQWhCLENBQXBCO0FBQ0FTLFNBQUssSUFBSU8sU0FBUyxDQUFDRSxHQUFWLENBQWNWLElBQWQsRUFBb0JDLEtBQXBCLENBQVQ7QUFDSCxHQUhEO0FBS0EsTUFBSVUsT0FBTyxHQUFHSCxTQUFTLENBQUNJLEdBQVYsQ0FBY1AsUUFBZCxDQUFkOztBQUVBLE1BQUlKLEtBQUosRUFBVztBQUNQLFFBQUlVLE9BQUosRUFBYTtBQUNULFVBQUlBLE9BQU8sSUFBSVYsS0FBZixFQUNJLE9BQU9MLFNBQVMsQ0FBQ2lCLE9BQVYsQ0FBbUIsR0FBRVIsUUFBUyxJQUFHTSxPQUFRLEVBQXpDLEVBQTZDLEdBQUVOLFFBQVMsSUFBR0osS0FBTSxFQUFqRSxDQUFQO0FBQ1AsS0FIRCxNQUlLLElBQUlNLGNBQWMsQ0FBQ0QsYUFBRCxDQUFkLElBQWlDTCxLQUFqQyxJQUEwQyxDQUFDTCxTQUFTLENBQUNrQixRQUFWLENBQW9CLEdBQUVULFFBQVMsSUFBR0osS0FBTSxFQUF4QyxDQUEvQyxFQUNMO0FBQ0lMLGVBQVMsQ0FBQ21CLEdBQVYsQ0FBZSxHQUFFVixRQUFTLElBQUdKLEtBQU0sRUFBbkM7QUFDQSxhQUFPLElBQVA7QUFDSDtBQUVKLEdBWEQsTUFZSztBQUNELFFBQUlMLFNBQVMsQ0FBQ2tCLFFBQVYsQ0FBb0IsR0FBRVQsUUFBUyxJQUFHTSxPQUFRLEVBQTFDLENBQUosRUFBa0Q7QUFDOUNmLGVBQVMsQ0FBQ29CLE1BQVYsQ0FBa0IsR0FBRVgsUUFBUyxJQUFHTSxPQUFRLEVBQXhDO0FBQ0EsYUFBTyxJQUFQO0FBQ0g7QUFFSjs7QUFFRCxTQUFPLEtBQVA7QUFDSDs7QUFHTSxTQUFTTSxpQkFBVCxDQUEyQlosUUFBM0IsRUFBcUNKLEtBQXJDLEVBQTRDO0FBQy9DLE1BQUksS0FBS2lCLFlBQUwsQ0FBa0JiLFFBQWxCLE1BQWdDSixLQUFwQyxFQUEyQztBQUN2QyxRQUFJQSxLQUFKLEVBQ0ksS0FBS2tCLFlBQUwsQ0FBa0JkLFFBQWxCLEVBQTRCSixLQUE1QixFQURKLEtBR0ksS0FBS21CLGVBQUwsQ0FBcUJmLFFBQXJCO0FBQ0osV0FBTyxJQUFQO0FBQ0g7O0FBQ0QsU0FBTyxLQUFQO0FBQ0g7O0FBRU0sU0FBU2dCLGFBQVQsQ0FBdUI7QUFBRWhCLFVBQUY7QUFBWUMsZUFBWjtBQUEyQkwsT0FBM0I7QUFBa0NNO0FBQWxDLENBQXZCLEVBQTJFO0FBQzlFLE1BQUlBLGNBQWMsQ0FBQ0QsYUFBRCxDQUFkLElBQWlDQyxjQUFjLENBQUNELGFBQUQsQ0FBZCxLQUFrQ0wsS0FBdkUsRUFBOEU7QUFDMUUsU0FBS3FCLEtBQUwsQ0FBV2pCLFFBQVgsSUFBdUJKLEtBQXZCO0FBQ0EsV0FBTyxJQUFQO0FBQ0gsR0FIRCxNQUlLLE9BQU8sS0FBUDtBQUNSLEMsQ0FHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFTyxTQUFTc0Isd0JBQVQsR0FBb0M7QUFDdkMsTUFBSUMsT0FBTyxHQUFHLEtBQUtDLGdCQUFMLENBQXNCLHFCQUF0QixDQUFkO0FBQ0EsU0FBT0MsS0FBSyxDQUFDQyxJQUFOLENBQVdILE9BQVgsRUFBb0IxQixPQUFwQixDQUE2QjhCLENBQUQsSUFBT0EsQ0FBQyxDQUFDWixNQUFGLEVBQW5DLENBQVA7QUFDSDs7QUFBQSxDLENBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRU8sU0FBU2EsYUFBVCxDQUF1QkMsS0FBdkIsRUFBOEJDLFFBQTlCLEVBQXdDO0FBQzNDLE1BQUlBLFFBQVEsSUFBSUEsUUFBUSxDQUFDQyxNQUF6QixFQUNJQyxnQkFBT0MsV0FBUCxDQUFtQkosS0FBbkIsRUFBMEJDLFFBQTFCLEVBREosS0FHSVIsd0JBQXdCLENBQUNZLElBQXpCLENBQThCTCxLQUE5QjtBQUNQLEMsQ0FDRDs7O0FBQ08sU0FBU00sYUFBVCxDQUF1QjdDLEdBQXZCLEVBQTRCO0FBQy9CLE1BQUk4QyxXQUFXLEdBQUcsRUFBbEI7QUFDQSxNQUFJOUMsR0FBRyxDQUFDQyxLQUFSLEVBQ0lELEdBQUcsQ0FBQ0MsS0FBSixDQUFVLEdBQVYsRUFBZU0sT0FBZixDQUF3QndDLElBQUQsSUFBVTtBQUM3QixRQUFJQyxTQUFTLEdBQUdELElBQUksQ0FBQzlDLEtBQUwsQ0FBVyxHQUFYLENBQWhCO0FBQ0EsUUFBSWdELEdBQUcsR0FBR0QsU0FBUyxDQUFDRSxLQUFWLEdBQWtCQyxJQUFsQixFQUFWO0FBQ0EsUUFBSXpDLEtBQUssR0FBR3NDLFNBQVMsQ0FBQ0ksSUFBVixHQUFpQkQsSUFBakIsRUFBWjtBQUNBLFFBQUlGLEdBQUosRUFBU0gsV0FBVyxDQUFDRyxHQUFELENBQVgsR0FBbUJ2QyxLQUFuQjtBQUNaLEdBTEQ7QUFPSixTQUFPb0MsV0FBUDtBQUNIOztBQWFNLFNBQVNPLFFBQVQsQ0FBa0JDLElBQWxCLEVBQXdCO0FBQzNCLE1BQUlDLENBQUo7QUFBQSxNQUFPQyxTQUFQO0FBQUEsTUFDSUMsR0FBRyxHQUFHSCxJQUFJLENBQUNoQyxPQUFMLENBQWEsS0FBYixFQUFvQixFQUFwQixFQUF3Qm9DLEtBQXhCLENBQThCLHlDQUE5QixDQURWO0FBQUEsTUFFSUMsS0FBSyxHQUFHLENBQUNGLEdBQUcsSUFBSUEsR0FBRyxDQUFDLENBQUQsQ0FBVixJQUFpQixFQUFsQixFQUFzQk4sSUFBdEIsRUFGWjtBQUFBLE1BR0lTLEdBQUcsR0FBR0gsR0FBRyxHQUNULENBQUNBLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBUyxLQUFLLENBQWYsRUFBa0JJLFFBQWxCLENBQTJCLEVBQTNCLEVBQStCQyxLQUEvQixDQUFxQyxDQUFyQyxJQUNBLENBQUNMLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBUyxLQUFLLENBQWYsRUFBa0JJLFFBQWxCLENBQTJCLEVBQTNCLEVBQStCQyxLQUEvQixDQUFxQyxDQUFyQyxDQURBLEdBRUEsQ0FBQ0wsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTLEtBQUssQ0FBZixFQUFrQkksUUFBbEIsQ0FBMkIsRUFBM0IsRUFBK0JDLEtBQS9CLENBQXFDLENBQXJDLENBSFMsR0FHaUNSLElBTjlDOztBQVFBLE1BQUlLLEtBQUssS0FBSyxFQUFkLEVBQWtCO0FBQ2RKLEtBQUMsR0FBR0ksS0FBSjtBQUNILEdBRkQsTUFHSztBQUNESixLQUFDLEdBQUcsQ0FBSjtBQUNILEdBZDBCLENBZTNCOzs7QUFDQUEsR0FBQyxHQUFHLENBQUVBLENBQUMsR0FBRyxHQUFMLEdBQVksS0FBSyxDQUFsQixFQUFxQk0sUUFBckIsQ0FBOEIsRUFBOUIsRUFBa0NDLEtBQWxDLENBQXdDLENBQXhDLENBQUo7QUFDQUYsS0FBRyxHQUFHQSxHQUFHLEdBQUdMLENBQVo7QUFFQSxTQUFPSyxHQUFQO0FBQ0g7O0FBSU0sU0FBU0csU0FBVCxDQUFtQmhDLEtBQW5CLEVBQTBCO0FBQzdCLE1BQUlyQixLQUFLLEdBQUdzRCxVQUFVLENBQUNqQyxLQUFELENBQXRCO0FBQ0EsTUFBSWtDLEtBQUssQ0FBQ3ZELEtBQUQsQ0FBVCxFQUNJLE9BQU8sQ0FBQ3FCLEtBQUQsRUFBUSxFQUFSLENBQVAsQ0FESixLQUVLO0FBQ0QsUUFBSW1DLFdBQVcsR0FBRyxDQUFDeEQsS0FBSyxHQUFHLEVBQVQsRUFBYStCLE1BQS9CO0FBQ0EsV0FBTyxDQUFDL0IsS0FBRCxFQUFRcUIsS0FBSyxDQUFDb0MsTUFBTixDQUFhRCxXQUFiLENBQVIsQ0FBUDtBQUVIO0FBQ0o7O0FBR00sU0FBU3ZELFdBQVQsQ0FBcUJYLEdBQXJCLEVBQTBCO0FBQzdCLE1BQUlvRSxLQUFLLEdBQUcsQ0FBWjs7QUFDQSxLQUFHO0FBQ0NBLFNBQUssR0FBR3BFLEdBQUcsQ0FBQ3FFLE9BQUosQ0FBWSxHQUFaLEVBQWlCRCxLQUFqQixDQUFSOztBQUNBLFFBQUlBLEtBQUssS0FBSyxDQUFDLENBQWYsRUFBa0I7QUFDZCxVQUFJRSxDQUFDLEdBQUd0RSxHQUFHLENBQUN1RSxTQUFKLENBQWMsQ0FBZCxFQUFpQkgsS0FBakIsQ0FBUjtBQUNBRSxPQUFDLElBQUlFLE1BQU0sQ0FBQ0MsWUFBUCxDQUFvQnpFLEdBQUcsQ0FBQzBFLFVBQUosQ0FBZU4sS0FBSyxHQUFHLENBQXZCLElBQTRCLEVBQWhELENBQUw7QUFDQUUsT0FBQyxJQUFJdEUsR0FBRyxDQUFDbUUsTUFBSixDQUFXQyxLQUFLLEdBQUcsQ0FBbkIsQ0FBTDtBQUNBcEUsU0FBRyxHQUFHc0UsQ0FBTjtBQUNILEtBTEQsTUFNSztBQUNSLEdBVEQsUUFTUyxJQVRUOztBQVVBLFNBQU90RSxHQUFQO0FBQ0gsQyxDQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQVFPLFNBQVMyRSxPQUFULEdBQW1CO0FBQ3RCLE9BQUtDLEtBQUwsR0FBYSxJQUFJMUQsR0FBSixFQUFiOztBQUNBLE9BQUsyRCxNQUFMLEdBQWMsU0FBUzFELEdBQVQsQ0FBYThCLEdBQWIsRUFBa0I2QixNQUFsQixFQUEwQjtBQUNwQyxTQUFLRixLQUFMLENBQVd6RCxHQUFYLENBQWU4QixHQUFmLEVBQW9CLEVBQUUsR0FBRyxLQUFLMkIsS0FBTCxDQUFXdkQsR0FBWCxDQUFlNEIsR0FBZixDQUFMO0FBQTBCLFNBQUc2QjtBQUE3QixLQUFwQjtBQUNILEdBRkQ7O0FBR0EsT0FBSzNELEdBQUwsR0FBVyxTQUFTQSxHQUFULENBQWE4QixHQUFiLEVBQWtCbkMsUUFBbEIsRUFBNEJKLEtBQTVCLEVBQW1DO0FBQzFDLFNBQUtrRSxLQUFMLENBQVd6RCxHQUFYLENBQWU4QixHQUFmLEVBQW9CLEVBQUUsR0FBRyxLQUFLMkIsS0FBTCxDQUFXdkQsR0FBWCxDQUFlNEIsR0FBZixDQUFMO0FBQTBCLE9BQUNuQyxRQUFELEdBQVlKO0FBQXRDLEtBQXBCO0FBQ0gsR0FGRDs7QUFHQSxPQUFLVyxHQUFMLEdBQVcsU0FBU0EsR0FBVCxDQUFhNEIsR0FBYixFQUFrQm5DLFFBQWxCLEVBQTRCO0FBQ25DLFFBQUlKLEtBQUssR0FBRyxLQUFLa0UsS0FBTCxDQUFXdkQsR0FBWCxDQUFlNEIsR0FBZixDQUFaO0FBQ0EsV0FBT3ZDLEtBQUssR0FBR0EsS0FBSyxDQUFDSSxRQUFELENBQVIsR0FBcUJpRSxTQUFqQztBQUNILEdBSEQ7O0FBSUEsT0FBS0MsS0FBTCxHQUFhLFNBQVNBLEtBQVQsQ0FBZS9CLEdBQWYsRUFBb0I7QUFDN0IsU0FBSzJCLEtBQUwsQ0FBV0ssTUFBWCxDQUFrQmhDLEdBQWxCO0FBQ0gsR0FGRDtBQUdIIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsIENvQ3JlYXRlKi9cbmltcG9ydCBzZWxlY3QgZnJvbSAnQGNvY3JlYXRlL3NlbGVjdCdcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNsYXNzUnVsZXMoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5zcGxpdCgnICcpLmZpbHRlcihjbG4gPT4gY2xuKTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29DcmVhdGVTdHlsZShjbGFzc0xpc3QpIHtcbiAgICBsZXQgc3R5bGVzID0ge307XG4gICAgY2xhc3NMaXN0LmZvckVhY2goKGNsYXNzbmFtZSkgPT4ge1xuICAgICAgICBsZXQgW25hbWUsIHZhbHVlXSA9IGNsYXNzbmFtZS5zcGxpdChcIjpcIik7XG4gICAgICAgIHN0eWxlc1t0b0NhbWVsQ2FzZShuYW1lKV0gPSB2YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzdHlsZXM7XG59XG5cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdHlsZUNsYXNzSWZEaWYoZWxlbWVudCwgeyBwcm9wZXJ0eSwgY2FtZWxQcm9wZXJ0eSwgdmFsdWUsIGNvbXB1dGVkU3R5bGVzIH0pIHtcbiAgICBsZXQgY2xhc3NMaXN0ID0gZWxlbWVudC5jbGFzc0xpc3Q7XG4gICAgbGV0IHN0eWxlTGlzdCA9IG5ldyBNYXAoKTtcbiAgICBjbGFzc0xpc3QuZm9yRWFjaCgoY2xhc3NuYW1lKSA9PiB7XG4gICAgICAgIGxldCBbbmFtZSwgdmFsdWVdID0gY2xhc3NuYW1lLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgdmFsdWUgJiYgc3R5bGVMaXN0LnNldChuYW1lLCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBsZXQgZWxWYWx1ZSA9IHN0eWxlTGlzdC5nZXQocHJvcGVydHkpO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGlmIChlbFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZWxWYWx1ZSAhPSB2YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NMaXN0LnJlcGxhY2UoYCR7cHJvcGVydHl9OiR7ZWxWYWx1ZX1gLCBgJHtwcm9wZXJ0eX06JHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb21wdXRlZFN0eWxlc1tjYW1lbFByb3BlcnR5XSAhPSB2YWx1ZSAmJiAhY2xhc3NMaXN0LmNvbnRhaW5zKGAke3Byb3BlcnR5fToke3ZhbHVlfWApKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKGAke3Byb3BlcnR5fToke3ZhbHVlfWApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyhgJHtwcm9wZXJ0eX06JHtlbFZhbHVlfWApKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGAke3Byb3BlcnR5fToke2VsVmFsdWV9YCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZUlmRGlmKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmdldEF0dHJpYnV0ZShwcm9wZXJ0eSkgIT09IHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKHByb3BlcnR5KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U3R5bGVJZkRpZih7IHByb3BlcnR5LCBjYW1lbFByb3BlcnR5LCB2YWx1ZSwgY29tcHV0ZWRTdHlsZXMgfSkge1xuICAgIGlmIChjb21wdXRlZFN0eWxlc1tjYW1lbFByb3BlcnR5XSAmJiBjb21wdXRlZFN0eWxlc1tjYW1lbFByb3BlcnR5XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdHlsZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8vIENvQ3JlYXRlIFNlbGVjdCBoZWxwZXJcbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRBbGxTZWxlY3RlZE9wdGlvbnMoKSB7XG4vLyAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgPiBbc2VsZWN0ZWRdXCIpO1xuLy8gICAgIHJldHVybiBBcnJheS5mcm9tKG9wdGlvbnMpLm1hcCgobykgPT4gby5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSk7XG4vLyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsU2VsZWN0ZWRPcHRpb25zKCkge1xuICAgIGxldCBvcHRpb25zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlID4gW3NlbGVjdGVkXVwiKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShvcHRpb25zKS5mb3JFYWNoKChvKSA9PiBvLnJlbW92ZSgpKTtcbn07XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRBbGxPcHRpb25zKCkge1xuLy8gICAgIGxldCBvcHRpb25zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlID4gdWwgPiBbdmFsdWVdXCIpO1xuLy8gICAgIHJldHVybiBBcnJheS5mcm9tKG9wdGlvbnMpLm1hcCgobykgPT4gby5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSk7XG4vLyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyT3B0aW9ucyhpbnB1dCwgYXJyVmFsdWUpIHtcbiAgICBpZiAoYXJyVmFsdWUgJiYgYXJyVmFsdWUubGVuZ3RoKVxuICAgICAgICBzZWxlY3QucmVuZGVyVmFsdWUoaW5wdXQsIGFyclZhbHVlKVxuICAgIGVsc2VcbiAgICAgICAgcmVtb3ZlQWxsU2VsZWN0ZWRPcHRpb25zLmNhbGwoaW5wdXQpXG59XG4vLyBDb0NyZWF0ZSBTZWxlY3QgaGVscGVyIGVuZCAgXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDc3NSdWxlcyhzdHIpIHtcbiAgICBsZXQgc3R5bGVPYmplY3QgPSB7fTtcbiAgICBpZiAoc3RyLnNwbGl0KVxuICAgICAgICBzdHIuc3BsaXQoXCI7XCIpLmZvckVhY2goKHJ1bGUpID0+IHtcbiAgICAgICAgICAgIGxldCBydWxlU3BsaXQgPSBydWxlLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgIGxldCBrZXkgPSBydWxlU3BsaXQuc2hpZnQoKS50cmltKCk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBydWxlU3BsaXQuam9pbigpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChrZXkpIHN0eWxlT2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gc3R5bGVPYmplY3Q7XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gcmdiYTJoZXgob3JpZykge1xuICAgIGxldCBhLCBpc1BlcmNlbnQsXG4gICAgICAgIHJnYiA9IG9yaWcucmVwbGFjZSgvXFxzL2csICcnKS5tYXRjaCgvXnJnYmE/XFwoKFxcZCspLChcXGQrKSwoXFxkKyksPyhbXixcXHMpXSspPy9pKSxcbiAgICAgICAgYWxwaGEgPSAocmdiICYmIHJnYls0XSB8fCBcIlwiKS50cmltKCksXG4gICAgICAgIGhleCA9IHJnYiA/XG4gICAgICAgIChyZ2JbMV0gfCAxIDw8IDgpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSArXG4gICAgICAgIChyZ2JbMl0gfCAxIDw8IDgpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSArXG4gICAgICAgIChyZ2JbM10gfCAxIDw8IDgpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSA6IG9yaWc7XG5cbiAgICBpZiAoYWxwaGEgIT09IFwiXCIpIHtcbiAgICAgICAgYSA9IGFscGhhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYSA9IDE7XG4gICAgfVxuICAgIC8vIG11bHRpcGx5IGJlZm9yZSBjb252ZXJ0IHRvIEhFWFxuICAgIGEgPSAoKGEgKiAyNTUpIHwgMSA8PCA4KS50b1N0cmluZygxNikuc2xpY2UoMSlcbiAgICBoZXggPSBoZXggKyBhO1xuXG4gICAgcmV0dXJuIGhleDtcbn1cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuaXQoc3R5bGUpIHtcbiAgICBsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KHN0eWxlKTtcbiAgICBpZiAoaXNOYU4odmFsdWUpKVxuICAgICAgICByZXR1cm4gW3N0eWxlLCAnJ11cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHZhbHVlTGVuZ3RoID0gKHZhbHVlICsgXCJcIikubGVuZ3RoO1xuICAgICAgICByZXR1cm4gW3ZhbHVlLCBzdHlsZS5zdWJzdHIodmFsdWVMZW5ndGgpXTtcblxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdG9DYW1lbENhc2Uoc3RyKSB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBkbyB7XG4gICAgICAgIGluZGV4ID0gc3RyLmluZGV4T2YoXCItXCIsIGluZGV4KTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbGV0IHQgPSBzdHIuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzdHIuY2hhckNvZGVBdChpbmRleCArIDEpIC0gMzIpO1xuICAgICAgICAgICAgdCArPSBzdHIuc3Vic3RyKGluZGV4ICsgMik7XG4gICAgICAgICAgICBzdHIgPSB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgYnJlYWs7XG4gICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIHNldENDU3R5bGUoeyBwcm9wZXJ0eSwgY2FtZWxQcm9wZXJ0eSwgdmFsdWUsIGNvbXB1dGVkU3R5bGVzIH0pIHtcbi8vICAgICBsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuLy8gICAgIGlmIChjb21wdXRlZFN0eWxlc1tjYW1lbFByb3BlcnR5XSAgJiYgY29tcHV0ZWRTdHlsZXNbY2FtZWxQcm9wZXJ0eV0gIT09IHZhbHVlKSB7XG4vLyAgICAgICAgIGZvciAobGV0IGNsYXNzbmFtZSBvZiB0aGlzLmNsYXNzTGlzdCkge1xuLy8gICAgICAgICAgICAgbGV0IFtuYW1lLCBzdHlsZVZhbHVlXSA9IGNsYXNzbmFtZS5zcGxpdChcIjpcIik7XG4vLyAgICAgICAgICAgICBpZiAobmFtZSA9PT0gcHJvcGVydHkgJiYgc3R5bGVWYWx1ZSkge1xuLy8gICAgICAgICAgICAgICAgIGlmICh2YWx1ZSlcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVwbGFjZShjbGFzc25hbWUsIHByb3BlcnR5ICsgXCI6XCIgKyB2YWx1ZSk7XG4vLyAgICAgICAgICAgICAgICAgZWxzZVxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NuYW1lKVxuLy8gICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGlmICghaGFzQ2hhbmdlZClcbi8vICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChwcm9wZXJ0eSArIFwiOlwiICsgdmFsdWUpO1xuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICB9IGVsc2Vcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gfVxuXG5cblxuXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gZWxTdG9yZSgpIHtcbiAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuc3ByZWFkID0gZnVuY3Rpb24gc2V0KGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgeyAuLi50aGlzLmNhY2hlLmdldChrZXkpLCAuLi5vYmplY3QgfSlcbiAgICB9XG4gICAgdGhpcy5zZXQgPSBmdW5jdGlvbiBzZXQoa2V5LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5jYWNoZS5zZXQoa2V5LCB7IC4uLnRoaXMuY2FjaGUuZ2V0KGtleSksIFtwcm9wZXJ0eV06IHZhbHVlIH0pXG4gICAgfVxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gZ2V0KGtleSwgcHJvcGVydHkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jYWNoZS5nZXQoa2V5KVxuICAgICAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZVtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMucmVzZXQgPSBmdW5jdGlvbiByZXNldChrZXkpIHtcbiAgICAgICAgdGhpcy5jYWNoZS5kZWxldGUoa2V5KVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common.js\n')},"./src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _common = __webpack_require__(/*! ./common.js */ \"./src/common.js\");\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _crdt = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt */ \"../CoCreate-crdt/src/index.js\"));\n\nvar _pickr = _interopRequireDefault(__webpack_require__(/*! @cocreate/pickr */ \"../../CoCreate-plugins/CoCreate-pickr/src/index.js\"));\n\nvar _message = _interopRequireDefault(__webpack_require__(/*! @cocreate/message */ \"../CoCreate-message/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*global CoCreate*/\n// // dev start\n// import '@cocreate/select'\n// import selected from '@cocreate/selected'\n// import domToText from '@cocreate/domToText'\n// selected.config({\n//     srcDocument: document,\n//     destDocument: document,\n//     selector: \"#container *\",\n//     target: \"[data-attributes]:not(.styleunit)\",\n//     callback: (element, target) => {\n//         target.setAttribute('data-attributes_target', `[data-element_id=${element.getAttribute('data-element_id')}]`);\n//         target.setAttribute('name', target.id + '-' + element.getAttribute('data-element_id'))\n//     }\n// });\n// //profile observer\n// let profile = []\n// function profileObserver(mutation, extra = {}) {\n//     // get time\n//     let date = new Date();\n//     let time = date.getSeconds() + '.' + date.getMilliseconds()\n//     profile.push({ time, ...extra, ...mutation })\n// }\n// // dev end\nlet cache = new _common.elStore();\nlet types = ['attribute', 'classstyle', 'style', 'innerText'];\n\nfunction attributes({\n  document: initDocument,\n  exclude = \"\",\n  callback = () => {}\n}) {\n  this.exclude = exclude;\n  this.callback = callback;\n  this.initDocument = initDocument;\n}\n\nattributes.prototype.init = function init() {\n  this.scanNewElement(); // this.initDocument.defaultView.CoCreate.observer.init({\n\n  _observer.default.init({\n    name: \"ccAttribute\",\n    observe: [\"attributes\"],\n    attributes: [\"data-attributes_target\", \"value\", \"data-attributes_unit\"],\n    include: \"INPUT, .pickr, cocreate-select\",\n    callback: async m => await this.watchInputChange(m)\n  });\n\n  this.initDocument.addEventListener(\"input\", async e => {\n    let input = e.target; // input.tagName == \"COCREATE-SELECT\" && \n\n    this.perInput(input, (inputMeta, element) => this.updateElement({ ...inputMeta,\n      input,\n      element,\n      isColl: true\n    }));\n  }); // observer elements change to reflect inputs (data-units)\n\n  this.observerElements(this.initDocument.defaultView);\n\n  _message.default.listen(\"ccStyle\", args => this.listen(args));\n};\n\nattributes.prototype.listen = async function listen({\n  value,\n  unit,\n  type,\n  property,\n  camelProperty,\n  elementId,\n  elementSelector\n}) {\n  let selector = property ? `[data-attributes=${type}][data-attributes_property=${property}]:not(${this.exclude})` : `[data-attributes=${type}]:not(${this.exclude})`;\n  let input = this.initDocument.querySelector(selector); // if (selector.indexOf(';') !== -1)\n  // let element\n\n  let element = await this.complexSelector(elementSelector, (canvasDoc, selector) => canvasDoc.querySelector(selector)); // else\n  //     element = this.initDocument.querySelector(elementSelector)\n\n  this.updateElement({\n    type,\n    property,\n    camelProperty,\n    input,\n    element,\n    collValue: value,\n    unit,\n    isColl: false\n  });\n};\n\nattributes.prototype.collaborate = function collaborate({\n  element,\n  ...rest\n}) {\n  // if (value != input.value) return;\n  let elementId = element.getAttribute('data-element_id');\n  if (!elementId) return console.warn('no element id, collaboration skiped');\n  let elementSelector = rest.input.getAttribute('data-attributes_target');\n\n  _message.default.send({\n    broadcast_sender: false,\n    rooms: \"\",\n    emit: {\n      message: \"ccStyle\",\n      data: { ...rest,\n        elementId,\n        elementSelector\n      }\n    }\n  });\n};\n\nattributes.prototype.scanNewElement = function scanNewElement() {\n  this.initDocument.querySelectorAll(`[data-attributes]:not(${this.exclude})`).forEach(async input => {\n    this.perInput(input, (inputMeta, element) => this.updateInput({ ...inputMeta,\n      input,\n      element,\n      isColl: true\n    }));\n  });\n};\n\nattributes.prototype.observerElements = function observerElements(initWindow) {\n  // initWindow.CoCreate.observer.init({\n  // let observer = initWindow.CoCreate.observer ?\n  _observer.default.init({\n    name: 'ccAttribute',\n    observe: [\"attributes\", \"characterData\"],\n    callback: mutation => {\n      let element = mutation.target;\n      if (!element) return;\n      this.getInputFromElement(mutation.target).forEach(input => {\n        let inputMeta = this.validateInput(input);\n        if (!inputMeta) return;\n        this.updateInput({ ...inputMeta,\n          input,\n          element\n        });\n      });\n    }\n  });\n}; //convention based (all elements should use data-elememet_id and it's faster)\n// made it also support \"id\"\n\n\nattributes.prototype.getInputFromElement = function getInputFromElement(element) {\n  let elId = element.getAttribute('data-element_id') || element.id && `\"#${element.id}\"`;\n  if (elId) return this.initDocument.querySelectorAll(`[data-attributes_target=${elId}]`);\n  return [];\n}; // todo: discuss with\n// attributes.prototype.getInputFromElement = function getInputFromElement(element) {\n//     // let inputs = [];\n//     //todo: fix add textarea\n//     let elId = element.getAttribute('data-element_id');\n//     if(elId)\n//      this.initDocument.querySelectorAll(`[data-attributes_target]`).forEach\n// }\n\n\nattributes.prototype.watchInputChange = async function watchInputChange(mutation) {\n  try {\n    // return;\n    let element,\n        input = mutation.target;\n    let inputMeta = this.validateInput(input);\n    element = inputMeta && (await this.getElementFromInput(input));\n    if (!element) return;\n\n    if (mutation.attributeName === \"data-attributes_target\") {\n      // if (element) \n      this.updateInput({ ...inputMeta,\n        input,\n        element\n      }); // element.isFirst = element.isFirst === true ? false : true;\n    } else if (mutation.attributeName === \"data-attributes_unit\") {\n      // if (element.isFirst) return;\n      this.updateElement({ ...inputMeta,\n        input,\n        element,\n        isColl: true\n      });\n    }\n  } catch (err) {}\n};\n\nattributes.prototype.perInput = async function perInput(input, callback) {\n  try {\n    let inputMeta, element;\n    inputMeta = this.validateInput(input);\n    element = inputMeta && (await this.getElementFromInput(input));\n    if (!element) return;\n    callback(inputMeta, element);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nattributes.prototype.validateInput = function validateInput(input) {\n  let type = input.getAttribute(\"data-attributes\");\n\n  if (!type) {\n    // console.warn(\"cc-style: input doesn't have data-attributes\")\n    return;\n  }\n\n  type = type.toLowerCase();\n  let camelProperty,\n      property = input.getAttribute(\"data-attributes_property\");\n\n  if (property) {\n    camelProperty = (0, _common.toCamelCase)(property);\n    property = property.toLowerCase();\n  }\n\n  return {\n    type,\n    property,\n    camelProperty\n  };\n};\n\nattributes.prototype.updateElementByValue = function updateElementByValue({\n  type,\n  property,\n  camelProperty,\n  input,\n  element,\n  inputValue,\n  hasCollValue\n}) {\n  let computedStyles, value, removeValue, hasUpdated, unit, parsedInt;\n\n  switch (type) {\n    case 'classstyle':\n      parsedInt = parseInt(value);\n      unit = input.getAttribute('data-attributes_unit') || '';\n      value = inputValue && !hasCollValue ? inputValue + unit : inputValue;\n      value = value || '';\n      computedStyles = this.getRealStaticCompStyle(element);\n      return (0, _common.setStyleClassIfDif)(element, {\n        property,\n        camelProperty,\n        value,\n        computedStyles\n      });\n\n    case 'style':\n      unit = input.getAttribute('data-attributes_unit') || '';\n      value = inputValue && !hasCollValue ? inputValue + unit : inputValue;\n      value = value || '';\n      computedStyles = this.getRealStaticCompStyle(element);\n      return _common.setStyleIfDif.call(element, {\n        property,\n        camelProperty,\n        value,\n        computedStyles\n      });\n\n    case 'innerText':\n      if (element.innerText != inputValue) {\n        element.innerText = inputValue;\n        return true;\n      } else return false;\n\n    default:\n      if (typeof inputValue == 'string') {\n        return _common.setAttributeIfDif.call(element, type, inputValue);\n      } else {\n        for (let inputSValue of inputValue) {\n          if (inputSValue.checked) {\n            // unconventional change\n            if (type === 'data-attributes_unit' && ['auto', 'inherit', 'initial'].includes(inputSValue.value)) {\n              element.value = inputSValue.value;\n\n              _common.removeAllSelectedOptions.call(input);\n            } else // unconventional change\n              return _common.setAttributeIfDif.call(element, type, inputSValue.value);\n          }\n        }\n      }\n\n      break;\n  }\n};\n\nattributes.prototype.removeZeros = function removeZeros(str) {\n  let i = 0;\n\n  for (let len = str.length; i < len; i++) {\n    if (str[i] !== '0') break;\n  }\n\n  return str.substr(i) || str && '0';\n};\n\nattributes.prototype.updateElement = function updateElement({\n  input,\n  element,\n  collValue,\n  isColl,\n  unit,\n  type,\n  property,\n  ...rest\n}) {\n  let inputValue = collValue != undefined ? collValue : this.getInputValue(input);\n\n  if (!Array.isArray(inputValue)) {\n    inputValue = unit && inputValue ? inputValue + unit : inputValue;\n    inputValue = this.removeZeros(inputValue);\n  } else inputValue.forEach(a => this.removeZeros(a.value));\n\n  let hasUpdated = this.updateElementByValue({ ...rest,\n    type,\n    property,\n    input,\n    element,\n    inputValue,\n    hasCollValue: collValue != undefined\n  });\n  cache.reset(element); // attribute is default when it's not attribute\n\n  hasUpdated && isColl && this.collaborate({\n    value: inputValue,\n    unit: input.getAttribute('data-attributes_unit'),\n    input,\n    element,\n    type,\n    property,\n    ...rest\n  });\n\n  if (!types.includes(type)) {\n    property = type;\n    type = 'attribute';\n  }\n\n  hasUpdated && isColl && this.callback({\n    value: Array.isArray(inputValue) ? inputValue[0].value : inputValue,\n    unit: input.getAttribute('data-attributes_unit'),\n    input,\n    element,\n    type,\n    property,\n    ...rest\n  }); // not needed since crdt\n  // when function called on collboration\n  // todo: use setInputValue directly in updateElementByValue\n  // if (newValue) {\n  //     updateInput({...rest, element, input, })\n  // }\n};\n\nattributes.prototype.updateInput = function updateInput({\n  type,\n  property,\n  camelProperty,\n  element,\n  input\n}) {\n  let computedStyles, value, value2, styleValue, unit;\n  if (!input) return console.error('CoCreate Attributes: input not found/dev');\n\n  switch (type) {\n    case 'classstyle':\n      let ccStyle = (0, _common.getCoCreateStyle)(element.classList);\n      if (ccStyle[camelProperty]) value2 = ccStyle[camelProperty];else {\n        computedStyles = this.getRealStaticCompStyle(element);\n        value2 = computedStyles[camelProperty];\n      }\n\n      if (!value2) {\n        return console.warn(`\"${property}\" can not be found in style object`);\n      }\n\n      [styleValue, unit] = (0, _common.parseUnit)(value2);\n      value = styleValue;\n\n      _common.setAttributeIfDif.call(input, \"data-attributes_unit\", unit);\n\n      break;\n\n    case 'style':\n      computedStyles = this.getRealStaticCompStyle(element);\n      value2 = computedStyles[camelProperty];\n\n      if (!value2) {\n        return console.warn(`\"${property}\" can not be found in style object`);\n      }\n\n      [styleValue, unit] = (0, _common.parseUnit)(value2);\n      value = styleValue;\n\n      _common.setAttributeIfDif.call(input, \"data-attributes_unit\", unit);\n\n    case 'innerText':\n      value = element.innerText;\n      break;\n\n    default:\n      value = element.getAttribute(type);\n      break;\n  }\n\n  this.setInputValue(input, value != undefined ? value : '');\n};\n\nattributes.prototype.setInputValue = function setInputValue(input, value) {\n  // console.log(input.getAttribute('name'))\n  let inputType = input.tagName.toLowerCase() || input.classList.has('.pickr') && 'pickr';\n\n  switch (inputType) {\n    // case 'input':\n    //     switch (input.type) {\n    //         case 'checkbox':\n    //         case 'radio':\n    //             input.checked = value == input.value ? true : false;\n    //             break;\n    //         default:\n    //             input.value = value;\n    //     }\n    //     break;\n    // case \"textarea\":\n    //     input.value = value;\n    //     break;\n    case 'select':\n      let options = Array.from(input.options);\n      options.forEach(option => {\n        if (value == option.value) input.selectedIndex = options.indexOf(option);\n      });\n      break;\n\n    case 'cocreate-select':\n      (0, _common.renderOptions)(input, value);\n      break;\n\n    case 'pickr':\n      // todo: how to perform validation\n      let pickrIns = _pickr.default.refs.get(input);\n\n      _pickr.default.disabledEvent = true;\n      pickrIns.setColor(value); // todo: style or value\n\n      _pickr.default.disabledEvent = false;\n\n    default:\n      _crdt.default.replaceText({\n        collection: 'aaaaa',\n        document_id: 'null',\n        name: input.getAttribute('name'),\n        value: value + '',\n        position: '0'\n      });\n\n    // console.warn('CoCreateStyle: unidentified input: ', inputType, 'input ', input)\n  }\n};\n\nattributes.prototype.packMultiValue = function packMultiValue({\n  inputs,\n  stateProperty,\n  valueProperty = \"value\",\n  forceState\n}) {\n  let value = [];\n  Array.from(inputs).forEach(input => {\n    value.push({\n      checked: forceState || input[stateProperty],\n      value: input[valueProperty] || input.getAttribute(valueProperty)\n    });\n  });\n  return value;\n};\n\nattributes.prototype.getInputValue = function getInputValue(input) {\n  if (!input) return;\n  let inputType = input.tagName.toLowerCase() || input.classList.has('.pickr') && 'pickr';\n\n  switch (inputType) {\n    case 'input':\n      switch (input.type) {\n        case 'checkbox':\n        case 'radio':\n          return this.packMultiValue({\n            inputs: this.initDocument.getElementsByName(input.name),\n            stateProperty: 'checked'\n          });\n\n        default:\n          return input.value;\n      }\n\n    case \"textarea\":\n      return input.value;\n\n    case 'select':\n      return this.packMultiValue({\n        inputs: input.options,\n        stateProperty: 'selected'\n      });\n\n    case 'cocreate-select':\n      return this.packMultiValue({\n        inputs: input.querySelectorAll(\":scope > [selected]\"),\n        forceState: true\n      });\n\n    case 'pickr':\n      // todo: how to perform validation\n      // if (!CoCreate.pickr.refs.has(input)) return; \n      let pickrIns = _pickr.default.refs.get(input);\n\n      return pickrIns ? pickrIns.getColor().toHEXA().toString() : '';\n\n    default:\n      console.warn('CoCreateStyle: unidentified input');\n      break;\n  }\n};\n\nattributes.prototype.getElementFromInput = async function getElementFromInput(input) {\n  let id = input.getAttribute(\"data-attributes_target\");\n\n  if (id) {\n    if (id.indexOf(';') !== -1) {\n      let el = await this.complexSelector(id, (canvasDoc, selector) => canvasDoc.querySelector(selector));\n      return el;\n    } else return this.initDocument.querySelector(id);\n  } else return false;\n};\n\nattributes.prototype.getRealStaticCompStyle = function getRealStaticCompStyle(element) {\n  if (cache.get(element, 'valid')) return cache.get(element, 'computedStyles');\n  setTimeout(() => {\n    cache.reset(element);\n  }, 5000);\n  let oldDispaly = element.style.display;\n  element.style.display = \"none\";\n  let computedStylesLive = window.getComputedStyle(element);\n  let computedStyles = Object.assign({}, computedStylesLive);\n  computedStyles.display = oldDispaly;\n  element.style.display = oldDispaly;\n  if (element.getAttribute(\"style\") == \"\") element.removeAttribute(\"style\");\n  element.removeAttribute('no-observe');\n  cache.spread(element, {\n    computedStyles,\n    valid: true\n  });\n  return computedStyles;\n};\n\nattributes.prototype.complexSelector = async function complexSelector(comSelector, callback) {\n  let [canvasSelector, selector] = comSelector.split(';');\n  let canvas = document.querySelector(canvasSelector);\n\n  if (!canvas) {\n    console.warn('complex selector canvas now found for', comSelector);\n    return;\n  }\n\n  if (\n  /*!canvas.contentWindow.observedByCCAttributes &&*/\n  canvas.contentDocument.readyState === 'loading') {\n    try {\n      await new Promise((resolve, reject) => {\n        canvas.contentWindow.addEventListener('load', e => resolve());\n      });\n    } catch (err) {\n      console.error('iframe can not be loaded');\n    } // this.observerElements(canvas.contentWindow)\n    // canvas.contentWindow.observedByCCAttributes = true;\n\n  }\n\n  return callback(canvas.contentWindow.document, selector);\n}; // attributes.prototype.getInputs = function getInputs(element) {\n//     let inputs = [];\n//     let allInputs = Array.from(document.getElementsByTagName(\"input\"));\n//     allInputs.forEach((inputCandidate) => {\n//         let inputMeta = getInputMetaData(inputCandidate);\n//         if (!inputMeta) return;\n//         let allReferencedEl = allFrame((frame) =>\n//             frame.querySelectorAll(\n//                 inputMeta.input.getAttribute(\"data-attributes_target\")\n//             )\n//         );\n//         if (Array.from(allReferencedEl).includes(element)) {\n//             inputs.push(inputMeta.input);\n//         }\n//     });\n//     return inputs;\n// }\n//attributes.prototype.perInput =  async function perInput(input, callback) {\n//     let inputMeta, element, group = input.getAttribute(\"data-attributes_group\");\n//     if (group) {\n//         [inputMeta, element] = getInputsMetaData(input);\n//     } else {\n//         inputMeta = validateInput(input);\n//         element = await getElementFromInput(input);\n//     }\n//     if (!inputMeta || !element) return;\n//     if (Array.isArray(inputMeta))\n//         inputMeta.forEach(async(metas) => callback(metas, element))\n//     else\n//         callback(inputMeta, element)\n// }\n//attributes.prototype.getInputsMetaData =  function getInputsMetaData(input) {\n//     let list = [],\n//         inputs = [];\n//     let element = getElementFromInput(input)\n//     let realInputs = input.querySelectorAll(group);\n//     realInputs.forEach(inp => {\n//         \n//         inputs.push(inp)\n//         list.push(validateInput(inp))\n//     })\n//     groupEl.set(input, inputs);\n//     return [list, element];\n// }\n// window.addEventListener('load', () => {\n//     let attribute = new attributes({ document, exclude: '#ghostEffect,.vdom-item ',\n//       callback: ({\n//         value,\n//         type,\n//         property,\n//         element,\n//     }) => {\n//           if (document.contains(element))\n//         domToText.domToText({\n//           method: type == 'attribute' ? 'setAttribute' : type, \n//           property: property,\n//           target: element.getAttribute(\"data-element_id\"),\n//           tagName: element.tagName,\n//           value,\n//           ...crdtCon\n//         })\n//     },})\n//     attribute.init()\n// })\n// let s = new attributes({\n//     document,\n//     exclude: '#ghostEffect,.vdom-item ',\n//     callback: ({\n//         value,\n//         type,\n//         property,\n//         element,\n//     }) => {\n//           if (document.contains(element))\n//         domToText.domToText({\n//           method: type == 'attribute' ? 'setAttribute' : type, \n//           property: property,\n//           target: element.getAttribute(\"data-element_id\"),\n//           tagName: element.tagName,\n//           value,\n//           ...crdtCon\n//         })\n//     },\n// })\n// s.init();\n\n\nvar _default = {\n  init: params => {\n    let s = new attributes(params);\n    s.init();\n    return s;\n  }\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwibmFtZXMiOlsiY2FjaGUiLCJlbFN0b3JlIiwidHlwZXMiLCJhdHRyaWJ1dGVzIiwiZG9jdW1lbnQiLCJpbml0RG9jdW1lbnQiLCJleGNsdWRlIiwiY2FsbGJhY2siLCJwcm90b3R5cGUiLCJpbml0Iiwic2Nhbk5ld0VsZW1lbnQiLCJvYnNlcnZlciIsIm5hbWUiLCJvYnNlcnZlIiwiaW5jbHVkZSIsIm0iLCJ3YXRjaElucHV0Q2hhbmdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJpbnB1dCIsInRhcmdldCIsInBlcklucHV0IiwiaW5wdXRNZXRhIiwiZWxlbWVudCIsInVwZGF0ZUVsZW1lbnQiLCJpc0NvbGwiLCJvYnNlcnZlckVsZW1lbnRzIiwiZGVmYXVsdFZpZXciLCJtZXNzYWdlIiwibGlzdGVuIiwiYXJncyIsInZhbHVlIiwidW5pdCIsInR5cGUiLCJwcm9wZXJ0eSIsImNhbWVsUHJvcGVydHkiLCJlbGVtZW50SWQiLCJlbGVtZW50U2VsZWN0b3IiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJjb21wbGV4U2VsZWN0b3IiLCJjYW52YXNEb2MiLCJjb2xsVmFsdWUiLCJjb2xsYWJvcmF0ZSIsInJlc3QiLCJnZXRBdHRyaWJ1dGUiLCJjb25zb2xlIiwid2FybiIsInNlbmQiLCJicm9hZGNhc3Rfc2VuZGVyIiwicm9vbXMiLCJlbWl0IiwiZGF0YSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwidXBkYXRlSW5wdXQiLCJpbml0V2luZG93IiwibXV0YXRpb24iLCJnZXRJbnB1dEZyb21FbGVtZW50IiwidmFsaWRhdGVJbnB1dCIsImVsSWQiLCJpZCIsImdldEVsZW1lbnRGcm9tSW5wdXQiLCJhdHRyaWJ1dGVOYW1lIiwiZXJyIiwiZXJyb3IiLCJ0b0xvd2VyQ2FzZSIsInVwZGF0ZUVsZW1lbnRCeVZhbHVlIiwiaW5wdXRWYWx1ZSIsImhhc0NvbGxWYWx1ZSIsImNvbXB1dGVkU3R5bGVzIiwicmVtb3ZlVmFsdWUiLCJoYXNVcGRhdGVkIiwicGFyc2VkSW50IiwicGFyc2VJbnQiLCJnZXRSZWFsU3RhdGljQ29tcFN0eWxlIiwic2V0U3R5bGVJZkRpZiIsImNhbGwiLCJpbm5lclRleHQiLCJzZXRBdHRyaWJ1dGVJZkRpZiIsImlucHV0U1ZhbHVlIiwiY2hlY2tlZCIsImluY2x1ZGVzIiwicmVtb3ZlQWxsU2VsZWN0ZWRPcHRpb25zIiwicmVtb3ZlWmVyb3MiLCJzdHIiLCJpIiwibGVuIiwibGVuZ3RoIiwic3Vic3RyIiwidW5kZWZpbmVkIiwiZ2V0SW5wdXRWYWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImEiLCJyZXNldCIsInZhbHVlMiIsInN0eWxlVmFsdWUiLCJjY1N0eWxlIiwiY2xhc3NMaXN0Iiwic2V0SW5wdXRWYWx1ZSIsImlucHV0VHlwZSIsInRhZ05hbWUiLCJoYXMiLCJvcHRpb25zIiwiZnJvbSIsIm9wdGlvbiIsInNlbGVjdGVkSW5kZXgiLCJpbmRleE9mIiwicGlja3JJbnMiLCJwaWNrciIsInJlZnMiLCJnZXQiLCJkaXNhYmxlZEV2ZW50Iiwic2V0Q29sb3IiLCJjcmR0IiwicmVwbGFjZVRleHQiLCJjb2xsZWN0aW9uIiwiZG9jdW1lbnRfaWQiLCJwb3NpdGlvbiIsInBhY2tNdWx0aVZhbHVlIiwiaW5wdXRzIiwic3RhdGVQcm9wZXJ0eSIsInZhbHVlUHJvcGVydHkiLCJmb3JjZVN0YXRlIiwicHVzaCIsImdldEVsZW1lbnRzQnlOYW1lIiwiZ2V0Q29sb3IiLCJ0b0hFWEEiLCJ0b1N0cmluZyIsImVsIiwic2V0VGltZW91dCIsIm9sZERpc3BhbHkiLCJzdHlsZSIsImRpc3BsYXkiLCJjb21wdXRlZFN0eWxlc0xpdmUiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiT2JqZWN0IiwiYXNzaWduIiwicmVtb3ZlQXR0cmlidXRlIiwic3ByZWFkIiwidmFsaWQiLCJjb21TZWxlY3RvciIsImNhbnZhc1NlbGVjdG9yIiwic3BsaXQiLCJjYW52YXMiLCJjb250ZW50RG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb250ZW50V2luZG93IiwicGFyYW1zIiwicyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQWVBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBcEJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQSxJQUFJQSxLQUFLLEdBQUcsSUFBSUMsZUFBSixFQUFaO0FBQ0EsSUFBSUMsS0FBSyxHQUFHLENBQUMsV0FBRCxFQUFjLFlBQWQsRUFBNEIsT0FBNUIsRUFBcUMsV0FBckMsQ0FBWjs7QUFFQSxTQUFTQyxVQUFULENBQW9CO0FBQUVDLFVBQVEsRUFBRUMsWUFBWjtBQUEwQkMsU0FBTyxHQUFHLEVBQXBDO0FBQXdDQyxVQUFRLEdBQUcsTUFBTSxDQUFFO0FBQTNELENBQXBCLEVBQW1GO0FBQy9FLE9BQUtELE9BQUwsR0FBZUEsT0FBZjtBQUNBLE9BQUtDLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsT0FBS0YsWUFBTCxHQUFvQkEsWUFBcEI7QUFFSDs7QUFHREYsVUFBVSxDQUFDSyxTQUFYLENBQXFCQyxJQUFyQixHQUE0QixTQUFTQSxJQUFULEdBQWdCO0FBR3hDLE9BQUtDLGNBQUwsR0FId0MsQ0FJeEM7O0FBQ0FDLG9CQUFTRixJQUFULENBQWM7QUFDVkcsUUFBSSxFQUFFLGFBREk7QUFFVkMsV0FBTyxFQUFFLENBQUMsWUFBRCxDQUZDO0FBR1ZWLGNBQVUsRUFBRSxDQUFDLHdCQUFELEVBQTJCLE9BQTNCLEVBQW9DLHNCQUFwQyxDQUhGO0FBSVZXLFdBQU8sRUFBRSxnQ0FKQztBQUtWUCxZQUFRLEVBQUUsTUFBTVEsQ0FBTixJQUFXLE1BQU0sS0FBS0MsZ0JBQUwsQ0FBc0JELENBQXRCO0FBTGpCLEdBQWQ7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LFFBQWhDLENBQWY7QUFDSCxDQXRCRCxDLENBOEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7ZUFJZTtBQUNYN0IsTUFBSSxFQUFHZ0osTUFBRCxJQUFZO0FBQ2QsUUFBSUMsQ0FBQyxHQUFHLElBQUl2SixVQUFKLENBQWVzSixNQUFmLENBQVI7QUFDQUMsS0FBQyxDQUFDakosSUFBRjtBQUNBLFdBQU9pSixDQUFQO0FBQ0g7QUFMVSxDIiwiZmlsZSI6Ii4vc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgQ29DcmVhdGUqL1xuXG5pbXBvcnQge1xuICAgIGVsU3RvcmUsXG4gICAgcGFyc2VDc3NSdWxlcyxcbiAgICByZW5kZXJPcHRpb25zLFxuICAgIHJlbW92ZUFsbFNlbGVjdGVkT3B0aW9ucyxcbiAgICBzZXRTdHlsZUlmRGlmLFxuICAgIHNldEF0dHJpYnV0ZUlmRGlmLFxuICAgIHNldFN0eWxlQ2xhc3NJZkRpZixcbiAgICBnZXRDb0NyZWF0ZVN0eWxlLFxuICAgIHRvQ2FtZWxDYXNlLFxuICAgIHBhcnNlVW5pdCxcbiAgICByZ2JhMmhleFxufVxuZnJvbSAnLi9jb21tb24uanMnO1xuXG5pbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IGNyZHQgZnJvbSAnQGNvY3JlYXRlL2NyZHQnXG5pbXBvcnQgcGlja3IgZnJvbSAnQGNvY3JlYXRlL3BpY2tyJ1xuaW1wb3J0IG1lc3NhZ2UgZnJvbSAnQGNvY3JlYXRlL21lc3NhZ2UnXG4vLyAvLyBkZXYgc3RhcnRcbi8vIGltcG9ydCAnQGNvY3JlYXRlL3NlbGVjdCdcbi8vIGltcG9ydCBzZWxlY3RlZCBmcm9tICdAY29jcmVhdGUvc2VsZWN0ZWQnXG4vLyBpbXBvcnQgZG9tVG9UZXh0IGZyb20gJ0Bjb2NyZWF0ZS9kb21Ub1RleHQnXG5cblxuLy8gc2VsZWN0ZWQuY29uZmlnKHtcbi8vICAgICBzcmNEb2N1bWVudDogZG9jdW1lbnQsXG4vLyAgICAgZGVzdERvY3VtZW50OiBkb2N1bWVudCxcbi8vICAgICBzZWxlY3RvcjogXCIjY29udGFpbmVyICpcIixcbi8vICAgICB0YXJnZXQ6IFwiW2RhdGEtYXR0cmlidXRlc106bm90KC5zdHlsZXVuaXQpXCIsXG4vLyAgICAgY2FsbGJhY2s6IChlbGVtZW50LCB0YXJnZXQpID0+IHtcbi8vICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YS1hdHRyaWJ1dGVzX3RhcmdldCcsIGBbZGF0YS1lbGVtZW50X2lkPSR7ZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZWxlbWVudF9pZCcpfV1gKTtcbi8vICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnbmFtZScsIHRhcmdldC5pZCArICctJyArIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWVsZW1lbnRfaWQnKSlcbi8vICAgICB9XG4vLyB9KTtcblxuXG5cblxuXG5cbi8vIC8vcHJvZmlsZSBvYnNlcnZlclxuLy8gbGV0IHByb2ZpbGUgPSBbXVxuXG4vLyBmdW5jdGlvbiBwcm9maWxlT2JzZXJ2ZXIobXV0YXRpb24sIGV4dHJhID0ge30pIHtcblxuLy8gICAgIC8vIGdldCB0aW1lXG4vLyAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuLy8gICAgIGxldCB0aW1lID0gZGF0ZS5nZXRTZWNvbmRzKCkgKyAnLicgKyBkYXRlLmdldE1pbGxpc2Vjb25kcygpXG4vLyAgICAgcHJvZmlsZS5wdXNoKHsgdGltZSwgLi4uZXh0cmEsIC4uLm11dGF0aW9uIH0pXG4vLyB9XG5cblxuLy8gLy8gZGV2IGVuZFxuXG5sZXQgY2FjaGUgPSBuZXcgZWxTdG9yZSgpO1xubGV0IHR5cGVzID0gWydhdHRyaWJ1dGUnLCAnY2xhc3NzdHlsZScsICdzdHlsZScsICdpbm5lclRleHQnXVxuXG5mdW5jdGlvbiBhdHRyaWJ1dGVzKHsgZG9jdW1lbnQ6IGluaXREb2N1bWVudCwgZXhjbHVkZSA9IFwiXCIsIGNhbGxiYWNrID0gKCkgPT4ge30gfSkge1xuICAgIHRoaXMuZXhjbHVkZSA9IGV4Y2x1ZGU7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuaW5pdERvY3VtZW50ID0gaW5pdERvY3VtZW50O1xuXG59XG5cblxuYXR0cmlidXRlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG5cblxuICAgIHRoaXMuc2Nhbk5ld0VsZW1lbnQoKVxuICAgIC8vIHRoaXMuaW5pdERvY3VtZW50LmRlZmF1bHRWaWV3LkNvQ3JlYXRlLm9ic2VydmVyLmluaXQoe1xuICAgIG9ic2VydmVyLmluaXQoe1xuICAgICAgICBuYW1lOiBcImNjQXR0cmlidXRlXCIsXG4gICAgICAgIG9ic2VydmU6IFtcImF0dHJpYnV0ZXNcIl0sXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtcImRhdGEtYXR0cmlidXRlc190YXJnZXRcIiwgXCJ2YWx1ZVwiLCBcImRhdGEtYXR0cmlidXRlc191bml0XCJdLFxuICAgICAgICBpbmNsdWRlOiBcIklOUFVULCAucGlja3IsIGNvY3JlYXRlLXNlbGVjdFwiLFxuICAgICAgICBjYWxsYmFjazogYXN5bmMgbSA9PiBhd2FpdCB0aGlzLndhdGNoSW5wdXRDaGFuZ2UobSksXG4gICAgfSk7XG4gICAgdGhpcy5pbml0RG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGFzeW5jKGUpID0+IHtcbiAgICAgICAgbGV0IGlucHV0ID0gZS50YXJnZXQ7XG4gICAgICAgIC8vIGlucHV0LnRhZ05hbWUgPT0gXCJDT0NSRUFURS1TRUxFQ1RcIiAmJiBcbiAgICAgICAgdGhpcy5wZXJJbnB1dChpbnB1dCwgKGlucHV0TWV0YSwgZWxlbWVudCkgPT5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudCh7IC4uLmlucHV0TWV0YSwgaW5wdXQsIGVsZW1lbnQsIGlzQ29sbDogdHJ1ZSB9KSlcbiAgICB9KTtcblxuXG4gICAgLy8gb2JzZXJ2ZXIgZWxlbWVudHMgY2hhbmdlIHRvIHJlZmxlY3QgaW5wdXRzIChkYXRhLXVuaXRzKVxuICAgIHRoaXMub2JzZXJ2ZXJFbGVtZW50cyh0aGlzLmluaXREb2N1bWVudC5kZWZhdWx0Vmlldyk7XG5cbiAgICBtZXNzYWdlLmxpc3RlbihcImNjU3R5bGVcIiwgKGFyZ3MpID0+IHRoaXMubGlzdGVuKGFyZ3MpKTtcblxuXG5cbn1cblxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS5saXN0ZW4gPSBhc3luYyBmdW5jdGlvbiBsaXN0ZW4oe1xuICAgIHZhbHVlLFxuICAgIHVuaXQsXG4gICAgdHlwZSxcbiAgICBwcm9wZXJ0eSxcbiAgICBjYW1lbFByb3BlcnR5LFxuICAgIGVsZW1lbnRJZCxcbiAgICBlbGVtZW50U2VsZWN0b3Jcbn0pIHtcblxuXG4gICAgbGV0IHNlbGVjdG9yID0gcHJvcGVydHkgPyBgW2RhdGEtYXR0cmlidXRlcz0ke3R5cGV9XVtkYXRhLWF0dHJpYnV0ZXNfcHJvcGVydHk9JHtwcm9wZXJ0eX1dOm5vdCgke3RoaXMuZXhjbHVkZX0pYCA6IGBbZGF0YS1hdHRyaWJ1dGVzPSR7dHlwZX1dOm5vdCgke3RoaXMuZXhjbHVkZX0pYDtcblxuICAgIGxldCBpbnB1dCA9IHRoaXMuaW5pdERvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIHNlbGVjdG9yXG4gICAgKTtcbiAgICAvLyBpZiAoc2VsZWN0b3IuaW5kZXhPZignOycpICE9PSAtMSlcbiAgICAvLyBsZXQgZWxlbWVudFxuICAgIGxldCBlbGVtZW50ID0gYXdhaXQgdGhpcy5jb21wbGV4U2VsZWN0b3IoZWxlbWVudFNlbGVjdG9yLFxuICAgICAgICAoY2FudmFzRG9jLCBzZWxlY3RvcikgPT4gY2FudmFzRG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKTtcbiAgICAvLyBlbHNlXG4gICAgLy8gICAgIGVsZW1lbnQgPSB0aGlzLmluaXREb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRTZWxlY3RvcilcblxuICAgIHRoaXMudXBkYXRlRWxlbWVudCh7IHR5cGUsIHByb3BlcnR5LCBjYW1lbFByb3BlcnR5LCBpbnB1dCwgZWxlbWVudCwgY29sbFZhbHVlOiB2YWx1ZSwgdW5pdCwgaXNDb2xsOiBmYWxzZSB9KVxuXG5cbn1cblxuYXR0cmlidXRlcy5wcm90b3R5cGUuY29sbGFib3JhdGUgPSBmdW5jdGlvbiBjb2xsYWJvcmF0ZSh7XG4gICAgZWxlbWVudCxcbiAgICAuLi5yZXN0XG59KSB7XG4gICAgLy8gaWYgKHZhbHVlICE9IGlucHV0LnZhbHVlKSByZXR1cm47XG4gICAgbGV0IGVsZW1lbnRJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWVsZW1lbnRfaWQnKTtcbiAgICBpZiAoIWVsZW1lbnRJZClcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUud2Fybignbm8gZWxlbWVudCBpZCwgY29sbGFib3JhdGlvbiBza2lwZWQnKTtcbiAgICBsZXQgZWxlbWVudFNlbGVjdG9yID0gcmVzdC5pbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXR0cmlidXRlc190YXJnZXQnKTtcblxuXG5cbiAgICBtZXNzYWdlLnNlbmQoe1xuICAgICAgICBicm9hZGNhc3Rfc2VuZGVyOiBmYWxzZSxcbiAgICAgICAgcm9vbXM6IFwiXCIsXG4gICAgICAgIGVtaXQ6IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiY2NTdHlsZVwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgZWxlbWVudElkLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRTZWxlY3RvclxuICAgICAgICAgICAgfSxcblxuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS5zY2FuTmV3RWxlbWVudCA9IGZ1bmN0aW9uIHNjYW5OZXdFbGVtZW50KCkge1xuICAgIHRoaXMuaW5pdERvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWF0dHJpYnV0ZXNdOm5vdCgke3RoaXMuZXhjbHVkZX0pYCkuZm9yRWFjaChhc3luYyhpbnB1dCkgPT4ge1xuICAgICAgICB0aGlzLnBlcklucHV0KGlucHV0LCAoaW5wdXRNZXRhLCBlbGVtZW50KSA9PlxuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dCh7IC4uLmlucHV0TWV0YSwgaW5wdXQsIGVsZW1lbnQsIGlzQ29sbDogdHJ1ZSB9KSlcbiAgICB9KTtcbn1cbmF0dHJpYnV0ZXMucHJvdG90eXBlLm9ic2VydmVyRWxlbWVudHMgPSBmdW5jdGlvbiBvYnNlcnZlckVsZW1lbnRzKGluaXRXaW5kb3cpIHtcbiAgICAvLyBpbml0V2luZG93LkNvQ3JlYXRlLm9ic2VydmVyLmluaXQoe1xuICAgIC8vIGxldCBvYnNlcnZlciA9IGluaXRXaW5kb3cuQ29DcmVhdGUub2JzZXJ2ZXIgP1xuICAgIG9ic2VydmVyLmluaXQoe1xuICAgICAgICBuYW1lOiAnY2NBdHRyaWJ1dGUnLFxuICAgICAgICBvYnNlcnZlOiBbXCJhdHRyaWJ1dGVzXCIsIFwiY2hhcmFjdGVyRGF0YVwiXSxcbiAgICAgICAgY2FsbGJhY2s6IChtdXRhdGlvbikgPT4ge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBtdXRhdGlvbi50YXJnZXQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuZ2V0SW5wdXRGcm9tRWxlbWVudChtdXRhdGlvbi50YXJnZXQpLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpbnB1dE1ldGEgPSB0aGlzLnZhbGlkYXRlSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXRNZXRhKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dCh7IC4uLmlucHV0TWV0YSwgaW5wdXQsIGVsZW1lbnQgfSk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbi8vY29udmVudGlvbiBiYXNlZCAoYWxsIGVsZW1lbnRzIHNob3VsZCB1c2UgZGF0YS1lbGVtZW1ldF9pZCBhbmQgaXQncyBmYXN0ZXIpXG4vLyBtYWRlIGl0IGFsc28gc3VwcG9ydCBcImlkXCJcbmF0dHJpYnV0ZXMucHJvdG90eXBlLmdldElucHV0RnJvbUVsZW1lbnQgPSBmdW5jdGlvbiBnZXRJbnB1dEZyb21FbGVtZW50KGVsZW1lbnQpIHtcblxuXG4gICAgbGV0IGVsSWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1lbGVtZW50X2lkJykgfHwgZWxlbWVudC5pZCAmJiBgXCIjJHtlbGVtZW50LmlkIH1cImA7XG4gICAgaWYgKGVsSWQpXG4gICAgICAgIHJldHVybiB0aGlzLmluaXREb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1hdHRyaWJ1dGVzX3RhcmdldD0ke2VsSWR9XWApXG4gICAgcmV0dXJuIFtdXG5cbn1cblxuLy8gdG9kbzogZGlzY3VzcyB3aXRoXG4vLyBhdHRyaWJ1dGVzLnByb3RvdHlwZS5nZXRJbnB1dEZyb21FbGVtZW50ID0gZnVuY3Rpb24gZ2V0SW5wdXRGcm9tRWxlbWVudChlbGVtZW50KSB7XG5cbi8vICAgICAvLyBsZXQgaW5wdXRzID0gW107XG5cbi8vICAgICAvL3RvZG86IGZpeCBhZGQgdGV4dGFyZWFcbi8vICAgICBsZXQgZWxJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWVsZW1lbnRfaWQnKTtcbi8vICAgICBpZihlbElkKVxuLy8gICAgICB0aGlzLmluaXREb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1hdHRyaWJ1dGVzX3RhcmdldF1gKS5mb3JFYWNoXG5cbi8vIH1cblxuYXR0cmlidXRlcy5wcm90b3R5cGUud2F0Y2hJbnB1dENoYW5nZSA9IGFzeW5jIGZ1bmN0aW9uIHdhdGNoSW5wdXRDaGFuZ2UobXV0YXRpb24pIHtcbiAgICB0cnkge1xuICAgICAgICAvLyByZXR1cm47XG4gICAgICAgIGxldCBlbGVtZW50LCBpbnB1dCA9IG11dGF0aW9uLnRhcmdldDtcbiAgICAgICAgbGV0IGlucHV0TWV0YSA9IHRoaXMudmFsaWRhdGVJbnB1dChpbnB1dCk7XG5cblxuICAgICAgICBlbGVtZW50ID0gaW5wdXRNZXRhICYmIGF3YWl0IHRoaXMuZ2V0RWxlbWVudEZyb21JbnB1dChpbnB1dCk7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm5cblxuXG4gICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSBcImRhdGEtYXR0cmlidXRlc190YXJnZXRcIikge1xuICAgICAgICAgICAgLy8gaWYgKGVsZW1lbnQpIFxuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dCh7IC4uLmlucHV0TWV0YSwgaW5wdXQsIGVsZW1lbnQgfSk7XG4gICAgICAgICAgICAvLyBlbGVtZW50LmlzRmlyc3QgPSBlbGVtZW50LmlzRmlyc3QgPT09IHRydWUgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gXCJkYXRhLWF0dHJpYnV0ZXNfdW5pdFwiKSB7XG4gICAgICAgICAgICAvLyBpZiAoZWxlbWVudC5pc0ZpcnN0KSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoeyAuLi5pbnB1dE1ldGEsIGlucHV0LCBlbGVtZW50LCBpc0NvbGw6IHRydWUgfSlcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG5cbiAgICB9XG5cbn1cblxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS5wZXJJbnB1dCA9IGFzeW5jIGZ1bmN0aW9uIHBlcklucHV0KGlucHV0LCBjYWxsYmFjaykge1xuXG5cbiAgICB0cnkge1xuICAgICAgICBsZXQgaW5wdXRNZXRhLCBlbGVtZW50O1xuICAgICAgICBpbnB1dE1ldGEgPSB0aGlzLnZhbGlkYXRlSW5wdXQoaW5wdXQpO1xuICAgICAgICBlbGVtZW50ID0gaW5wdXRNZXRhICYmIGF3YWl0IHRoaXMuZ2V0RWxlbWVudEZyb21JbnB1dChpbnB1dCk7XG4gICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuICAgICAgICBjYWxsYmFjayhpbnB1dE1ldGEsIGVsZW1lbnQpXG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgIH1cblxufVxuXG5cblxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS52YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24gdmFsaWRhdGVJbnB1dChpbnB1dCkge1xuICAgIGxldCB0eXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdHRyaWJ1dGVzXCIpO1xuICAgIGlmICghdHlwZSkge1xuICAgICAgICAvLyBjb25zb2xlLndhcm4oXCJjYy1zdHlsZTogaW5wdXQgZG9lc24ndCBoYXZlIGRhdGEtYXR0cmlidXRlc1wiKVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG5cblxuICAgIGxldCBjYW1lbFByb3BlcnR5LCBwcm9wZXJ0eSA9IGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtYXR0cmlidXRlc19wcm9wZXJ0eVwiKTtcbiAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgICAgY2FtZWxQcm9wZXJ0eSA9IHRvQ2FtZWxDYXNlKHByb3BlcnR5KTtcbiAgICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcHJvcGVydHksXG4gICAgICAgIGNhbWVsUHJvcGVydHksXG5cbiAgICB9O1xufVxuXG5cbmF0dHJpYnV0ZXMucHJvdG90eXBlLnVwZGF0ZUVsZW1lbnRCeVZhbHVlID0gZnVuY3Rpb24gdXBkYXRlRWxlbWVudEJ5VmFsdWUoeyB0eXBlLCBwcm9wZXJ0eSwgY2FtZWxQcm9wZXJ0eSwgaW5wdXQsIGVsZW1lbnQsIGlucHV0VmFsdWUsIGhhc0NvbGxWYWx1ZSB9KSB7XG4gICAgbGV0IGNvbXB1dGVkU3R5bGVzLCB2YWx1ZSwgcmVtb3ZlVmFsdWUsIGhhc1VwZGF0ZWQsIHVuaXQsIHBhcnNlZEludDtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcblxuXG5cbiAgICAgICAgY2FzZSAnY2xhc3NzdHlsZSc6XG4gICAgICAgICAgICBwYXJzZWRJbnQgPSBwYXJzZUludCh2YWx1ZSlcblxuICAgICAgICAgICAgdW5pdCA9IChpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXR0cmlidXRlc191bml0JykgfHwgJycpO1xuICAgICAgICAgICAgdmFsdWUgPSBpbnB1dFZhbHVlICYmICFoYXNDb2xsVmFsdWUgPyBpbnB1dFZhbHVlICsgdW5pdCA6IGlucHV0VmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIHx8ICcnO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMgPSB0aGlzLmdldFJlYWxTdGF0aWNDb21wU3R5bGUoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gc2V0U3R5bGVDbGFzc0lmRGlmKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBjYW1lbFByb3BlcnR5LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVzXG4gICAgICAgICAgICB9KVxuXG5cbiAgICAgICAgY2FzZSAnc3R5bGUnOlxuICAgICAgICAgICAgdW5pdCA9IChpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXR0cmlidXRlc191bml0JykgfHwgJycpO1xuICAgICAgICAgICAgdmFsdWUgPSBpbnB1dFZhbHVlICYmICFoYXNDb2xsVmFsdWUgPyBpbnB1dFZhbHVlICsgdW5pdCA6IGlucHV0VmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIHx8ICcnO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMgPSB0aGlzLmdldFJlYWxTdGF0aWNDb21wU3R5bGUoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gc2V0U3R5bGVJZkRpZi5jYWxsKGVsZW1lbnQsIHsgcHJvcGVydHksIGNhbWVsUHJvcGVydHksIHZhbHVlLCBjb21wdXRlZFN0eWxlcyB9KVxuXG4gICAgICAgIGNhc2UgJ2lubmVyVGV4dCc6XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5pbm5lclRleHQgIT0gaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dFZhbHVlID09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0QXR0cmlidXRlSWZEaWYuY2FsbChlbGVtZW50LCB0eXBlLCBpbnB1dFZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5wdXRTVmFsdWUgb2YgaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRTVmFsdWUuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5jb252ZW50aW9uYWwgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2RhdGEtYXR0cmlidXRlc191bml0JyAmJiBbJ2F1dG8nLCAnaW5oZXJpdCcsICdpbml0aWFsJ10uaW5jbHVkZXMoaW5wdXRTVmFsdWUudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IGlucHV0U1ZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUFsbFNlbGVjdGVkT3B0aW9ucy5jYWxsKGlucHV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVuY29udmVudGlvbmFsIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRBdHRyaWJ1dGVJZkRpZi5jYWxsKGVsZW1lbnQsIHR5cGUsIGlucHV0U1ZhbHVlLnZhbHVlKVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgfVxuXG5cbn1cblxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS5yZW1vdmVaZXJvcyA9IGZ1bmN0aW9uIHJlbW92ZVplcm9zKHN0cikge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGxldCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHN0cltpXSAhPT0gJzAnKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBzdHIuc3Vic3RyKGkpIHx8IHN0ciAmJiAnMCc7XG59XG5cbmF0dHJpYnV0ZXMucHJvdG90eXBlLnVwZGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiB1cGRhdGVFbGVtZW50KHsgaW5wdXQsIGVsZW1lbnQsIGNvbGxWYWx1ZSwgaXNDb2xsLCB1bml0LCB0eXBlLCBwcm9wZXJ0eSwgLi4ucmVzdCB9KSB7XG5cblxuXG4gICAgbGV0IGlucHV0VmFsdWUgPSBjb2xsVmFsdWUgIT0gdW5kZWZpbmVkID8gY29sbFZhbHVlIDogdGhpcy5nZXRJbnB1dFZhbHVlKGlucHV0KTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dFZhbHVlKSkge1xuICAgICAgICBpbnB1dFZhbHVlID0gdW5pdCAmJiBpbnB1dFZhbHVlID8gaW5wdXRWYWx1ZSArIHVuaXQgOiBpbnB1dFZhbHVlO1xuICAgICAgICBpbnB1dFZhbHVlID0gdGhpcy5yZW1vdmVaZXJvcyhpbnB1dFZhbHVlKVxuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIGlucHV0VmFsdWUuZm9yRWFjaChhID0+IHRoaXMucmVtb3ZlWmVyb3MoYS52YWx1ZSkpXG5cbiAgICBsZXQgaGFzVXBkYXRlZCA9IHRoaXMudXBkYXRlRWxlbWVudEJ5VmFsdWUoeyAuLi5yZXN0LCB0eXBlLCBwcm9wZXJ0eSwgaW5wdXQsIGVsZW1lbnQsIGlucHV0VmFsdWUsIGhhc0NvbGxWYWx1ZTogY29sbFZhbHVlICE9IHVuZGVmaW5lZCB9KVxuXG4gICAgY2FjaGUucmVzZXQoZWxlbWVudClcblxuICAgIC8vIGF0dHJpYnV0ZSBpcyBkZWZhdWx0IHdoZW4gaXQncyBub3QgYXR0cmlidXRlXG5cblxuXG4gICAgaGFzVXBkYXRlZCAmJlxuICAgICAgICBpc0NvbGwgJiZcbiAgICAgICAgdGhpcy5jb2xsYWJvcmF0ZSh7XG4gICAgICAgICAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgICAgICAgIHVuaXQ6IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1hdHRyaWJ1dGVzX3VuaXQnKSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgIC4uLnJlc3QsXG5cbiAgICAgICAgfSk7XG4gICAgaWYgKCF0eXBlcy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgICBwcm9wZXJ0eSA9IHR5cGU7XG4gICAgICAgIHR5cGUgPSAnYXR0cmlidXRlJztcbiAgICB9XG5cbiAgICBoYXNVcGRhdGVkICYmXG4gICAgICAgIGlzQ29sbCAmJlxuICAgICAgICB0aGlzLmNhbGxiYWNrKHtcbiAgICAgICAgICAgIHZhbHVlOiBBcnJheS5pc0FycmF5KGlucHV0VmFsdWUpID8gaW5wdXRWYWx1ZVswXS52YWx1ZSA6IGlucHV0VmFsdWUsXG4gICAgICAgICAgICB1bml0OiBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXR0cmlidXRlc191bml0JyksXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgICAuLi5yZXN0LFxuXG4gICAgICAgIH0pO1xuXG4gICAgLy8gbm90IG5lZWRlZCBzaW5jZSBjcmR0XG4gICAgLy8gd2hlbiBmdW5jdGlvbiBjYWxsZWQgb24gY29sbGJvcmF0aW9uXG4gICAgLy8gdG9kbzogdXNlIHNldElucHV0VmFsdWUgZGlyZWN0bHkgaW4gdXBkYXRlRWxlbWVudEJ5VmFsdWVcbiAgICAvLyBpZiAobmV3VmFsdWUpIHtcbiAgICAvLyAgICAgdXBkYXRlSW5wdXQoey4uLnJlc3QsIGVsZW1lbnQsIGlucHV0LCB9KVxuICAgIC8vIH1cblxufVxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS51cGRhdGVJbnB1dCA9IGZ1bmN0aW9uIHVwZGF0ZUlucHV0KHsgdHlwZSwgcHJvcGVydHksIGNhbWVsUHJvcGVydHksIGVsZW1lbnQsIGlucHV0IH0pIHtcbiAgICBsZXQgY29tcHV0ZWRTdHlsZXMsIHZhbHVlLCB2YWx1ZTIsIHN0eWxlVmFsdWUsIHVuaXQ7XG4gICAgaWYgKCFpbnB1dCkgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ0NvQ3JlYXRlIEF0dHJpYnV0ZXM6IGlucHV0IG5vdCBmb3VuZC9kZXYnKVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdjbGFzc3N0eWxlJzpcbiAgICAgICAgICAgIGxldCBjY1N0eWxlID0gZ2V0Q29DcmVhdGVTdHlsZShlbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgICAgICBpZiAoY2NTdHlsZVtjYW1lbFByb3BlcnR5XSlcbiAgICAgICAgICAgICAgICB2YWx1ZTIgPSBjY1N0eWxlW2NhbWVsUHJvcGVydHldO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMgPSB0aGlzLmdldFJlYWxTdGF0aWNDb21wU3R5bGUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmFsdWUyID0gY29tcHV0ZWRTdHlsZXNbY2FtZWxQcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXZhbHVlMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oYFwiJHtwcm9wZXJ0eX1cIiBjYW4gbm90IGJlIGZvdW5kIGluIHN0eWxlIG9iamVjdGApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoW3N0eWxlVmFsdWUsIHVuaXRdID0gcGFyc2VVbml0KHZhbHVlMikpO1xuICAgICAgICAgICAgdmFsdWUgPSBzdHlsZVZhbHVlO1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlSWZEaWYuY2FsbChpbnB1dCwgXCJkYXRhLWF0dHJpYnV0ZXNfdW5pdFwiLCB1bml0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzdHlsZSc6XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlcyA9IHRoaXMuZ2V0UmVhbFN0YXRpY0NvbXBTdHlsZShlbGVtZW50KTtcbiAgICAgICAgICAgIHZhbHVlMiA9IGNvbXB1dGVkU3R5bGVzW2NhbWVsUHJvcGVydHldO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZTIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKGBcIiR7cHJvcGVydHl9XCIgY2FuIG5vdCBiZSBmb3VuZCBpbiBzdHlsZSBvYmplY3RgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKFtzdHlsZVZhbHVlLCB1bml0XSA9IHBhcnNlVW5pdCh2YWx1ZTIpKTtcbiAgICAgICAgICAgIHZhbHVlID0gc3R5bGVWYWx1ZTtcbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZUlmRGlmLmNhbGwoaW5wdXQsIFwiZGF0YS1hdHRyaWJ1dGVzX3VuaXRcIiwgdW5pdCk7XG4gICAgICAgIGNhc2UgJ2lubmVyVGV4dCc6XG4gICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnQuaW5uZXJUZXh0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKHR5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKGlucHV0LCB2YWx1ZSAhPSB1bmRlZmluZWQgPyB2YWx1ZSA6ICcnKTtcblxufVxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS5zZXRJbnB1dFZhbHVlID0gZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhpbnB1dC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSlcblxuICAgIGxldCBpbnB1dFR5cGUgPSBpbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgfHwgaW5wdXQuY2xhc3NMaXN0LmhhcygnLnBpY2tyJykgJiYgJ3BpY2tyJztcbiAgICBzd2l0Y2ggKGlucHV0VHlwZSkge1xuICAgICAgICAvLyBjYXNlICdpbnB1dCc6XG4gICAgICAgIC8vICAgICBzd2l0Y2ggKGlucHV0LnR5cGUpIHtcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgIC8vICAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAvLyAgICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gdmFsdWUgPT0gaW5wdXQudmFsdWUgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgLy8gY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgIC8vICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IEFycmF5LmZyb20oaW5wdXQub3B0aW9ucylcbiAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBvcHRpb24udmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnNlbGVjdGVkSW5kZXggPSBvcHRpb25zLmluZGV4T2Yob3B0aW9uKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29jcmVhdGUtc2VsZWN0JzpcbiAgICAgICAgICAgIHJlbmRlck9wdGlvbnMoaW5wdXQsIHZhbHVlKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BpY2tyJzpcbiAgICAgICAgICAgIC8vIHRvZG86IGhvdyB0byBwZXJmb3JtIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGxldCBwaWNrcklucyA9IHBpY2tyLnJlZnMuZ2V0KGlucHV0KTtcbiAgICAgICAgICAgIHBpY2tyLmRpc2FibGVkRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgcGlja3JJbnMuc2V0Q29sb3IodmFsdWUpOyAvLyB0b2RvOiBzdHlsZSBvciB2YWx1ZVxuICAgICAgICAgICAgcGlja3IuZGlzYWJsZWRFdmVudCA9IGZhbHNlO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjcmR0LnJlcGxhY2VUZXh0KHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiAnYWFhYWEnLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50X2lkOiAnbnVsbCcsXG4gICAgICAgICAgICAgICAgbmFtZTogaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlICsgJycsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICcwJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0NvQ3JlYXRlU3R5bGU6IHVuaWRlbnRpZmllZCBpbnB1dDogJywgaW5wdXRUeXBlLCAnaW5wdXQgJywgaW5wdXQpXG4gICAgfVxufVxuXG5cblxuXG5hdHRyaWJ1dGVzLnByb3RvdHlwZS5wYWNrTXVsdGlWYWx1ZSA9IGZ1bmN0aW9uIHBhY2tNdWx0aVZhbHVlKHtcbiAgICBpbnB1dHMsXG4gICAgc3RhdGVQcm9wZXJ0eSxcbiAgICB2YWx1ZVByb3BlcnR5ID0gXCJ2YWx1ZVwiLFxuICAgIGZvcmNlU3RhdGUsXG59KSB7XG4gICAgbGV0IHZhbHVlID0gW107XG4gICAgQXJyYXkuZnJvbShpbnB1dHMpLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgICB2YWx1ZS5wdXNoKHsgY2hlY2tlZDogZm9yY2VTdGF0ZSB8fCBpbnB1dFtzdGF0ZVByb3BlcnR5XSwgdmFsdWU6IGlucHV0W3ZhbHVlUHJvcGVydHldIHx8IGlucHV0LmdldEF0dHJpYnV0ZSh2YWx1ZVByb3BlcnR5KSB9KVxuICAgIH0pXG4gICAgcmV0dXJuIHZhbHVlXG59XG5cbmF0dHJpYnV0ZXMucHJvdG90eXBlLmdldElucHV0VmFsdWUgPSBmdW5jdGlvbiBnZXRJbnB1dFZhbHVlKGlucHV0KSB7XG4gICAgaWYgKCFpbnB1dCkgcmV0dXJuO1xuICAgIGxldCBpbnB1dFR5cGUgPSBpbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgfHwgaW5wdXQuY2xhc3NMaXN0LmhhcygnLnBpY2tyJykgJiYgJ3BpY2tyJztcblxuICAgIHN3aXRjaCAoaW5wdXRUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgICAgIHN3aXRjaCAoaW5wdXQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhY2tNdWx0aVZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0czogdGhpcy5pbml0RG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaW5wdXQubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZVByb3BlcnR5OiAnY2hlY2tlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LnZhbHVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudmFsdWU7XG5cbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhY2tNdWx0aVZhbHVlKHtcbiAgICAgICAgICAgICAgICBpbnB1dHM6IGlucHV0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgc3RhdGVQcm9wZXJ0eTogJ3NlbGVjdGVkJ1xuICAgICAgICAgICAgfSlcblxuICAgICAgICBjYXNlICdjb2NyZWF0ZS1zZWxlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFja011bHRpVmFsdWUoe1xuICAgICAgICAgICAgICAgIGlucHV0czogaW5wdXQucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSA+IFtzZWxlY3RlZF1cIiksXG4gICAgICAgICAgICAgICAgZm9yY2VTdGF0ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY2FzZSAncGlja3InOlxuICAgICAgICAgICAgLy8gdG9kbzogaG93IHRvIHBlcmZvcm0gdmFsaWRhdGlvblxuICAgICAgICAgICAgLy8gaWYgKCFDb0NyZWF0ZS5waWNrci5yZWZzLmhhcyhpbnB1dCkpIHJldHVybjsgXG4gICAgICAgICAgICBsZXQgcGlja3JJbnMgPSBwaWNrci5yZWZzLmdldChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gcGlja3JJbnMgPyBwaWNrcklucy5nZXRDb2xvcigpLnRvSEVYQSgpLnRvU3RyaW5nKCkgOiAnJztcblxuXG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29DcmVhdGVTdHlsZTogdW5pZGVudGlmaWVkIGlucHV0Jyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cblxufVxuXG5cblxuYXR0cmlidXRlcy5wcm90b3R5cGUuZ2V0RWxlbWVudEZyb21JbnB1dCA9IGFzeW5jIGZ1bmN0aW9uIGdldEVsZW1lbnRGcm9tSW5wdXQoaW5wdXQpIHtcbiAgICBsZXQgaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dHJpYnV0ZXNfdGFyZ2V0XCIpO1xuXG4gICAgaWYgKGlkKSB7XG4gICAgICAgIGlmIChpZC5pbmRleE9mKCc7JykgIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgZWwgPSBhd2FpdCB0aGlzLmNvbXBsZXhTZWxlY3RvcihpZCxcbiAgICAgICAgICAgICAgICAoY2FudmFzRG9jLCBzZWxlY3RvcikgPT4gY2FudmFzRG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKTtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0RG9jdW1lbnQucXVlcnlTZWxlY3RvcihpZClcbiAgICB9XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbn1cblxuXG5cbmF0dHJpYnV0ZXMucHJvdG90eXBlLmdldFJlYWxTdGF0aWNDb21wU3R5bGUgPSBmdW5jdGlvbiBnZXRSZWFsU3RhdGljQ29tcFN0eWxlKGVsZW1lbnQpIHtcbiAgICBpZiAoY2FjaGUuZ2V0KGVsZW1lbnQsICd2YWxpZCcpKVxuICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGVsZW1lbnQsICdjb21wdXRlZFN0eWxlcycpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjYWNoZS5yZXNldChlbGVtZW50KVxuICAgIH0sIDUwMDApO1xuICAgIGxldCBvbGREaXNwYWx5ID0gZWxlbWVudC5zdHlsZS5kaXNwbGF5O1xuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGxldCBjb21wdXRlZFN0eWxlc0xpdmUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBsZXQgY29tcHV0ZWRTdHlsZXMgPSBPYmplY3QuYXNzaWduKHt9LCBjb21wdXRlZFN0eWxlc0xpdmUpO1xuICAgIGNvbXB1dGVkU3R5bGVzLmRpc3BsYXkgPSBvbGREaXNwYWx5O1xuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gb2xkRGlzcGFseTtcbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSA9PSBcIlwiKSBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCduby1vYnNlcnZlJylcbiAgICBjYWNoZS5zcHJlYWQoZWxlbWVudCwgeyBjb21wdXRlZFN0eWxlcywgdmFsaWQ6IHRydWUgfSlcbiAgICByZXR1cm4gY29tcHV0ZWRTdHlsZXM7XG59XG5cblxuYXR0cmlidXRlcy5wcm90b3R5cGUuY29tcGxleFNlbGVjdG9yID0gYXN5bmMgZnVuY3Rpb24gY29tcGxleFNlbGVjdG9yKGNvbVNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgIGxldCBbY2FudmFzU2VsZWN0b3IsIHNlbGVjdG9yXSA9IGNvbVNlbGVjdG9yLnNwbGl0KCc7Jyk7XG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FudmFzU2VsZWN0b3IpO1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignY29tcGxleCBzZWxlY3RvciBjYW52YXMgbm93IGZvdW5kIGZvcicsIGNvbVNlbGVjdG9yKVxuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIC8qIWNhbnZhcy5jb250ZW50V2luZG93Lm9ic2VydmVkQnlDQ0F0dHJpYnV0ZXMgJiYqLyBjYW52YXMuY29udGVudERvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5jb250ZW50V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZSkgPT4gcmVzb2x2ZSgpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignaWZyYW1lIGNhbiBub3QgYmUgbG9hZGVkJylcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLm9ic2VydmVyRWxlbWVudHMoY2FudmFzLmNvbnRlbnRXaW5kb3cpXG4gICAgICAgIC8vIGNhbnZhcy5jb250ZW50V2luZG93Lm9ic2VydmVkQnlDQ0F0dHJpYnV0ZXMgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsYmFjayhjYW52YXMuY29udGVudFdpbmRvdy5kb2N1bWVudCwgc2VsZWN0b3IpO1xufVxuXG5cblxuXG5cblxuXG4vLyBhdHRyaWJ1dGVzLnByb3RvdHlwZS5nZXRJbnB1dHMgPSBmdW5jdGlvbiBnZXRJbnB1dHMoZWxlbWVudCkge1xuLy8gICAgIGxldCBpbnB1dHMgPSBbXTtcbi8vICAgICBsZXQgYWxsSW5wdXRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpKTtcbi8vICAgICBhbGxJbnB1dHMuZm9yRWFjaCgoaW5wdXRDYW5kaWRhdGUpID0+IHtcbi8vICAgICAgICAgbGV0IGlucHV0TWV0YSA9IGdldElucHV0TWV0YURhdGEoaW5wdXRDYW5kaWRhdGUpO1xuLy8gICAgICAgICBpZiAoIWlucHV0TWV0YSkgcmV0dXJuO1xuXG4vLyAgICAgICAgIGxldCBhbGxSZWZlcmVuY2VkRWwgPSBhbGxGcmFtZSgoZnJhbWUpID0+XG4vLyAgICAgICAgICAgICBmcmFtZS5xdWVyeVNlbGVjdG9yQWxsKFxuLy8gICAgICAgICAgICAgICAgIGlucHV0TWV0YS5pbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dHJpYnV0ZXNfdGFyZ2V0XCIpXG4vLyAgICAgICAgICAgICApXG4vLyAgICAgICAgICk7XG4vLyAgICAgICAgIGlmIChBcnJheS5mcm9tKGFsbFJlZmVyZW5jZWRFbCkuaW5jbHVkZXMoZWxlbWVudCkpIHtcbi8vICAgICAgICAgICAgIGlucHV0cy5wdXNoKGlucHV0TWV0YS5pbnB1dCk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9KTtcbi8vICAgICByZXR1cm4gaW5wdXRzO1xuLy8gfVxuLy9hdHRyaWJ1dGVzLnByb3RvdHlwZS5wZXJJbnB1dCA9ICBhc3luYyBmdW5jdGlvbiBwZXJJbnB1dChpbnB1dCwgY2FsbGJhY2spIHtcbi8vICAgICBsZXQgaW5wdXRNZXRhLCBlbGVtZW50LCBncm91cCA9IGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtYXR0cmlidXRlc19ncm91cFwiKTtcbi8vICAgICBpZiAoZ3JvdXApIHtcbi8vICAgICAgICAgW2lucHV0TWV0YSwgZWxlbWVudF0gPSBnZXRJbnB1dHNNZXRhRGF0YShpbnB1dCk7XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgaW5wdXRNZXRhID0gdmFsaWRhdGVJbnB1dChpbnB1dCk7XG4vLyAgICAgICAgIGVsZW1lbnQgPSBhd2FpdCBnZXRFbGVtZW50RnJvbUlucHV0KGlucHV0KTtcbi8vICAgICB9XG5cbi8vICAgICBpZiAoIWlucHV0TWV0YSB8fCAhZWxlbWVudCkgcmV0dXJuO1xuXG4vLyAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXRNZXRhKSlcbi8vICAgICAgICAgaW5wdXRNZXRhLmZvckVhY2goYXN5bmMobWV0YXMpID0+IGNhbGxiYWNrKG1ldGFzLCBlbGVtZW50KSlcbi8vICAgICBlbHNlXG4vLyAgICAgICAgIGNhbGxiYWNrKGlucHV0TWV0YSwgZWxlbWVudClcbi8vIH1cblxuLy9hdHRyaWJ1dGVzLnByb3RvdHlwZS5nZXRJbnB1dHNNZXRhRGF0YSA9ICBmdW5jdGlvbiBnZXRJbnB1dHNNZXRhRGF0YShpbnB1dCkge1xuLy8gICAgIGxldCBsaXN0ID0gW10sXG4vLyAgICAgICAgIGlucHV0cyA9IFtdO1xuLy8gICAgIGxldCBlbGVtZW50ID0gZ2V0RWxlbWVudEZyb21JbnB1dChpbnB1dClcbi8vICAgICBsZXQgcmVhbElucHV0cyA9IGlucHV0LnF1ZXJ5U2VsZWN0b3JBbGwoZ3JvdXApO1xuLy8gICAgIHJlYWxJbnB1dHMuZm9yRWFjaChpbnAgPT4ge1xuLy8gICAgICAgICBcbi8vICAgICAgICAgaW5wdXRzLnB1c2goaW5wKVxuLy8gICAgICAgICBsaXN0LnB1c2godmFsaWRhdGVJbnB1dChpbnApKVxuLy8gICAgIH0pXG4vLyAgICAgZ3JvdXBFbC5zZXQoaW5wdXQsIGlucHV0cyk7XG4vLyAgICAgcmV0dXJuIFtsaXN0LCBlbGVtZW50XTtcbi8vIH1cblxuXG5cbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuLy8gICAgIGxldCBhdHRyaWJ1dGUgPSBuZXcgYXR0cmlidXRlcyh7IGRvY3VtZW50LCBleGNsdWRlOiAnI2dob3N0RWZmZWN0LC52ZG9tLWl0ZW0gJyxcbi8vICAgICAgIGNhbGxiYWNrOiAoe1xuLy8gICAgICAgICB2YWx1ZSxcbi8vICAgICAgICAgdHlwZSxcbi8vICAgICAgICAgcHJvcGVydHksXG4vLyAgICAgICAgIGVsZW1lbnQsXG4vLyAgICAgfSkgPT4ge1xuLy8gICAgICAgICAgIGlmIChkb2N1bWVudC5jb250YWlucyhlbGVtZW50KSlcbi8vICAgICAgICAgZG9tVG9UZXh0LmRvbVRvVGV4dCh7XG4vLyAgICAgICAgICAgbWV0aG9kOiB0eXBlID09ICdhdHRyaWJ1dGUnID8gJ3NldEF0dHJpYnV0ZScgOiB0eXBlLCBcbi8vICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4vLyAgICAgICAgICAgdGFyZ2V0OiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtZWxlbWVudF9pZFwiKSxcbi8vICAgICAgICAgICB0YWdOYW1lOiBlbGVtZW50LnRhZ05hbWUsXG4vLyAgICAgICAgICAgdmFsdWUsXG4vLyAgICAgICAgICAgLi4uY3JkdENvblxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSx9KVxuLy8gICAgIGF0dHJpYnV0ZS5pbml0KClcbi8vIH0pXG5cbi8vIGxldCBzID0gbmV3IGF0dHJpYnV0ZXMoe1xuLy8gICAgIGRvY3VtZW50LFxuLy8gICAgIGV4Y2x1ZGU6ICcjZ2hvc3RFZmZlY3QsLnZkb20taXRlbSAnLFxuLy8gICAgIGNhbGxiYWNrOiAoe1xuLy8gICAgICAgICB2YWx1ZSxcbi8vICAgICAgICAgdHlwZSxcbi8vICAgICAgICAgcHJvcGVydHksXG4vLyAgICAgICAgIGVsZW1lbnQsXG4vLyAgICAgfSkgPT4ge1xuLy8gICAgICAgICAgIGlmIChkb2N1bWVudC5jb250YWlucyhlbGVtZW50KSlcbi8vICAgICAgICAgZG9tVG9UZXh0LmRvbVRvVGV4dCh7XG4vLyAgICAgICAgICAgbWV0aG9kOiB0eXBlID09ICdhdHRyaWJ1dGUnID8gJ3NldEF0dHJpYnV0ZScgOiB0eXBlLCBcbi8vICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4vLyAgICAgICAgICAgdGFyZ2V0OiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtZWxlbWVudF9pZFwiKSxcbi8vICAgICAgICAgICB0YWdOYW1lOiBlbGVtZW50LnRhZ05hbWUsXG4vLyAgICAgICAgICAgdmFsdWUsXG4vLyAgICAgICAgICAgLi4uY3JkdENvblxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSxcbi8vIH0pXG4vLyBzLmluaXQoKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBpbml0OiAocGFyYW1zKSA9PiB7XG4gICAgICAgIGxldCBzID0gbmV3IGF0dHJpYnV0ZXMocGFyYW1zKVxuICAgICAgICBzLmluaXQoKTtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n")},"../CoCreate-crdt/src/core.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ "../CoCreate-crdt/node_modules/yjs/dist/yjs.cjs"));\n\nvar _yWebsocket = __webpack_require__(/*! y-websocket */ "../CoCreate-crdt/node_modules/y-websocket/src/y-websocket.js");\n\nvar _yIndexeddb = __webpack_require__(/*! y-indexeddb */ "../CoCreate-crdt/node_modules/y-indexeddb/src/y-indexeddb.js");\n\nvar _cocreatejs = __webpack_require__(/*! @cocreate/cocreatejs */ "../../CoCreateJS/src/index.js");\n\nvar _cursors = _interopRequireDefault(__webpack_require__(/*! @cocreate/cursors */ "../CoCreate-cursors/src/index.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst debug = false;\n\nclass CoCreateYSocket {\n  constructor(org, ydoc) {\n    this.doc = ydoc;\n    this.orgName = org;\n    this.docs = {};\n    this._awarenessListener = null;\n    this.character = \'_\';\n\n    this.listenAwereness = function () {};\n  }\n\n  createDoc(id, element) {\n    if (!id || id == "") {\n      return null;\n    }\n\n    let newInfo = this.parseType(id); // if(debug)\n    // \tconsole.log(newInfo);\n\n    const newId = newInfo.id;\n\n    if (this.docs[newId]) {\n      if (element && !this.__checkExistElement(this.docs[newId].elements, element)) {\n        this.docs[newId].elements.push(element);\n      }\n\n      if (!this.docs[newId].types.some(type => type === id)) {\n        // register event\n        this.docs[newId].types.push(id);\n        this.registerUpdateEvent(this.docs[newId], id);\n      }\n\n      return false;\n    }\n\n    const yDoc = this.doc;\n\n    const url_socket = this.__getSocketUrl(); //draw cursor dinamially\n    // new UserCursor(socketProvider);\n\n\n    var socketProvider = new _yWebsocket.WebsocketProvider(url_socket, newId, yDoc);\n    let indexeddbProvider = null;\n\n    if (newInfo.document_id != "null") {\n      indexeddbProvider = new _yIndexeddb.IndexeddbPersistence(newId, this.doc);\n      indexeddbProvider.whenSynced.then(() => {\n        console.log(\'loaded data from indexed db\');\n      });\n    }\n\n    let awareness = socketProvider.awareness;\n    this._cursors = new Map();\n\n    this._awarenessListener = event => {\n      const f = clientId => {\n        if (clientId !== this.doc.clientID) {\n          this.updateRemoteSelection(yDoc, id, yDoc.getText(id), this._cursors, clientId, awareness);\n        }\n      };\n\n      event.added.forEach(f);\n      event.removed.forEach(f);\n      event.updated.forEach(f);\n    };\n\n    awareness.on(\'change\', this._awarenessListener);\n    /*\n    awareness.getStates().forEach((aw, clientId) => {\n    \tconsole.log("Update --")\n          })\n          */\n\n    this.docs[newId] = {\n      id: newId,\n      doc: yDoc,\n      socket: socketProvider,\n      awareness: awareness,\n      elements: element ? [element] : [],\n      types: [id],\n      indexeddb: indexeddbProvider\n    };\n    this.registerUpdateEvent(this.docs[newId], id);\n    return true;\n  }\n\n  registerUpdateEvent(docObject, id) {\n    const yDoc = docObject.doc;\n    const shardType = yDoc.getText(id);\n\n    let _this = this;\n\n    shardType.observe(event => {\n      _this.__setTypeObserveEvent(event, docObject.elements, id);\n    });\n  }\n\n  __checkExistElement(elements, element) {\n    for (var i = 0; i < elements.length; i++) {\n      if (elements[i].isSameNode(element)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  __getSocketUrl() {\n    console.log("get_socket url");\n    let w_location = window.location || window.parent.location;\n    let w_protocol = w_location.protocol;\n    let w_host = w_location.host;\n\n    if (w_location.protocol === "about:") {\n      w_protocol = w_location.protocol;\n      w_host = document.referrer;\n    }\n\n    let protocol = w_protocol === \'http:\' ? \'ws\' : \'wss\';\n    let url_socket = `${protocol}://${w_host}:8080/`;\n\n    if (window.config && window.config.host) {\n      if (window.config.host.includes("://")) {\n        url_socket = `${window.config.host}/`;\n      } else {\n        url_socket = `${protocol}://${window.config.host}/`;\n      }\n    }\n\n    console.log(url_socket);\n    url_socket += "crdt/";\n    return url_socket;\n  }\n\n  __setTypeObserveEvent(event, elements, id) {\n    if (!id) return;\n    const eventDelta = event.delta;\n    const info = JSON.parse(atob(id));\n    let is_save_value = false;\n    const wholestring = event.target.toString();\n    const store_event = new CustomEvent(\'store-content-db\', {\n      detail: wholestring\n    });\n    const update_event = new CustomEvent(\'cocreate-y-update\', {\n      detail: eventDelta\n    });\n    elements.forEach(el => {\n      if (_cocreatejs.utils.isReadValue(el) && el.getAttribute(\'name\') === info.name) {\n        el.dispatchEvent(update_event);\n      }\n    });\n\n    if (typeof info !== \'object\') {\n      return;\n    }\n\n    if (event.transaction.local) {\n      if (elements.length == 0) {\n        is_save_value = true;\n      }\n\n      elements.forEach(el => {\n        if (el.getAttribute(\'data-save_value\') != \'false\' && el.getAttribute(\'name\') === info.name && info.document_id != "null") {\n          is_save_value = true;\n          el.dispatchEvent(store_event);\n        }\n      });\n\n      if (is_save_value) {\n        _cocreatejs.crud.updateDocument({\n          collection: info.collection,\n          document_id: info.document_id,\n          data: {\n            [info.name]: wholestring\n          },\n          metadata: \'yjs-change\'\n        });\n      }\n    } else {}\n  }\n\n  deleteDoc(id) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      delete this.docs[info.id];\n    }\n  }\n\n  generateDocName(collection, document_id, name) {\n    const info = {\n      org: this.orgName,\n      collection,\n      document_id,\n      name\n    };\n    return btoa(JSON.stringify(info)); // return this.orgName + "_" + collection + "_" + document_id + "_" + name;\n  }\n\n  insertData(id, index, content, attribute) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      if (attribute) {\n        this.docs[info.id].doc.getText(id).insert(index, content, attribute);\n      } else {\n        this.docs[info.id].doc.getText(id).insert(index, content);\n      }\n    }\n  }\n\n  deleteData(id, index, length) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      this.docs[info.id].doc.getText(id).delete(index, length);\n    }\n  }\n\n  getWholeString(id) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      console.log("!Get data");\n      return this.docs[info.id].doc.getText(id).toString();\n    } else {\n      return "--";\n    }\n  }\n\n  updateRemoteSelection(y, cm, type, cursors, clientId, awareness) {\n    if (debug) console.log("CHANGE ---- DOCID ", this.doc.clientID, \' OTHER CLIENTEID \', clientId);\n\n    if (clientId !== this.doc.clientID) {\n      //console.log("TEXT -> updateRemoteSelection ",clientId,awareness,cursor)\n      //console.log("AW status",awareness.getLocalState())\n      // destroy current text mark\n      const m = cursors.get(clientId);\n\n      if (m !== undefined) {\n        m.caret.clear();\n\n        if (m.sel !== null) {\n          m.sel.clear();\n        }\n\n        cursors.delete(clientId);\n      } // redraw caret and selection for clientId\n\n\n      const aw = awareness.getStates().get(clientId);\n      if (debug) console.log(aw);\n\n      if (aw === undefined) {\n        if (debug) console.log(" Cursor OUT ", clientId); //awareness.setLocalStateField(\'cursor\', null);\n\n        let elements = document.querySelectorAll(\'[id*="socket_\' + clientId + \'"]\');\n        elements.forEach(function (element, index, array) {\n          element.parentNode.removeChild(element);\n        });\n        let sel_elements = document.querySelectorAll(\'[id*="sel-\' + clientId + \'"]\');\n        sel_elements.forEach(function (sel_element, index, array) {\n          sel_element.parentNode.removeChild(sel_element);\n        });\n        /*\n         let element = document.getElementById("socket_"+clientId)\n         let sel_element = document.getElementById("sel-"+clientId)\n         if(element)\n        element.parentNode.removeChild(element);\n        if(sel_element)\n        sel_element.parentNode.removeChild(sel_element);\n         */\n\n        return;\n      }\n\n      const user = aw.user || {};\n\n      if (user.color == null) {\n        user.color = \'#ffa500\';\n      }\n\n      if (user.name == null) {\n        user.name = `User: ${clientId}`;\n      }\n\n      const cursor = aw.cursor;\n      if (debug) console.log("Cursor ", cursor);\n\n      if (cursor == null || cursor.anchor == null || cursor.head == null) {\n        //let element = document.getElementById("socket_"+clientId)\n        let elements = document.querySelectorAll(\'[id*="socket_\' + clientId + \'"]\');\n        elements.forEach(function (element, index, array) {\n          element.parentNode.removeChild(element);\n        }); //let sel_element = document.getElementById("sel-"+clientId)  \n\n        let sel_elements = document.querySelectorAll(\'[id*="sel-\' + clientId + \'"]\');\n        sel_elements.forEach(function (sel_element, index, array) {\n          sel_element.parentNode.removeChild(sel_element);\n        });\n        return;\n      }\n\n      const anchor = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(cursor.anchor), y);\n      const head = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(cursor.head), y); //CoCreate.cursors.draw_cursor(1,11,12,66,{},true);\n\n      if (debug) {\n        console.log("PRE Draw Cursor ");\n        console.log("anchor  ", anchor, " head ", head, \' Type \', type);\n        console.log("anchor  Type", anchor.type === type);\n        console.log("anchor  Type", head.type === type);\n      } //if (anchor !== null && head !== null && anchor.type === type && head.type === type) {\n\n\n      if (anchor !== null && head !== null) {\n        let from, to;\n\n        if (head.index < anchor.index) {\n          from = head.index;\n          to = anchor.index;\n        } else {\n          if (debug) console.log(anchor.index);\n          from = anchor.index;\n          to = head.index;\n        }\n\n        if (debug) console.log("Draw Cursor ", from, to, clientId, aw.user);\n        let t_info = this.parseTypeName(cursor.anchor[\'tname\']);\n        let id_mirror = t_info.document_id + t_info.name + \'--mirror-div\';\n        let json = {};\n        let selector = \'[data-collection="\' + t_info.collection + \'"][data-document_id="\' + t_info.document_id + \'"][name="\' + t_info.name + \'"]\';\n        selector += \':not(.codemirror):not(.quill):not(.monaco)\';\n        let elements = document.querySelectorAll(selector);\n        let that = this;\n        elements.forEach(function (element, index, array) {\n          json = {\n            element: element,\n            startPosition: from,\n            selector: selector,\n            endPositon: to,\n            clientId: clientId,\n            user: {\n              \'color\': user.color,\n              \'name\': user.name\n            }\n          };\n          console.log(json);\n\n          _cursors.default.draw_cursor(json); //sent custom position\n\n\n          that.listen(json);\n        });\n      }\n    }\n  }\n\n  changeListenAwereness(callback) {\n    this.listenAwereness = callback;\n  }\n\n  listen(json) {\n    this.listenAwereness.apply(this, [json]);\n  }\n\n  destroyObserver(id, element) {\n    const info = this.parseType(id);\n    this.docs[info.id].doc.getText(id).unobserve(event => {});\n    this.docs[info.id].socket.awareness.off(\'change\', this._awarenessListener);\n  }\n\n  getProvider(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    return this.docs[info.id].socket;\n  }\n\n  getType(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    return this.docs[info.id].doc.getText(id);\n  }\n\n  setCursorNull(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    this.docs[info.id].socket.awareness.setLocalStateField(\'cursor\', null);\n  }\n\n  setPositionYJS(id, from, to) {\n    const info = this.parseType(id);\n    const type = this.getType(id); //console.log("Type ",type)\n\n    if (!type) {\n      return;\n    }\n\n    var anchor = Y.createRelativePositionFromTypeIndex(type, from);\n    var head = Y.createRelativePositionFromTypeIndex(type, to);\n    if (debug) console.log("Sending Cursor ", {\n      anchor,\n      head\n    }, {\n      \'to\': to,\n      \'from\': from,\n      \'info.id\': info.id\n    });\n    this.docs[info.id].socket.awareness.setLocalStateField(\'cursor\', {\n      anchor,\n      head\n    });\n    /*\n    if(debug)\n    \tconsole.log("Cursor Send")\n    \t*/\n  } //send Position Custom\n\n\n  sendPosition(json) {\n    let collection = json[\'collection\'];\n    let document_id = json[\'document_id\'];\n    let name = json[\'name\'];\n    let from = json[\'startPosition\'];\n    let to = json[\'endPositon\'];\n    let id = this.generateID(config.organization_Id, collection, document_id, name);\n    this.setPositionYJS(id, from, to);\n  }\n\n  generateID(org, collection, document_id, name) {\n    const info = {\n      org,\n      collection,\n      document_id,\n      name\n    };\n    return btoa(JSON.stringify(info));\n  }\n\n  parseTypeName(name) {\n    const data = JSON.parse(atob(name));\n    return data;\n  }\n\n  parseType(id) {\n    let data = JSON.parse(atob(id));\n    let newId = {\n      org: data.org,\n      collection: data.collection,\n      document_id: data.document_id\n    };\n    return {\n      id: btoa(JSON.stringify(newId)),\n      name: data.name,\n      document_id: data.document_id\n    };\n  }\n\n}\n\nvar _default = CoCreateYSocket;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWNyZHQvc3JjL2NvcmUuanM/MTk5NyJdLCJuYW1lcyI6WyJkZWJ1ZyIsIkNvQ3JlYXRlWVNvY2tldCIsImNvbnN0cnVjdG9yIiwib3JnIiwieWRvYyIsImRvYyIsIm9yZ05hbWUiLCJkb2NzIiwiX2F3YXJlbmVzc0xpc3RlbmVyIiwiY2hhcmFjdGVyIiwibGlzdGVuQXdlcmVuZXNzIiwiY3JlYXRlRG9jIiwiaWQiLCJlbGVtZW50IiwibmV3SW5mbyIsInBhcnNlVHlwZSIsIm5ld0lkIiwiX19jaGVja0V4aXN0RWxlbWVudCIsImVsZW1lbnRzIiwicHVzaCIsInR5cGVzIiwic29tZSIsInR5cGUiLCJyZWdpc3RlclVwZGF0ZUV2ZW50IiwieURvYyIsInVybF9zb2NrZXQiLCJfX2dldFNvY2tldFVybCIsInNvY2tldFByb3ZpZGVyIiwiV2Vic29ja2V0UHJvdmlkZXIiLCJpbmRleGVkZGJQcm92aWRlciIsImRvY3VtZW50X2lkIiwiSW5kZXhlZGRiUGVyc2lzdGVuY2UiLCJ3aGVuU3luY2VkIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJhd2FyZW5lc3MiLCJfY3Vyc29ycyIsIk1hcCIsImV2ZW50IiwiZiIsImNsaWVudElkIiwiY2xpZW50SUQiLCJ1cGRhdGVSZW1vdGVTZWxlY3Rpb24iLCJnZXRUZXh0IiwiYWRkZWQiLCJmb3JFYWNoIiwicmVtb3ZlZCIsInVwZGF0ZWQiLCJvbiIsInNvY2tldCIsImluZGV4ZWRkYiIsImRvY09iamVjdCIsInNoYXJkVHlwZSIsIl90aGlzIiwib2JzZXJ2ZSIsIl9fc2V0VHlwZU9ic2VydmVFdmVudCIsImkiLCJsZW5ndGgiLCJpc1NhbWVOb2RlIiwid19sb2NhdGlvbiIsIndpbmRvdyIsImxvY2F0aW9uIiwicGFyZW50Iiwid19wcm90b2NvbCIsInByb3RvY29sIiwid19ob3N0IiwiaG9zdCIsImRvY3VtZW50IiwicmVmZXJyZXIiLCJjb25maWciLCJpbmNsdWRlcyIsImV2ZW50RGVsdGEiLCJkZWx0YSIsImluZm8iLCJKU09OIiwicGFyc2UiLCJhdG9iIiwiaXNfc2F2ZV92YWx1ZSIsIndob2xlc3RyaW5nIiwidGFyZ2V0IiwidG9TdHJpbmciLCJzdG9yZV9ldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwidXBkYXRlX2V2ZW50IiwiZWwiLCJ1dGlscyIsImlzUmVhZFZhbHVlIiwiZ2V0QXR0cmlidXRlIiwibmFtZSIsImRpc3BhdGNoRXZlbnQiLCJ0cmFuc2FjdGlvbiIsImxvY2FsIiwiY3J1ZCIsInVwZGF0ZURvY3VtZW50IiwiY29sbGVjdGlvbiIsImRhdGEiLCJtZXRhZGF0YSIsImRlbGV0ZURvYyIsImdlbmVyYXRlRG9jTmFtZSIsImJ0b2EiLCJzdHJpbmdpZnkiLCJpbnNlcnREYXRhIiwiaW5kZXgiLCJjb250ZW50IiwiYXR0cmlidXRlIiwiaW5zZXJ0IiwiZGVsZXRlRGF0YSIsImRlbGV0ZSIsImdldFdob2xlU3RyaW5nIiwieSIsImNtIiwiY3Vyc29ycyIsIm0iLCJnZXQiLCJ1bmRlZmluZWQiLCJjYXJldCIsImNsZWFyIiwic2VsIiwiYXciLCJnZXRTdGF0ZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXJyYXkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzZWxfZWxlbWVudHMiLCJzZWxfZWxlbWVudCIsInVzZXIiLCJjb2xvciIsImN1cnNvciIsImFuY2hvciIsImhlYWQiLCJZIiwiY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uIiwiY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OIiwiZnJvbSIsInRvIiwidF9pbmZvIiwicGFyc2VUeXBlTmFtZSIsImlkX21pcnJvciIsImpzb24iLCJzZWxlY3RvciIsInRoYXQiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRvbiIsIkNvQ3JlYXRlQ3Vyc29ycyIsImRyYXdfY3Vyc29yIiwibGlzdGVuIiwiY2hhbmdlTGlzdGVuQXdlcmVuZXNzIiwiY2FsbGJhY2siLCJhcHBseSIsImRlc3Ryb3lPYnNlcnZlciIsInVub2JzZXJ2ZSIsIm9mZiIsImdldFByb3ZpZGVyIiwiZ2V0VHlwZSIsInNldEN1cnNvck51bGwiLCJzZXRMb2NhbFN0YXRlRmllbGQiLCJzZXRQb3NpdGlvbllKUyIsImNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4Iiwic2VuZFBvc2l0aW9uIiwiZ2VuZXJhdGVJRCIsIm9yZ2FuaXphdGlvbl9JZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLEtBQUssR0FBRyxLQUFkOztBQUVBLE1BQU1DLGVBQU4sQ0FBc0I7QUFDckJDLGFBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVk7QUFDdEIsU0FBS0MsR0FBTCxHQUFXRCxJQUFYO0FBQ0EsU0FBS0UsT0FBTCxHQUFlSCxHQUFmO0FBQ0EsU0FBS0ksSUFBTCxHQUFZLEVBQVo7QUFDQSxTQUFLQyxrQkFBTCxHQUEwQixJQUExQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUIsR0FBakI7O0FBQ0EsU0FBS0MsZUFBTCxHQUF1QixZQUFVLENBQUUsQ0FBbkM7QUFDQTs7QUFFREMsV0FBUyxDQUFDQyxFQUFELEVBQUtDLE9BQUwsRUFBYztBQUN0QixRQUFJLENBQUNELEVBQUQsSUFBT0EsRUFBRSxJQUFJLEVBQWpCLEVBQXFCO0FBQ3BCLGFBQU8sSUFBUDtBQUNBOztBQUVELFFBQUlFLE9BQU8sR0FBRyxLQUFLQyxTQUFMLENBQWVILEVBQWYsQ0FBZCxDQUxzQixDQU10QjtBQUNBOztBQUVBLFVBQU1JLEtBQUssR0FBR0YsT0FBTyxDQUFDRixFQUF0Qjs7QUFFQSxRQUFJLEtBQUtMLElBQUwsQ0FBVVMsS0FBVixDQUFKLEVBQXNCO0FBQ3JCLFVBQUlILE9BQU8sSUFBSSxDQUFDLEtBQUtJLG1CQUFMLENBQXlCLEtBQUtWLElBQUwsQ0FBVVMsS0FBVixFQUFpQkUsUUFBMUMsRUFBb0RMLE9BQXBELENBQWhC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QTs7QUFFRGlFLGVBQWEsQ0FBQ2pELElBQUQsRUFBTztBQUNuQixVQUFNTyxJQUFJLEdBQUd0QixJQUFJLENBQUNDLEtBQUwsQ0FBV0MsSUFBSSxDQUFDYSxJQUFELENBQWYsQ0FBYjtBQUNBLFdBQU9PLElBQVA7QUFDQTs7QUFFRGxGLFdBQVMsQ0FBQ0gsRUFBRCxFQUFLO0FBQ2IsUUFBSXFGLElBQUksR0FBR3RCLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxJQUFJLENBQUNqRSxFQUFELENBQWYsQ0FBWDtBQUVBLFFBQUlJLEtBQUssR0FBRztBQUFDYixTQUFHLEVBQUU4RixJQUFJLENBQUM5RixHQUFYO0FBQWdCNkYsZ0JBQVUsRUFBRUMsSUFBSSxDQUFDRCxVQUFqQztBQUE2Q2xFLGlCQUFXLEVBQUVtRSxJQUFJLENBQUNuRTtBQUEvRCxLQUFaO0FBQ0EsV0FBTztBQUNObEIsUUFBRSxFQUFFeUYsSUFBSSxDQUFDMUIsSUFBSSxDQUFDMkIsU0FBTCxDQUFldEYsS0FBZixDQUFELENBREY7QUFFTjBFLFVBQUksRUFBRU8sSUFBSSxDQUFDUCxJQUZMO0FBR041RCxpQkFBVyxFQUFFbUUsSUFBSSxDQUFDbkU7QUFIWixLQUFQO0FBS0E7O0FBM2JvQjs7ZUE4YlA3QixlIiwiZmlsZSI6Ii4uL0NvQ3JlYXRlLWNyZHQvc3JjL2NvcmUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCAqIGFzIFkgZnJvbSAneWpzJ1xuaW1wb3J0IHsgV2Vic29ja2V0UHJvdmlkZXIgfSBmcm9tICd5LXdlYnNvY2tldCdcbmltcG9ydCB7IGZldGNoVXBkYXRlcywgc3RvcmVTdGF0ZSwgSW5kZXhlZGRiUGVyc2lzdGVuY2UgfSBmcm9tICd5LWluZGV4ZWRkYidcbmltcG9ydCB7Y3J1ZCwgdXRpbHN9IGZyb20gJ0Bjb2NyZWF0ZS9jb2NyZWF0ZWpzJztcbmltcG9ydCBDb0NyZWF0ZUN1cnNvcnMgZnJvbSAnQGNvY3JlYXRlL2N1cnNvcnMnXG5cbmNvbnN0IGRlYnVnID0gZmFsc2U7XG5cbmNsYXNzIENvQ3JlYXRlWVNvY2tldCB7XG5cdGNvbnN0cnVjdG9yKG9yZywgeWRvYykge1xuXHRcdHRoaXMuZG9jID0geWRvYztcblx0XHR0aGlzLm9yZ05hbWUgPSBvcmc7XG5cdFx0dGhpcy5kb2NzID0ge307XG5cdFx0dGhpcy5fYXdhcmVuZXNzTGlzdGVuZXIgPSBudWxsO1xuXHRcdHRoaXMuY2hhcmFjdGVyID0gJ18nO1xuXHRcdHRoaXMubGlzdGVuQXdlcmVuZXNzID0gZnVuY3Rpb24oKXt9XG5cdH1cblx0XG5cdGNyZWF0ZURvYyhpZCwgZWxlbWVudCkge1xuXHRcdGlmICghaWQgfHwgaWQgPT0gXCJcIikge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdFxuXHRcdGxldCBuZXdJbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0Ly8gaWYoZGVidWcpXG5cdFx0Ly8gXHRjb25zb2xlLmxvZyhuZXdJbmZvKTtcblx0XHRcblx0XHRjb25zdCBuZXdJZCA9IG5ld0luZm8uaWQ7XG5cdFx0XG5cdFx0aWYgKHRoaXMuZG9jc1tuZXdJZF0pIHsgXG5cdFx0XHRpZiAoZWxlbWVudCAmJiAhdGhpcy5fX2NoZWNrRXhpc3RFbGVtZW50KHRoaXMuZG9jc1tuZXdJZF0uZWxlbWVudHMsIGVsZW1lbnQpKSB7XG5cdFx0XHRcdHRoaXMuZG9jc1tuZXdJZF0uZWxlbWVudHMucHVzaChlbGVtZW50KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLmRvY3NbbmV3SWRdLnR5cGVzLnNvbWUoKHR5cGUpID0+IHR5cGUgPT09IGlkKSkge1xuXHRcdFx0XHQvLyByZWdpc3RlciBldmVudFxuXHRcdFx0XHR0aGlzLmRvY3NbbmV3SWRdLnR5cGVzLnB1c2goaWQpO1xuXHRcdFx0XHR0aGlzLnJlZ2lzdGVyVXBkYXRlRXZlbnQodGhpcy5kb2NzW25ld0lkXSwgaWQpXG5cdFx0XHRcdFxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gXG5cdFx0XG5cdFx0Y29uc3QgeURvYyA9IHRoaXMuZG9jXG5cdFx0XG5cdFx0Y29uc3QgdXJsX3NvY2tldCA9IHRoaXMuX19nZXRTb2NrZXRVcmwoKTtcblx0XHQvL2RyYXcgY3Vyc29yIGRpbmFtaWFsbHlcblx0XHQvLyBuZXcgVXNlckN1cnNvcihzb2NrZXRQcm92aWRlcik7XG5cblx0XHRcdFxuXHRcdHZhciBzb2NrZXRQcm92aWRlciA9IG5ldyBXZWJzb2NrZXRQcm92aWRlcih1cmxfc29ja2V0LCBuZXdJZCwgeURvYyk7XG5cdFx0bGV0IGluZGV4ZWRkYlByb3ZpZGVyID0gbnVsbDtcblx0XHRpZiAobmV3SW5mby5kb2N1bWVudF9pZCAhPSBcIm51bGxcIikge1xuXHRcdFx0aW5kZXhlZGRiUHJvdmlkZXIgPSBuZXcgSW5kZXhlZGRiUGVyc2lzdGVuY2UobmV3SWQsIHRoaXMuZG9jKVxuXHRcdFx0aW5kZXhlZGRiUHJvdmlkZXIud2hlblN5bmNlZC50aGVuKCgpID0+IHtcblx0XHRcdCAgY29uc29sZS5sb2coJ2xvYWRlZCBkYXRhIGZyb20gaW5kZXhlZCBkYicpXG5cdFx0XHR9KVxuXHRcdH1cdFxuXHRcdFxuXHRcdGxldCBhd2FyZW5lc3MgPSBzb2NrZXRQcm92aWRlci5hd2FyZW5lc3M7XG5cdFx0XG5cdFx0dGhpcy5fY3Vyc29ycyA9IG5ldyBNYXAoKTtcblx0XHRcblx0XHR0aGlzLl9hd2FyZW5lc3NMaXN0ZW5lciA9IGV2ZW50ID0+IHtcblx0XHQgIGNvbnN0IGYgPSBjbGllbnRJZCA9PiB7XG5cdFx0XHRpZiAoY2xpZW50SWQgIT09IHRoaXMuZG9jLmNsaWVudElEKSB7XG5cdFx0XHQgIHRoaXMudXBkYXRlUmVtb3RlU2VsZWN0aW9uKHlEb2MsIGlkLCB5RG9jLmdldFRleHQoaWQpLCB0aGlzLl9jdXJzb3JzLCBjbGllbnRJZCwgYXdhcmVuZXNzKVxuXHRcdFx0fVxuXHRcdCAgfVxuXHRcdCAgZXZlbnQuYWRkZWQuZm9yRWFjaChmKVxuXHRcdCAgZXZlbnQucmVtb3ZlZC5mb3JFYWNoKGYpXG5cdFx0ICBldmVudC51cGRhdGVkLmZvckVhY2goZilcblx0XHR9XG5cdFx0XG5cdFx0YXdhcmVuZXNzLm9uKCdjaGFuZ2UnLCB0aGlzLl9hd2FyZW5lc3NMaXN0ZW5lcik7XG5cdFx0Lypcblx0XHRhd2FyZW5lc3MuZ2V0U3RhdGVzKCkuZm9yRWFjaCgoYXcsIGNsaWVudElkKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIlVwZGF0ZSAtLVwiKVxuICAgICAgICB9KVxuICAgICAgICAqL1xuICAgICAgICBcbiAgICAgICAgdGhpcy5kb2NzW25ld0lkXSA9IHtcblx0XHRcdGlkOiBuZXdJZCxcblx0XHRcdGRvYzogeURvYyxcblx0XHRcdHNvY2tldDogc29ja2V0UHJvdmlkZXIsXG5cdFx0XHRhd2FyZW5lc3M6IGF3YXJlbmVzcyxcblx0XHRcdGVsZW1lbnRzOiBlbGVtZW50ID8gW2VsZW1lbnRdIDogW10sXG5cdFx0XHR0eXBlczogW2lkXSxcblx0XHRcdGluZGV4ZWRkYjogaW5kZXhlZGRiUHJvdmlkZXJcblx0XHR9XG5cdFx0dGhpcy5yZWdpc3RlclVwZGF0ZUV2ZW50KHRoaXMuZG9jc1tuZXdJZF0sIGlkKVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdHJlZ2lzdGVyVXBkYXRlRXZlbnQoZG9jT2JqZWN0LCBpZCkge1xuXHRcdGNvbnN0IHlEb2MgPSBkb2NPYmplY3QuZG9jO1xuXHRcdGNvbnN0IHNoYXJkVHlwZSA9IHlEb2MuZ2V0VGV4dChpZClcblx0XHRsZXQgX3RoaXMgPSB0aGlzO1xuXHRcdFxuXHRcdHNoYXJkVHlwZS5vYnNlcnZlKChldmVudCkgPT4ge1xuXHRcdFx0X3RoaXMuX19zZXRUeXBlT2JzZXJ2ZUV2ZW50KGV2ZW50LCBkb2NPYmplY3QuZWxlbWVudHMsIGlkKTtcblx0XHR9KVxuXHR9XG5cdFxuXHRfX2NoZWNrRXhpc3RFbGVtZW50KGVsZW1lbnRzLCBlbGVtZW50KSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGVsZW1lbnRzW2ldLmlzU2FtZU5vZGUoZWxlbWVudCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0X19nZXRTb2NrZXRVcmwoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJnZXRfc29ja2V0IHVybFwiKVxuXHRcdGxldCB3X2xvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uIHx8IHdpbmRvdy5wYXJlbnQubG9jYXRpb247XG5cdFx0bGV0IHdfcHJvdG9jb2wgPSB3X2xvY2F0aW9uLnByb3RvY29sO1xuXHRcdGxldCB3X2hvc3QgPSB3X2xvY2F0aW9uLmhvc3Q7XG5cdFx0aWYgKHdfbG9jYXRpb24ucHJvdG9jb2wgPT09IFwiYWJvdXQ6XCIpIHtcblx0XHRcdHdfcHJvdG9jb2wgPSB3X2xvY2F0aW9uLnByb3RvY29sO1xuXHRcdFx0d19ob3N0ID0gZG9jdW1lbnQucmVmZXJyZXI7XG5cdFx0fVxuXHRcdGxldCBwcm90b2NvbCA9IHdfcHJvdG9jb2wgPT09ICdodHRwOicgPyAnd3MnIDogJ3dzcyc7XG5cblx0XHRsZXQgdXJsX3NvY2tldCA9IGAke3Byb3RvY29sfTovLyR7d19ob3N0fTo4MDgwL2A7XG5cdFx0aWYgKHdpbmRvdy5jb25maWcgJiYgd2luZG93LmNvbmZpZy5ob3N0KSB7XG5cdFx0XHRpZiAod2luZG93LmNvbmZpZy5ob3N0LmluY2x1ZGVzKFwiOi8vXCIpKSB7XG5cdFx0XHRcdHVybF9zb2NrZXQgPSBgJHt3aW5kb3cuY29uZmlnLmhvc3R9L2A7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR1cmxfc29ja2V0ID0gYCR7cHJvdG9jb2x9Oi8vJHt3aW5kb3cuY29uZmlnLmhvc3R9L2A7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnNvbGUubG9nKHVybF9zb2NrZXQpXG5cdFx0dXJsX3NvY2tldCArPSBcImNyZHQvXCI7XG5cdFx0XG5cdFx0cmV0dXJuIHVybF9zb2NrZXQ7XG5cblx0fVxuXHRcblx0X19zZXRUeXBlT2JzZXJ2ZUV2ZW50KGV2ZW50LCBlbGVtZW50cywgaWQpIHtcblx0XHRpZiAoIWlkKSByZXR1cm47XG5cblx0XHRjb25zdCBldmVudERlbHRhID0gZXZlbnQuZGVsdGE7XG5cdFx0Y29uc3QgaW5mbyA9IEpTT04ucGFyc2UoYXRvYihpZCkpO1xuXHRcdGxldCBpc19zYXZlX3ZhbHVlID0gZmFsc2Vcblx0XHRcblx0XHRjb25zdCB3aG9sZXN0cmluZyA9IGV2ZW50LnRhcmdldC50b1N0cmluZygpXG5cdFx0Y29uc3Qgc3RvcmVfZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3N0b3JlLWNvbnRlbnQtZGInLCB7XG5cdFx0XHRkZXRhaWw6IHdob2xlc3RyaW5nXG5cdFx0fSlcblx0XHRcblx0XHRjb25zdCB1cGRhdGVfZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NvY3JlYXRlLXktdXBkYXRlJywge1xuXHRcdFx0ZGV0YWlsOiBldmVudERlbHRhXG5cdFx0fSlcblx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0aWYgKHV0aWxzLmlzUmVhZFZhbHVlKGVsKSAmJiBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA9PT0gaW5mby5uYW1lKSB7XG5cdFx0XHRcdGVsLmRpc3BhdGNoRXZlbnQodXBkYXRlX2V2ZW50KVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XHRcblx0XHRcblx0XHRpZiAodHlwZW9mIGluZm8gIT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGV2ZW50LnRyYW5zYWN0aW9uLmxvY2FsKSB7XG5cdFx0XHRpZiAoZWxlbWVudHMubGVuZ3RoID09IDApIHtcblx0XHRcdFx0aXNfc2F2ZV92YWx1ZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNhdmVfdmFsdWUnKSAhPSAnZmFsc2UnICYmIGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpID09PSBpbmZvLm5hbWUgJiYgaW5mby5kb2N1bWVudF9pZCAhPSBcIm51bGxcIikge1xuXHRcdFx0XHRcdGlzX3NhdmVfdmFsdWUgPSB0cnVlO1xuXHRcdFx0XHRcdGVsLmRpc3BhdGNoRXZlbnQoc3RvcmVfZXZlbnQpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0XHRcdGlmIChpc19zYXZlX3ZhbHVlKSB7XG5cdFx0XHRcdGNydWQudXBkYXRlRG9jdW1lbnQoe1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGluZm8uY29sbGVjdGlvbixcblx0XHRcdFx0XHRkb2N1bWVudF9pZDogaW5mby5kb2N1bWVudF9pZCxcblx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHRbaW5mby5uYW1lXTogd2hvbGVzdHJpbmdcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG1ldGFkYXRhOiAneWpzLWNoYW5nZSdcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0fVxuXHR9XG5cdFxuXHRkZWxldGVEb2MoaWQpIHtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0aWYgKHRoaXMuZG9jc1tpbmZvLmlkXSkge1xuXHRcdFx0ZGVsZXRlIHRoaXMuZG9jc1tpbmZvLmlkXTtcblx0XHR9XG5cdH1cblx0XG5cdGdlbmVyYXRlRG9jTmFtZShjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSkge1xuXHRcdGNvbnN0IGluZm8gPSB7b3JnOiB0aGlzLm9yZ05hbWUsIGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lfVxuXHRcdHJldHVybiBidG9hKEpTT04uc3RyaW5naWZ5KGluZm8pKTsgXG5cdFx0Ly8gcmV0dXJuIHRoaXMub3JnTmFtZSArIFwiX1wiICsgY29sbGVjdGlvbiArIFwiX1wiICsgZG9jdW1lbnRfaWQgKyBcIl9cIiArIG5hbWU7XG5cdH1cblx0XG5cdGluc2VydERhdGEoaWQsIGluZGV4LCBjb250ZW50LCBhdHRyaWJ1dGUpIHtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0aWYgKHRoaXMuZG9jc1tpbmZvLmlkXSkge1xuXHRcdFx0aWYgKGF0dHJpYnV0ZSkge1xuXHRcdFx0XHR0aGlzLmRvY3NbaW5mby5pZF0uZG9jLmdldFRleHQoaWQpLmluc2VydChpbmRleCwgY29udGVudCwgYXR0cmlidXRlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLmRvY3NbaW5mby5pZF0uZG9jLmdldFRleHQoaWQpLmluc2VydChpbmRleCwgY29udGVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRkZWxldGVEYXRhKGlkLCBpbmRleCwgbGVuZ3RoKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGlmICh0aGlzLmRvY3NbaW5mby5pZF0pIHtcblx0XHRcdHRoaXMuZG9jc1tpbmZvLmlkXS5kb2MuZ2V0VGV4dChpZCkuZGVsZXRlKGluZGV4LCBsZW5ndGgpO1xuXHRcdH1cblx0fVxuXHRcblx0Z2V0V2hvbGVTdHJpbmcoaWQpIHtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0aWYgKHRoaXMuZG9jc1tpbmZvLmlkXSkge1xuXHRcdFx0Y29uc29sZS5sb2coXCIhR2V0IGRhdGFcIilcblx0XHRcdHJldHVybiB0aGlzLmRvY3NbaW5mby5pZF0uZG9jLmdldFRleHQoaWQpLnRvU3RyaW5nKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBcIi0tXCI7XG5cdFx0fVxuXHR9XG5cdFxuXHR1cGRhdGVSZW1vdGVTZWxlY3Rpb24gKHksIGNtLCB0eXBlLCBjdXJzb3JzLCBjbGllbnRJZCwgYXdhcmVuZXNzKSAge1xuXHRcdGlmKGRlYnVnKVxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkNIQU5HRSAtLS0tIERPQ0lEIFwiLHRoaXMuZG9jLmNsaWVudElELCcgT1RIRVIgQ0xJRU5URUlEICcsY2xpZW50SWQpXG5cdFx0aWYoY2xpZW50SWQgIT09IHRoaXMuZG9jLmNsaWVudElEKXtcblx0XHRcdFxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJURVhUIC0+IHVwZGF0ZVJlbW90ZVNlbGVjdGlvbiBcIixjbGllbnRJZCxhd2FyZW5lc3MsY3Vyc29yKVxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJBVyBzdGF0dXNcIixhd2FyZW5lc3MuZ2V0TG9jYWxTdGF0ZSgpKVxuXHRcdFx0XHRcdCAgLy8gZGVzdHJveSBjdXJyZW50IHRleHQgbWFya1xuXHRcdFx0XHRcdCAgY29uc3QgbSA9IGN1cnNvcnMuZ2V0KGNsaWVudElkKVxuXHRcdFx0XHRcdCAgaWYgKG0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0bS5jYXJldC5jbGVhcigpXG5cdFx0XHRcdFx0XHRpZiAobS5zZWwgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdCAgbS5zZWwuY2xlYXIoKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y3Vyc29ycy5kZWxldGUoY2xpZW50SWQpXG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICAvLyByZWRyYXcgY2FyZXQgYW5kIHNlbGVjdGlvbiBmb3IgY2xpZW50SWRcblx0XHRcdFx0XHQgIGNvbnN0IGF3ID0gYXdhcmVuZXNzLmdldFN0YXRlcygpLmdldChjbGllbnRJZCk7XG5cdFx0XHRcdFx0ICBpZihkZWJ1Zylcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGF3KVxuXHRcdFx0XHRcdCAgaWYgKGF3ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdCAgaWYoZGVidWcpXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiIEN1cnNvciBPVVQgXCIsY2xpZW50SWQpXG5cdFx0XHRcdFx0XHQgICAvL2F3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ2N1cnNvcicsIG51bGwpO1xuXHRcdFx0XHRcdFx0ICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkKj1cInNvY2tldF8nK2NsaWVudElkKydcIl0nKTtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0bGV0IHNlbF9lbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZCo9XCJzZWwtJytjbGllbnRJZCsnXCJdJyk7XG5cdFx0XHRcdFx0XHRcdCAgc2VsX2VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHNlbF9lbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0XHRzZWxfZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbF9lbGVtZW50KTtcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCAgLypcblx0XHRcdFx0XHRcdCAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2NrZXRfXCIrY2xpZW50SWQpXG5cdFx0XHRcdFx0XHQgICBsZXQgc2VsX2VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbC1cIitjbGllbnRJZClcblx0XHRcdFx0XHRcdCAgIGlmKGVsZW1lbnQpXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcblx0XHRcdFx0XHRcdFx0aWYoc2VsX2VsZW1lbnQpXG5cdFx0XHRcdFx0XHRcdHNlbF9lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsX2VsZW1lbnQpO1xuXHRcdFx0XHRcdFx0ICAgKi9cblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgY29uc3QgdXNlciA9IGF3LnVzZXIgfHwge31cblx0XHRcdFx0XHQgIGlmICh1c2VyLmNvbG9yID09IG51bGwpIHtcblx0XHRcdFx0XHRcdHVzZXIuY29sb3IgPSAnI2ZmYTUwMCdcblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIGlmICh1c2VyLm5hbWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0dXNlci5uYW1lID0gYFVzZXI6ICR7Y2xpZW50SWR9YFxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgY29uc3QgY3Vyc29yID0gYXcuY3Vyc29yXG5cdFx0XHRcdFx0ICBpZihkZWJ1Zylcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiQ3Vyc29yIFwiLGN1cnNvcilcblx0XHRcdFx0XHQgIGlmIChjdXJzb3IgPT0gbnVsbCB8fCBjdXJzb3IuYW5jaG9yID09IG51bGwgfHwgY3Vyc29yLmhlYWQgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0ICAvL2xldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2NrZXRfXCIrY2xpZW50SWQpXG5cdFx0XHRcdFx0XHQgIGxldCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZCo9XCJzb2NrZXRfJytjbGllbnRJZCsnXCJdJyk7XG5cdFx0XHRcdFx0XHQgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG5cdFx0XHRcdFx0XHQgIH0pXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vbGV0IHNlbF9lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWwtXCIrY2xpZW50SWQpICBcblx0XHRcdFx0XHRcdGxldCBzZWxfZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWQqPVwic2VsLScrY2xpZW50SWQrJ1wiXScpO1xuXHRcdFx0XHRcdFx0ICBzZWxfZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2VsX2VsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuXHRcdFx0XHRcdFx0XHRzZWxfZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbF9lbGVtZW50KTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XG5cdFx0XHRcdFx0ICBjb25zdCBhbmNob3IgPSBZLmNyZWF0ZUFic29sdXRlUG9zaXRpb25Gcm9tUmVsYXRpdmVQb3NpdGlvbihZLmNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tSlNPTihjdXJzb3IuYW5jaG9yKSwgeSlcblx0XHRcdFx0XHQgIGNvbnN0IGhlYWQgPSBZLmNyZWF0ZUFic29sdXRlUG9zaXRpb25Gcm9tUmVsYXRpdmVQb3NpdGlvbihZLmNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tSlNPTihjdXJzb3IuaGVhZCksIHkpXG5cdFx0XHRcdFx0ICAvL0NvQ3JlYXRlLmN1cnNvcnMuZHJhd19jdXJzb3IoMSwxMSwxMiw2Nix7fSx0cnVlKTtcblx0XHRcdFx0XHQgIGlmKGRlYnVnKXtcblx0XHRcdFx0XHRcdCAgY29uc29sZS5sb2coXCJQUkUgRHJhdyBDdXJzb3IgXCIpXG5cdFx0XHRcdFx0XHQgIGNvbnNvbGUubG9nKFwiYW5jaG9yICBcIixhbmNob3IgLCBcIiBoZWFkIFwiLGhlYWQsJyBUeXBlICcsdHlwZSlcblx0XHRcdFx0XHRcdCAgY29uc29sZS5sb2coXCJhbmNob3IgIFR5cGVcIixhbmNob3IudHlwZSA9PT0gdHlwZSlcblx0XHRcdFx0XHRcdCAgY29uc29sZS5sb2coXCJhbmNob3IgIFR5cGVcIixoZWFkLnR5cGUgPT09IHR5cGUpXG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICAvL2lmIChhbmNob3IgIT09IG51bGwgJiYgaGVhZCAhPT0gbnVsbCAmJiBhbmNob3IudHlwZSA9PT0gdHlwZSAmJiBoZWFkLnR5cGUgPT09IHR5cGUpIHtcblx0XHRcdFx0XHQgIGlmIChhbmNob3IgIT09IG51bGwgJiYgaGVhZCAhPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGxldCBmcm9tLCB0bztcblx0XHRcdFx0XHRcdGlmIChoZWFkLmluZGV4IDwgYW5jaG9yLmluZGV4KSB7XG5cdFx0XHRcdFx0XHQgIGZyb20gPSBoZWFkLmluZGV4XG5cdFx0XHRcdFx0XHQgIHRvID0gYW5jaG9yLmluZGV4XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpZihkZWJ1Zylcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhhbmNob3IuaW5kZXgpXG5cdFx0XHRcdFx0XHQgIGZyb20gPSBhbmNob3IuaW5kZXhcblx0XHRcdFx0XHRcdCAgdG8gPSBoZWFkLmluZGV4XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZihkZWJ1Zylcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJEcmF3IEN1cnNvciBcIixmcm9tLHRvLGNsaWVudElkLGF3LnVzZXIpXG5cdFx0XHRcdFx0XHRsZXQgdF9pbmZvID0gdGhpcy5wYXJzZVR5cGVOYW1lKGN1cnNvci5hbmNob3JbJ3RuYW1lJ10pO1xuXHRcdFx0XHRcdFx0bGV0IGlkX21pcnJvciA9IHRfaW5mby5kb2N1bWVudF9pZCArIHRfaW5mby5uYW1lKyctLW1pcnJvci1kaXYnO1xuXHRcdFx0XHRcdFx0bGV0IGpzb24gPSB7fTtcblx0XHRcdFx0XHRcdGxldCBzZWxlY3RvciA9ICdbZGF0YS1jb2xsZWN0aW9uPVwiJyt0X2luZm8uY29sbGVjdGlvbisnXCJdW2RhdGEtZG9jdW1lbnRfaWQ9XCInK3RfaW5mby5kb2N1bWVudF9pZCsnXCJdW25hbWU9XCInK3RfaW5mby5uYW1lKydcIl0nXG5cdFx0XHRcdFx0XHRzZWxlY3RvciArPSAnOm5vdCguY29kZW1pcnJvcik6bm90KC5xdWlsbCk6bm90KC5tb25hY28pJztcblx0XHRcdFx0XHRcdGxldCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXHRcdFx0XHRcdFx0bGV0IHRoYXQgPSB0aGlzO1xuXHRcdFx0XHRcdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG5cdFx0XHRcdFx0XHRcdGpzb24gPSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWxlbWVudDplbGVtZW50LFxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0UG9zaXRpb246ZnJvbSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RvcjpzZWxlY3Rvcixcblx0XHRcdFx0XHRcdFx0XHRlbmRQb3NpdG9uOnRvLFxuXHRcdFx0XHRcdFx0XHRcdGNsaWVudElkIDogY2xpZW50SWQsXG5cdFx0XHRcdFx0XHRcdFx0dXNlcjp7XG5cdFx0XHRcdFx0XHRcdFx0XHQnY29sb3InOnVzZXIuY29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0XHQnbmFtZSc6dXNlci5uYW1lXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhqc29uKVxuXHRcdFx0XHRcdFx0XHRDb0NyZWF0ZUN1cnNvcnMuZHJhd19jdXJzb3IoanNvbik7XG5cdFx0XHRcdFx0XHRcdC8vc2VudCBjdXN0b20gcG9zaXRpb25cblx0XHRcdFx0XHRcdFx0dGhhdC5saXN0ZW4oanNvbik7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQgIH1cblx0XHR9XG5cdH1cblx0XG5cdGNoYW5nZUxpc3RlbkF3ZXJlbmVzcyhjYWxsYmFjayl7XG5cdFx0dGhpcy5saXN0ZW5Bd2VyZW5lc3MgPSBjYWxsYmFjaztcblx0fVxuXHRcblx0bGlzdGVuKGpzb24pe1xuXHRcdHRoaXMubGlzdGVuQXdlcmVuZXNzLmFwcGx5KHRoaXMsW2pzb25dKVxuXHR9XG5cdFxuXHRkZXN0cm95T2JzZXJ2ZXIoaWQsIGVsZW1lbnQpIHtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0dGhpcy5kb2NzW2luZm8uaWRdLmRvYy5nZXRUZXh0KGlkKS51bm9ic2VydmUoKGV2ZW50KSA9PiB7fSk7XG5cdFx0XG5cdFx0dGhpcy5kb2NzW2luZm8uaWRdLnNvY2tldC5hd2FyZW5lc3Mub2ZmKCdjaGFuZ2UnLCB0aGlzLl9hd2FyZW5lc3NMaXN0ZW5lcik7XG5cdH1cblx0XG5cdGdldFByb3ZpZGVyKGlkKXtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0aWYgKCF0aGlzLmRvY3NbaW5mby5pZF0pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5kb2NzW2luZm8uaWRdLnNvY2tldDtcblx0fVxuXHRcblx0Z2V0VHlwZShpZCl7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGlmICghdGhpcy5kb2NzW2luZm8uaWRdKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZG9jc1tpbmZvLmlkXS5kb2MuZ2V0VGV4dChpZCk7XG5cdH1cblxuXHRzZXRDdXJzb3JOdWxsKGlkKXtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0aWYgKCF0aGlzLmRvY3NbaW5mby5pZF0pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLmRvY3NbaW5mby5pZF0uc29ja2V0LmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ2N1cnNvcicsIG51bGwpO1xuXHR9XG5cdFxuXHRzZXRQb3NpdGlvbllKUyhpZCwgZnJvbSwgdG8pIHtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0Y29uc3QgdHlwZSA9IHRoaXMuZ2V0VHlwZShpZCk7XG5cdFx0Ly9jb25zb2xlLmxvZyhcIlR5cGUgXCIsdHlwZSlcblx0XHRpZiAoIXR5cGUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyIGFuY2hvciA9IFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21UeXBlSW5kZXgodHlwZSwgZnJvbSlcblx0XHR2YXIgaGVhZCA9IFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21UeXBlSW5kZXgodHlwZSwgdG8pXG5cdFx0XG5cdFx0aWYoZGVidWcpXG5cdFx0XHRjb25zb2xlLmxvZyhcIlNlbmRpbmcgQ3Vyc29yIFwiLHtcblx0XHRcdFx0YW5jaG9yLFxuXHRcdFx0XHRoZWFkXG5cdFx0XHR9LHsndG8nOnRvLCdmcm9tJzpmcm9tLCdpbmZvLmlkJzppbmZvLmlkfSlcblx0XHRcblx0XHR0aGlzLmRvY3NbaW5mby5pZF0uc29ja2V0LmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ2N1cnNvcicsIHtcblx0XHRcdGFuY2hvcixcblx0XHRcdGhlYWRcblx0XHR9KVxuXHRcdC8qXG5cdFx0aWYoZGVidWcpXG5cdFx0XHRjb25zb2xlLmxvZyhcIkN1cnNvciBTZW5kXCIpXG5cdFx0XHQqL1xuXHR9XG5cdFxuXHQvL3NlbmQgUG9zaXRpb24gQ3VzdG9tXG5cdHNlbmRQb3NpdGlvbihqc29uKSB7XG5cdFx0bGV0IGNvbGxlY3Rpb24gPSBqc29uWydjb2xsZWN0aW9uJ107XG5cdFx0bGV0IGRvY3VtZW50X2lkID0ganNvblsnZG9jdW1lbnRfaWQnXTtcblx0XHRsZXQgbmFtZSA9IGpzb25bJ25hbWUnXTtcblx0XHRsZXQgZnJvbSA9IGpzb25bJ3N0YXJ0UG9zaXRpb24nXTtcblx0XHRsZXQgdG8gPSBqc29uWydlbmRQb3NpdG9uJ107XG5cdFx0bGV0IGlkID0gdGhpcy5nZW5lcmF0ZUlEKGNvbmZpZy5vcmdhbml6YXRpb25fSWQsIGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lKTtcblx0XHR0aGlzLnNldFBvc2l0aW9uWUpTKGlkLGZyb20sdG8pO1xuXHR9XG5cdFxuXHRnZW5lcmF0ZUlEKG9yZywgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpIHtcblx0XHRjb25zdCBpbmZvID0ge29yZywgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWV9XG5cdFx0cmV0dXJuIGJ0b2EoSlNPTi5zdHJpbmdpZnkoaW5mbykpOyAgICAgICAgXG5cdH1cblx0XG5cdHBhcnNlVHlwZU5hbWUobmFtZSkge1xuXHRcdGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGF0b2IobmFtZSkpO1xuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cdFxuXHRwYXJzZVR5cGUoaWQpIHtcblx0XHRsZXQgZGF0YSA9IEpTT04ucGFyc2UoYXRvYihpZCkpO1xuXHRcdFxuXHRcdGxldCBuZXdJZCA9IHtvcmc6IGRhdGEub3JnLCBjb2xsZWN0aW9uOiBkYXRhLmNvbGxlY3Rpb24sIGRvY3VtZW50X2lkOiBkYXRhLmRvY3VtZW50X2lkfVxuXHRcdHJldHVybiB7XG5cdFx0XHRpZDogYnRvYShKU09OLnN0cmluZ2lmeShuZXdJZCkpLFxuXHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0ZG9jdW1lbnRfaWQ6IGRhdGEuZG9jdW1lbnRfaWRcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVZU29ja2V0O1xuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-crdt/src/core.js\n')},"../CoCreate-crdt/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _core = _interopRequireDefault(__webpack_require__(/*! ./core.js */ \"../CoCreate-crdt/src/core.js\"));\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ \"../CoCreate-crdt/node_modules/yjs/dist/yjs.cjs\"));\n\nvar _cocreatejs = __webpack_require__(/*! @cocreate/cocreatejs */ \"../../CoCreateJS/src/index.js\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CoCreateCRDTClass extends _core.default {\n  constructor(org, doc) {\n    super(org, doc);\n  }\n  /*\n  crdt.init({\n    collection: \"module\",\n    document_id: \"\",\n    name: \"\",\n    element: dom_object,\n    metadata: \"xxxx\"\n  })\n  */\n\n\n  init(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name']);\n\n      const id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (!id) return;\n      const status = this.createDoc(id, info.element);\n      console.log(\"InitCrdt\");\n    } catch (e) {\n      console.log('Invalid param', e);\n    }\n  }\n  /*. init data function\n  crdt.replaceText({\n    collection: \"module\",\n    document_id: \"\",\n    name: \"\",\n    value: \"\",\n    updateCrud: true | false,\n    element: dom_object,\n    metadata: \"xxxx\"\n  })\n  */\n\n\n  replaceText(info) {\n    if (!info) return;\n\n    const id = this.__getYDocId(info.collection, info.document_id, info.name);\n\n    if (!id) return;\n    if (info.updateCrud != false) info.updateCrud = true;\n\n    if (this.getType(id)) {\n      let oldData = this.getType(id).toString();\n      let textValue = info.value.toString();\n\n      if (oldData && oldData.length > 0) {\n        this.deleteData(id, 0, Math.max(oldData.length, textValue.length));\n      }\n\n      this.insertData(id, 0, textValue);\n    }\n\n    if (info.updateCrud) {\n      _cocreatejs.crud.updateDocument({\n        collection: info.collection,\n        document_id: info.document_id,\n        data: {\n          [info.name]: info.value\n        },\n        element: info.element,\n        metadata: info.metadata,\n        namespace: info.namespace,\n        room: info.room,\n        broadcast: info.broadcast,\n        upsert: info.upsert,\n        broadcast_sender: info.broadcast_sender\n      });\n    }\n  }\n  /*\n  crdt.insertText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name',\n  \tvalue: 'T',\n  \tposition: '8',\n  \tattributes: {bold: true}\n  })\n  */\n\n\n  insertText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name', 'value', 'position']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        this.insertData(id, info['position'], info['value'].toString(), info['attributes']);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  /*\n  crdt.deleteText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name',\n  \tposition: '8',\n  \tlength: 2,\n  })\n  */\n\n\n  deleteText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name', 'position', 'length']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        this.deleteData(id, info['position'], info['length']);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  /*\n  crdt.getText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name'\n  })\n  */\n\n\n  getText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        return this.getWholeString(id);\n      } else {\n        return \"\";\n      }\n    } catch (e) {\n      console.error(e);\n      return \"\";\n    }\n  }\n  /* \n  crdt.getPosition(function(data))\n  crdt.getPosition(function(data){console.log(\" EScuchando ahora  \",data)})\n  */\n\n\n  getPosition(callback) {\n    if (typeof miFuncion === 'function') this.changeListenAwereness(callback);else console.error('Callback should be a function');\n  }\n\n  __getYDocId(collection, document_id, name) {\n    if (!_cocreatejs.utils.checkValue(collection) || !_cocreatejs.utils.checkValue(document_id) || !_cocreatejs.utils.checkValue(name)) {\n      return null;\n    }\n\n    return this.generateID(config.organization_Id, collection, document_id, name);\n  }\n\n  __validateKeysJson(json, rules) {\n    let keys_json = Object.keys(json);\n    keys_json.forEach(key => {\n      const index = rules.indexOf(key);\n      if (index != -1) rules.splice(index, 1);\n    });\n    if (rules.length) throw \"Requires the following \" + rules.toString();\n  }\n\n}\n\nconst g_yDoc = new Y.Doc();\nlet CoCreateCrdt = new CoCreateCRDTClass(config.organization_Id, g_yDoc);\nwindow.Y = Y;\nvar _default = CoCreateCrdt;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWNyZHQvc3JjL2luZGV4LmpzPzY0MDAiXSwibmFtZXMiOlsiQ29DcmVhdGVDUkRUQ2xhc3MiLCJDb0NyZWF0ZVlTb2NrZXQiLCJjb25zdHJ1Y3RvciIsIm9yZyIsImRvYyIsImluaXQiLCJpbmZvIiwiX192YWxpZGF0ZUtleXNKc29uIiwiaWQiLCJfX2dldFlEb2NJZCIsInN0YXR1cyIsImNyZWF0ZURvYyIsImVsZW1lbnQiLCJjb25zb2xlIiwibG9nIiwiZSIsInJlcGxhY2VUZXh0IiwiY29sbGVjdGlvbiIsImRvY3VtZW50X2lkIiwibmFtZSIsInVwZGF0ZUNydWQiLCJnZXRUeXBlIiwib2xkRGF0YSIsInRvU3RyaW5nIiwidGV4dFZhbHVlIiwidmFsdWUiLCJsZW5ndGgiLCJkZWxldGVEYXRhIiwiTWF0aCIsIm1heCIsImluc2VydERhdGEiLCJjcnVkIiwidXBkYXRlRG9jdW1lbnQiLCJkYXRhIiwibWV0YWRhdGEiLCJuYW1lc3BhY2UiLCJyb29tIiwiYnJvYWRjYXN0IiwidXBzZXJ0IiwiYnJvYWRjYXN0X3NlbmRlciIsImluc2VydFRleHQiLCJlcnJvciIsImRlbGV0ZVRleHQiLCJnZXRUZXh0IiwiZ2V0V2hvbGVTdHJpbmciLCJnZXRQb3NpdGlvbiIsImNhbGxiYWNrIiwibWlGdW5jaW9uIiwiY2hhbmdlTGlzdGVuQXdlcmVuZXNzIiwidXRpbHMiLCJjaGVja1ZhbHVlIiwiZ2VuZXJhdGVJRCIsImNvbmZpZyIsIm9yZ2FuaXphdGlvbl9JZCIsImpzb24iLCJydWxlcyIsImtleXNfanNvbiIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZ195RG9jIiwiWSIsIkRvYyIsIkNvQ3JlYXRlQ3JkdCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7OztBQUdBLE1BQU1BLGlC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REQsSUFFQSxDQUFDK0Isa0JBQU1DLFVBQU4sQ0FBaUIvQixJQUFqQixDQUZMLEVBR0E7QUFDRSxhQUFPLElBQVA7QUFDRDs7QUFDRCxXQUFPLEtBQUtnQyxVQUFMLENBQWdCQyxNQUFNLENBQUNDLGVBQXZCLEVBQXdDcEMsVUFBeEMsRUFBb0RDLFdBQXBELEVBQWlFQyxJQUFqRSxDQUFQO0FBQ0Q7O0FBRURaLG9CQUFrQixDQUFDK0MsSUFBRCxFQUFNQyxLQUFOLEVBQVk7QUFDNUIsUUFBSUMsU0FBUyxHQUFHQyxNQUFNLENBQUNDLElBQVAsQ0FBWUosSUFBWixDQUFoQjtBQUNBRSxhQUFTLENBQUNHLE9BQVYsQ0FBa0JDLEdBQUcsSUFBRTtBQUNyQixZQUFNQyxLQUFLLEdBQUdOLEtBQUssQ0FBQ08sT0FBTixDQUFjRixHQUFkLENBQWQ7QUFDQSxVQUFHQyxLQUFLLElBQUksQ0FBQyxDQUFiLEVBQ0VOLEtBQUssQ0FBQ1EsTUFBTixDQUFhRixLQUFiLEVBQW9CLENBQXBCO0FBQ0gsS0FKRDtBQUtBLFFBQUlOLEtBQUssQ0FBQzdCLE1BQVYsRUFDRSxNQUFNLDRCQUEyQjZCLEtBQUssQ0FBQ2hDLFFBQU4sRUFBakM7QUFDSDs7QUE3S0g7O0FBZ0xBLE1BQU15QyxNQUFNLEdBQUcsSUFBSUMsQ0FBQyxDQUFDQyxHQUFOLEVBQWY7QUFDQSxJQUFJQyxZQUFZLEdBQUcsSUFBSW5FLGlCQUFKLENBQXNCb0QsTUFBTSxDQUFDQyxlQUE3QixFQUE4Q1csTUFBOUMsQ0FBbkI7QUFDQUksTUFBTSxDQUFDSCxDQUFQLEdBQVdBLENBQVg7ZUFFZUUsWSIsImZpbGUiOiIuLi9Db0NyZWF0ZS1jcmR0L3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb0NyZWF0ZVlTb2NrZXQgZnJvbSBcIi4vY29yZS5qc1wiXG5pbXBvcnQgKiBhcyBZIGZyb20gJ3lqcydcbmltcG9ydCB7dXRpbHMsIGNydWR9IGZyb20gJ0Bjb2NyZWF0ZS9jb2NyZWF0ZWpzJztcblxuXG5jbGFzcyBDb0NyZWF0ZUNSRFRDbGFzcyBleHRlbmRzIENvQ3JlYXRlWVNvY2tldCBcbntcbiAgY29uc3RydWN0b3Iob3JnLCBkb2MpIHtcbiAgICBzdXBlcihvcmcsIGRvYylcbiAgfVxuXG4gIC8qXG4gIGNyZHQuaW5pdCh7XG4gICAgY29sbGVjdGlvbjogXCJtb2R1bGVcIixcbiAgICBkb2N1bWVudF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGVsZW1lbnQ6IGRvbV9vYmplY3QsXG4gICAgbWV0YWRhdGE6IFwieHh4eFwiXG4gIH0pXG4gICovXG4gIGluaXQoaW5mbykge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl9fdmFsaWRhdGVLZXlzSnNvbihpbmZvLCBbJ2NvbGxlY3Rpb24nLCAnZG9jdW1lbnRfaWQnLCAnbmFtZSddKTtcbiAgICAgIFxuICAgICAgY29uc3QgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuXG4gICAgICBpZiAoIWlkKSByZXR1cm47XG4gICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLmNyZWF0ZURvYyhpZCwgaW5mby5lbGVtZW50KVxuICAgICAgY29uc29sZS5sb2coXCJJbml0Q3JkdFwiKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgcGFyYW0nLCBlKTtcbiAgICB9XG4gIH1cblxuICAvKi4gaW5pdCBkYXRhIGZ1bmN0aW9uXG4gIGNyZHQucmVwbGFjZVRleHQoe1xuICAgIGNvbGxlY3Rpb246IFwibW9kdWxlXCIsXG4gICAgZG9jdW1lbnRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICB2YWx1ZTogXCJcIixcbiAgICB1cGRhdGVDcnVkOiB0cnVlIHwgZmFsc2UsXG4gICAgZWxlbWVudDogZG9tX29iamVjdCxcbiAgICBtZXRhZGF0YTogXCJ4eHh4XCJcbiAgfSlcbiAgKi9cbiAgXG4gIHJlcGxhY2VUZXh0KGluZm8pe1xuICAgIGlmICghaW5mbykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGlkID0gdGhpcy5fX2dldFlEb2NJZChpbmZvLmNvbGxlY3Rpb24sIGluZm8uZG9jdW1lbnRfaWQsIGluZm8ubmFtZSlcbiAgICBpZiAoIWlkKSByZXR1cm47XG5cbiAgICBpZiAoaW5mby51cGRhdGVDcnVkICE9IGZhbHNlKSBpbmZvLnVwZGF0ZUNydWQgPSB0cnVlO1xuICAgIFxuICAgIGlmICh0aGlzLmdldFR5cGUoaWQpICkge1xuICAgICAgbGV0IG9sZERhdGEgPSB0aGlzLmdldFR5cGUoaWQpLnRvU3RyaW5nKCk7XG4gICAgICBsZXQgdGV4dFZhbHVlID0gaW5mby52YWx1ZS50b1N0cmluZygpO1xuICAgICAgaWYgKG9sZERhdGEgJiYgb2xkRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlRGF0YShpZCwgMCwgTWF0aC5tYXgob2xkRGF0YS5sZW5ndGgsIHRleHRWYWx1ZS5sZW5ndGgpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zZXJ0RGF0YShpZCwgMCwgdGV4dFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGluZm8udXBkYXRlQ3J1ZCkge1xuICAgICAgY3J1ZC51cGRhdGVEb2N1bWVudCh7XG4gICAgICAgIGNvbGxlY3Rpb246IGluZm8uY29sbGVjdGlvbixcbiAgICAgICAgZG9jdW1lbnRfaWQ6IGluZm8uZG9jdW1lbnRfaWQsXG4gICAgICAgIGRhdGE6IHtbaW5mby5uYW1lXTogaW5mby52YWx1ZX0sXG4gICAgICAgIGVsZW1lbnQ6IGluZm8uZWxlbWVudCxcbiAgICAgICAgbWV0YWRhdGE6aW5mby5tZXRhZGF0YSxcbiAgICAgICAgbmFtZXNwYWNlOiBpbmZvLm5hbWVzcGFjZSxcbiAgICAgICAgcm9vbTogaW5mby5yb29tLFxuICAgICAgICBicm9hZGNhc3Q6IGluZm8uYnJvYWRjYXN0LFxuICAgICAgICB1cHNlcnQ6IGluZm8udXBzZXJ0LFxuICAgICAgICBicm9hZGNhc3Rfc2VuZGVyOiBpbmZvLmJyb2FkY2FzdF9zZW5kZXJcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIFxuICAvKlxuICBjcmR0Lmluc2VydFRleHQoe1xuICBcdGNvbGxlY3Rpb246ICdtb2R1bGVfYWN0aXZpdGllcycsXG4gIFx0ZG9jdW1lbnRfaWQ6ICc1ZTQ4MDJjZTNlZDk2ZDM4ZTcxZmM3ZTUnLFxuICBcdG5hbWU6ICduYW1lJyxcbiAgXHR2YWx1ZTogJ1QnLFxuICBcdHBvc2l0aW9uOiAnOCcsXG4gIFx0YXR0cmlidXRlczoge2JvbGQ6IHRydWV9XG4gIH0pXG4gICovXG4gIGluc2VydFRleHQoaW5mbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5fX3ZhbGlkYXRlS2V5c0pzb24oaW5mbyxbJ2NvbGxlY3Rpb24nLCdkb2N1bWVudF9pZCcsJ25hbWUnLCd2YWx1ZScsJ3Bvc2l0aW9uJ10pO1xuICAgICAgICBsZXQgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICB0aGlzLmluc2VydERhdGEoaWQsIGluZm9bJ3Bvc2l0aW9uJ10sIGluZm9bJ3ZhbHVlJ10udG9TdHJpbmcoKSwgaW5mb1snYXR0cmlidXRlcyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTsgXG4gICAgICB9XG4gIH1cbiAgXG4gIFxuICAvKlxuICBjcmR0LmRlbGV0ZVRleHQoe1xuICBcdGNvbGxlY3Rpb246ICdtb2R1bGVfYWN0aXZpdGllcycsXG4gIFx0ZG9jdW1lbnRfaWQ6ICc1ZTQ4MDJjZTNlZDk2ZDM4ZTcxZmM3ZTUnLFxuICBcdG5hbWU6ICduYW1lJyxcbiAgXHRwb3NpdGlvbjogJzgnLFxuICBcdGxlbmd0aDogMixcbiAgfSlcbiAgKi9cbiAgZGVsZXRlVGV4dChpbmZvKSB7XG4gICAgdHJ5e1xuICAgICAgdGhpcy5fX3ZhbGlkYXRlS2V5c0pzb24oaW5mbyxbJ2NvbGxlY3Rpb24nLCdkb2N1bWVudF9pZCcsJ25hbWUnLCAncG9zaXRpb24nLCdsZW5ndGgnXSk7XG4gICAgICBsZXQgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlRGF0YShpZCwgaW5mb1sncG9zaXRpb24nXSwgaW5mb1snbGVuZ3RoJ10pO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTsgXG4gICAgfVxuICB9XG4gIFxuICBcbiAgLypcbiAgY3JkdC5nZXRUZXh0KHtcbiAgXHRjb2xsZWN0aW9uOiAnbW9kdWxlX2FjdGl2aXRpZXMnLFxuICBcdGRvY3VtZW50X2lkOiAnNWU0ODAyY2UzZWQ5NmQzOGU3MWZjN2U1JyxcbiAgXHRuYW1lOiAnbmFtZSdcbiAgfSlcbiAgKi9cbiAgZ2V0VGV4dChpbmZvKSB7XG4gICAgdHJ5e1xuICAgICAgdGhpcy5fX3ZhbGlkYXRlS2V5c0pzb24oaW5mbyxbJ2NvbGxlY3Rpb24nLCdkb2N1bWVudF9pZCcsJ25hbWUnXSk7XG4gICAgICBsZXQgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFdob2xlU3RyaW5nKGlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTsgXG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gIH1cblxuICBcbiAgLyogXG4gIGNyZHQuZ2V0UG9zaXRpb24oZnVuY3Rpb24oZGF0YSkpXG4gIGNyZHQuZ2V0UG9zaXRpb24oZnVuY3Rpb24oZGF0YSl7Y29uc29sZS5sb2coXCIgRVNjdWNoYW5kbyBhaG9yYSAgXCIsZGF0YSl9KVxuICAqL1xuICBnZXRQb3NpdGlvbihjYWxsYmFjayl7XG4gIGlmKHR5cGVvZiBtaUZ1bmNpb24gPT09ICdmdW5jdGlvbicpXG4gICAgdGhpcy5jaGFuZ2VMaXN0ZW5Bd2VyZW5lc3MoY2FsbGJhY2spO1xuICBlbHNlXG4gICAgY29uc29sZS5lcnJvcignQ2FsbGJhY2sgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKVxuICB9XG4gXG4gIF9fZ2V0WURvY0lkKGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lKSB7XG4gICAgaWYgKCF1dGlscy5jaGVja1ZhbHVlKGNvbGxlY3Rpb24pIHx8IFxuICAgICAgICAhdXRpbHMuY2hlY2tWYWx1ZShkb2N1bWVudF9pZCkgfHwgXG4gICAgICAgICF1dGlscy5jaGVja1ZhbHVlKG5hbWUpKSBcbiAgICB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVJRChjb25maWcub3JnYW5pemF0aW9uX0lkLCBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSk7XG4gIH1cbiAgXG4gIF9fdmFsaWRhdGVLZXlzSnNvbihqc29uLHJ1bGVzKXtcbiAgICBsZXQga2V5c19qc29uID0gT2JqZWN0LmtleXMoanNvbik7XG4gICAga2V5c19qc29uLmZvckVhY2goa2V5PT57XG4gICAgICBjb25zdCBpbmRleCA9IHJ1bGVzLmluZGV4T2Yoa2V5KTtcbiAgICAgIGlmKGluZGV4ICE9IC0xKVxuICAgICAgICBydWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH0pO1xuICAgIGlmKCBydWxlcy5sZW5ndGggKVxuICAgICAgdGhyb3cgXCJSZXF1aXJlcyB0aGUgZm9sbG93aW5nIFwiKyBydWxlcy50b1N0cmluZygpO1xuICB9XG59XG5cbmNvbnN0IGdfeURvYyA9IG5ldyBZLkRvYygpO1xubGV0IENvQ3JlYXRlQ3JkdCA9IG5ldyBDb0NyZWF0ZUNSRFRDbGFzcyhjb25maWcub3JnYW5pemF0aW9uX0lkLCBnX3lEb2MpO1xud2luZG93LlkgPSBZO1xuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUNyZHQ7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-crdt/src/index.js\n")},"../CoCreate-crud/src/common-fun.js":(__unused_webpack_module,exports)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.getCommonParams = getCommonParams;\nexports.getCommonParamsExtend = getCommonParamsExtend;\nexports.generateSocketClient = generateSocketClient;\n\nfunction getCommonParams() {\n  return {\n    "apiKey": config.apiKey,\n    "securityKey": config.securityKey,\n    "organization_id": config.organization_Id\n  };\n}\n\nfunction getCommonParamsExtend(info) {\n  return {\n    "apiKey": info.apiKey || config.apiKey,\n    "securityKey": info.securityKey || config.securityKey,\n    "organization_id": info.organization_id || config.organization_Id\n  };\n}\n\nfunction generateSocketClient(namespace, room) {\n  let ns = namespace || config.organization_Id;\n  let rr = room || \'\';\n\n  if (rr) {\n    return `${ns}/${rr}`;\n  } else {\n    return ns;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWNydWQvc3JjL2NvbW1vbi1mdW4uanM/YWM5NiJdLCJuYW1lcyI6WyJnZXRDb21tb25QYXJhbXMiLCJjb25maWciLCJhcGlLZXkiLCJzZWN1cml0eUtleSIsIm9yZ2FuaXphdGlvbl9JZCIsImdldENvbW1vblBhcmFtc0V4dGVuZCIsImluZm8iLCJvcmdhbml6YXRpb25faWQiLCJnZW5lcmF0ZVNvY2tldENsaWVudCIsIm5hbWVzcGFjZSIsInJvb20iLCJucyIsInJyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxTQUFTQSxlQUFULEdBQ0E7QUFDRSxTQUFPO0FBQ0wsY0FBb0JDLE1BQU0sQ0FBQ0MsTUFEdEI7QUFFTCxtQkFBb0JELE1BQU0sQ0FBQ0UsV0FGdEI7QUFHTCx1QkFBb0JGLE1BQU0sQ0FBQ0c7QUFIdEIsR0FBUDtBQUtEOztBQUVELFNBQVNDLHFCQUFULENBQStCQyxJQUEvQixFQUNBO0FBQ0UsU0FBTztBQUNMLGNBQW9CQSxJQUFJLENBQUNKLE1BQUwsSUFBZUQsTUFBTSxDQUFDQyxNQURyQztBQUVMLG1CQUFvQkksSUFBSSxDQUFDSCxXQUFMLElBQW9CRixNQUFNLENBQUNFLFdBRjFDO0FBR0wsdUJBQW9CRyxJQUFJLENBQUNDLGVBQUwsSUFBd0JOLE1BQU0sQ0FBQ0c7QUFIOUMsR0FBUDtBQUtEOztBQUVELFNBQVNJLG9CQUFULENBQStCQyxTQUEvQixFQUEwQ0MsSUFBMUMsRUFDQTtBQUNFLE1BQUlDLEVBQUUsR0FBR0YsU0FBUyxJQUFJUixNQUFNLENBQUNHLGVBQTdCO0FBQ0EsTUFBSVEsRUFBRSxHQUFHRixJQUFJLElBQUksRUFBakI7O0FBQ0EsTUFBSUUsRUFBSixFQUFRO0FBQ04sV0FBUSxHQUFFRCxFQUFHLElBQUdDLEVBQUcsRUFBbkI7QUFDRCxHQUZELE1BRU87QUFDTCxXQUFPRCxFQUFQO0FBQ0Q7QUFDRiIsImZpbGUiOiIuLi9Db0NyZWF0ZS1jcnVkL3NyYy9jb21tb24tZnVuLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ2V0Q29tbW9uUGFyYW1zKCkgXG57XG4gIHJldHVybiB7XG4gICAgXCJhcGlLZXlcIjogICAgICAgICAgIGNvbmZpZy5hcGlLZXksXG4gICAgXCJzZWN1cml0eUtleVwiOiAgICAgIGNvbmZpZy5zZWN1cml0eUtleSxcbiAgICBcIm9yZ2FuaXphdGlvbl9pZFwiOiAgY29uZmlnLm9yZ2FuaXphdGlvbl9JZCxcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb21tb25QYXJhbXNFeHRlbmQoaW5mbykgXG57XG4gIHJldHVybiB7XG4gICAgXCJhcGlLZXlcIjogICAgICAgICAgIGluZm8uYXBpS2V5IHx8IGNvbmZpZy5hcGlLZXksXG4gICAgXCJzZWN1cml0eUtleVwiOiAgICAgIGluZm8uc2VjdXJpdHlLZXkgfHwgY29uZmlnLnNlY3VyaXR5S2V5LFxuICAgIFwib3JnYW5pemF0aW9uX2lkXCI6ICBpbmZvLm9yZ2FuaXphdGlvbl9pZCB8fCBjb25maWcub3JnYW5pemF0aW9uX0lkLFxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU29ja2V0Q2xpZW50IChuYW1lc3BhY2UsIHJvb20pIFxue1xuICBsZXQgbnMgPSBuYW1lc3BhY2UgfHwgY29uZmlnLm9yZ2FuaXphdGlvbl9JZFxuICBsZXQgcnIgPSByb29tIHx8ICcnO1xuICBpZiAocnIpIHtcbiAgICByZXR1cm4gYCR7bnN9LyR7cnJ9YFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBucztcbiAgfVxufVxuXG5leHBvcnQge2dldENvbW1vblBhcmFtcywgZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kLCBnZW5lcmF0ZVNvY2tldENsaWVudH07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../CoCreate-crud/src/common-fun.js\n')},"../CoCreate-crud/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(__webpack_require__(/*! @cocreate/socket */ \"../CoCreate-socket/src/index.js\"));\n\nvar _commonFun = __webpack_require__(/*! @cocreate/crud/src/common-fun.js */ \"../CoCreate-crud/src/common-fun.js\");\n\nvar _utilsCrud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud/src/utils.crud.js */ \"../CoCreate-crud/src/utils.crud.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet crud_socket = new _socket.default('ws'); // let crud = CRUD(socket)\n// var data = {\n//   \"org_id\": \"xxx\",\n//   \"customer.name\": \"Jin\",\n//   \"customer.fristname\": \"Jin\",\n//   \"customer.lastname\": \"CF\",\n//   \"customer.address.line1\": \"line1\",\n//   \"customer.address.line2\": \"line2\",\n//   'scope[0]': 'testing',\n//   'scope[1]': '---',\n//   \"customer.orders[0]\": 123,\n//   \"customer.orders[1]\": 243,\n// }\n// var obj = {\n//   test: {\n//     \"name\": '123',\n//     \"address\": 'address',\n//     \"customer\": {\n//       \"name\": 'tttt'\n//     },\n//     \"orders\": [1,2,3]\n//   }\n// }\n// console.log('----- convert object -----')\n// console.log(utilsCrud.decodeObject(data));\n// console.log(utilsCrud.encodeObject(obj));\n\nconst CoCreateCRUD = {\n  socket: null,\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n\n  /*\n   \n    CoCreate.crud.readDcoumentList {\n      collection: \"modules\",\n      element: \"xxxx\",\n      metadata: \"\",\n      operator: {\n        fetch: {\n          name: 'xxxx',\n          value: 'xxxxx'\n        },\n        filters: [{\n          name: 'field1',\n          operator: \"contain | range | eq | ne | lt | lte | gt | gte | in | nin\",\n          value: [v1, v2, ...]\n        }, {\n          name: \"_id\",\n          opreator: \"in\",\n          value: [\"id1\"]\n        }, {\n          ....\n        }],\n        orders: [{\n          name: 'field-x',\n          type: 1 | -1\n        }],\n        search: {\n          type: 'or | and',\n          value: [value1, value2]\n        },\n        \n        startIndex: 0 (integer),\n        count: 0 (integer)\n      },\n      \n      is_collection: true | false,\n      //. case fetch document case\n      created_ids : [id1, id2, ...],\n      \n      \n      -------- additional response data -----------\n      data: [] // array\n    }\n  */\n  readDocumentList(info) {\n    if (!info) return;\n    let request_data = (0, _commonFun.getCommonParams)();\n\n    if (!info.collection || !info.operator) {\n      return;\n    }\n\n    request_data = { ...request_data,\n      ...info\n    };\n    this.socket.send('readDocumentList', request_data);\n  },\n\n  /*\n  CoCreate.crud.createDocument({\n    namespace:'',\n    room:'',\n    broadcast: true/false, (default=ture)\n    broadcast_sender: true/false, (default=true) \n    \n    collection: \"test123\",\n    data:{\n    \tname1:hello,\n    \tname2:  hello1\n    },\n    element: xxxx,\n    metaData: \"xxxx\"\n  }),\n  */\n  // data param needs organization_id field added to pass security check\n  createDocument: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    let commonData = (0, _commonFun.getCommonParamsExtend)(info);\n    let request_data = { ...info,\n      ...commonData\n    };\n    let data = info.data || {};\n\n    if (!data['organization_id']) {\n      data['organization_id'] = config.organization_Id;\n    }\n\n    if (info['data']) {\n      data = { ...data,\n        ...info['data']\n      };\n    } //. rebuild data\n\n\n    request_data['data'] = data;\n    /** socket parameters **/\n    // if (info['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (info['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('createDocument', request_data, room);\n  },\n\n  /*\n  CoCreate.crud.updateDocument({\n    namespace: '',\n    room: '',\n    broadcast: true/false,\n    broadcast_sender: true/false,\n    \n    collection: \"test123\",\n    document_id: \"document_id\",\n    data:{\n    \tname1:hello,\n    \tname2:  hello1\n    },\n    delete_fields:[\"name3\", \"name4\"],\n    element: xxxx,\n    metaData: \"xxxx\"\n  }),\n  */\n  updateDocument: function (info) {\n    if (!info || !info['document_id']) return;\n    let commonData = (0, _commonFun.getCommonParamsExtend)(info);\n    let request_data = { ...info,\n      ...commonData\n    };\n\n    if (typeof info['data'] === 'object') {\n      request_data['set'] = info['data'];\n    }\n\n    if (Array.isArray(info['delete_fields'])) request_data['unset'] = info['delete_fields'];\n    if (!request_data['set'] && !request_data['unset']) return;\n\n    if (info.broadcast === false) {\n      request_data['broadcast'] = false;\n    }\n    /** socket parameters **/\n\n\n    if (info['broadcast_sender'] === undefined) {\n      request_data['broadcast_sender'] = true;\n    }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('updateDocument', request_data, room);\n  },\n\n  /*\n  CoCreate.crud.readDocument({\n    collection: \"test123\",\n    document_id: \"document_id\",\n    element: xxxx,\n    metaData: \"xxxx\",\n    exclude_fields: [] \n  }),\n  */\n  readDocument: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    if (!info['document_id'] || !info) {\n      return;\n    }\n\n    let commonData = (0, _commonFun.getCommonParams)();\n    let request_data = { ...info,\n      ...commonData\n    };\n    this.socket.send('readDocument', request_data);\n  },\n\n  /*\n  CoCreate.crud.deleteDocument({\n    namespace: '',\n    room: '',\n    broadcast: true/false,\n    broadcast_sender: true/false,\n    \n    collection: \"module\",\n    document_id: \"\",\n    element: xxxx,\n    metadata: \"xxxx\"\n  }),\n  */\n  deleteDocument: function (info) {\n    if (!info['document_id'] || !info) {\n      return;\n    }\n\n    let commonData = (0, _commonFun.getCommonParams)();\n    let request_data = { ...info,\n      ...commonData\n    };\n    /** socket parameters **/\n    // if (info['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (info['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('deleteDocument', request_data, room);\n  },\n\n  /** export / import db functions **/\n\n  /*\n  readDocument({\n   collection: \"test123\",\n   element: xxxx,\n   metaData: \"xxxx\",\n  }),\n  */\n  exportCollection: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['export_type'] = info['export_type'];\n    request_data['metadata'] = info['metadata'];\n    this.socket.send('exportDB', request_data);\n  },\n\n  /*\n  readDocument({\n    collection: \"test123\",\n    file: file\n  }),\n  */\n  importCollection: function (info) {\n    const {\n      file\n    } = info;\n\n    if (info === null || !(file instanceof File)) {\n      return;\n    }\n\n    const extension = file.name.split(\".\").pop();\n\n    if (!['json', 'csv'].some(item => item === extension)) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['import_type'] = extension;\n    this.socket.send('importDB', request_data);\n    this.socket.sendFile(file);\n  },\n  listen: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  listenAsync: function (eventname) {\n    this.socket.listenAsync(eventname);\n  },\n  createSocket: function (host, namespace) {\n    if (namespace) {\n      this.socket.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      this.socket.setGlobalScope(namespace);\n    } else {\n      this.socket.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  }\n};\nCoCreateCRUD.setSocket(crud_socket);\nCoCreateCRUD.createSocket(window.config.host ? window.config.host : 'server.cocreate.app', window.config.organization_Id);\nvar _default = CoCreateCRUD;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWNydWQvc3JjL2luZGV4LmpzPzRmNzUiXSwibmFtZXMiOlsiY3J1ZF9zb2NrZXQiLCJDb0NyZWF0ZVNvY2tldCIsIkNvQ3JlYXRlQ1JVRCIsInNvY2tldCIsInNldFNvY2tldCIsInJlYWREb2N1bWVudExpc3QiLCJpbmZvIiwicmVxdWVzdF9kYXRhIiwiY29sbGVjdGlvbiIsIm9wZXJhdG9yIiwic2VuZCIsImNyZWF0ZURvY3VtZW50IiwiY29tbW9uRGF0YSIsImRhdGEiLCJjb25maWciLCJvcmdhbml6YXRpb25fSWQiLCJyb29tIiwibmFtZXNwYWNlIiwidXBkYXRlRG9jdW1lbnQiLCJBcnJheSIsImlzQXJyYXkiLCJicm9hZGNhc3QiLCJ1bmRlZmluZWQiLCJyZWFkRG9jdW1lbnQiLCJkZWxldGVEb2N1bWVudCIsImV4cG9ydENvbGxlY3Rpb24iLCJpbXBvcnRDb2xsZWN0aW9uIiwiZmlsZSIsIkZpbGUiLCJleHRlbnNpb24iLCJuYW1lIiwic3BsaXQiLCJwb3AiLCJzb21lIiwiaXRlbSIsInNlbmRGaWxlIiwibGlzdGVuIiwibWVzc2FnZSIsImZ1biIsImxpc3RlbkFzeW5jIiwiZXZlbnRuYW1lIiwiY3JlYXRlU29ja2V0IiwiaG9zdCIsImNyZWF0ZSIsInNldEdsb2JhbFNjb3BlIiwid2luZG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxXQUFXLEdBQUcsSUFBSUMsZUFBSixDQUFtQixJQUFuQixDQUFsQixDLENBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQyxZQUFZLEdBQUc7QUFDbkJDLFFBQU0sRUFBRSxJQURXO0FB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QixTQUEzQjtBQUNBLEtBUEQsTUFPTztBQUNOLFdBQUtkLE1BQUwsQ0FBWXdDLE1BQVosQ0FBbUI7QUFDbEIxQixpQkFBUyxFQUFFLElBRE87QUFFbEJELFlBQUksRUFBRSxJQUZZO0FBR2xCMEIsWUFBSSxFQUFFQTtBQUhZLE9BQW5CO0FBS0E7QUFDRDtBQWhTbUIsQ0FBckI7QUFtU0F4QyxZQUFZLENBQUNFLFNBQWIsQ0FBdUJKLFdBQXZCO0FBQ0FFLFlBQVksQ0FBQ3VDLFlBQWIsQ0FBMEJJLE1BQU0sQ0FBQy9CLE1BQVAsQ0FBYzRCLElBQWQsR0FBcUJHLE1BQU0sQ0FBQy9CLE1BQVAsQ0FBYzRCLElBQW5DLEdBQTBDLHFCQUFwRSxFQUEyRkcsTUFBTSxDQUFDL0IsTUFBUCxDQUFjQyxlQUF6RztlQUVlYixZIiwiZmlsZSI6Ii4uL0NvQ3JlYXRlLWNydWQvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvQ3JlYXRlU29ja2V0IGZyb20gXCJAY29jcmVhdGUvc29ja2V0XCJcbmltcG9ydCB7Z2V0Q29tbW9uUGFyYW1zLCBnZXRDb21tb25QYXJhbXNFeHRlbmQsIGdlbmVyYXRlU29ja2V0Q2xpZW50fSBmcm9tIFwiQGNvY3JlYXRlL2NydWQvc3JjL2NvbW1vbi1mdW4uanNcIlxuaW1wb3J0IHV0aWxzQ3J1ZCBmcm9tIFwiQGNvY3JlYXRlL2NydWQvc3JjL3V0aWxzLmNydWQuanNcIlxuXG5sZXQgY3J1ZF9zb2NrZXQgPSBuZXcgQ29DcmVhdGVTb2NrZXQoJ3dzJyk7XG5cbi8vIGxldCBjcnVkID0gQ1JVRChzb2NrZXQpXG5cbi8vIHZhciBkYXRhID0ge1xuLy8gICBcIm9yZ19pZFwiOiBcInh4eFwiLFxuLy8gICBcImN1c3RvbWVyLm5hbWVcIjogXCJKaW5cIixcbi8vICAgXCJjdXN0b21lci5mcmlzdG5hbWVcIjogXCJKaW5cIixcbi8vICAgXCJjdXN0b21lci5sYXN0bmFtZVwiOiBcIkNGXCIsXG4vLyAgIFwiY3VzdG9tZXIuYWRkcmVzcy5saW5lMVwiOiBcImxpbmUxXCIsXG4vLyAgIFwiY3VzdG9tZXIuYWRkcmVzcy5saW5lMlwiOiBcImxpbmUyXCIsXG4vLyAgICdzY29wZVswXSc6ICd0ZXN0aW5nJyxcbi8vICAgJ3Njb3BlWzFdJzogJy0tLScsXG4vLyAgIFwiY3VzdG9tZXIub3JkZXJzWzBdXCI6IDEyMyxcbi8vICAgXCJjdXN0b21lci5vcmRlcnNbMV1cIjogMjQzLFxuLy8gfVxuXG4vLyB2YXIgb2JqID0ge1xuLy8gICB0ZXN0OiB7XG4vLyAgICAgXCJuYW1lXCI6ICcxMjMnLFxuLy8gICAgIFwiYWRkcmVzc1wiOiAnYWRkcmVzcycsXG4vLyAgICAgXCJjdXN0b21lclwiOiB7XG4vLyAgICAgICBcIm5hbWVcIjogJ3R0dHQnXG4vLyAgICAgfSxcbi8vICAgICBcIm9yZGVyc1wiOiBbMSwyLDNdXG4vLyAgIH1cbi8vIH1cbi8vIGNvbnNvbGUubG9nKCctLS0tLSBjb252ZXJ0IG9iamVjdCAtLS0tLScpXG4vLyBjb25zb2xlLmxvZyh1dGlsc0NydWQuZGVjb2RlT2JqZWN0KGRhdGEpKTtcbi8vIGNvbnNvbGUubG9nKHV0aWxzQ3J1ZC5lbmNvZGVPYmplY3Qob2JqKSk7XG5cbmNvbnN0IENvQ3JlYXRlQ1JVRCA9IHtcbiAgc29ja2V0OiBudWxsLFxuICBzZXRTb2NrZXQ6IGZ1bmN0aW9uKHNvY2tldCkge1xuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xuICB9LFxuICAvKlxuICAgXG4gICAgQ29DcmVhdGUuY3J1ZC5yZWFkRGNvdW1lbnRMaXN0IHtcbiAgICAgIGNvbGxlY3Rpb246IFwibW9kdWxlc1wiLFxuICAgICAgZWxlbWVudDogXCJ4eHh4XCIsXG4gICAgICBtZXRhZGF0YTogXCJcIixcbiAgICAgIG9wZXJhdG9yOiB7XG4gICAgICAgIGZldGNoOiB7XG4gICAgICAgICAgbmFtZTogJ3h4eHgnLFxuICAgICAgICAgIHZhbHVlOiAneHh4eHgnXG4gICAgICAgIH0sXG4gICAgICAgIGZpbHRlcnM6IFt7XG4gICAgICAgICAgbmFtZTogJ2ZpZWxkMScsXG4gICAgICAgICAgb3BlcmF0b3I6IFwiY29udGFpbiB8IHJhbmdlIHwgZXEgfCBuZSB8IGx0IHwgbHRlIHwgZ3QgfCBndGUgfCBpbiB8IG5pblwiLFxuICAgICAgICAgIHZhbHVlOiBbdjEsIHYyLCAuLi5dXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBuYW1lOiBcIl9pZFwiLFxuICAgICAgICAgIG9wcmVhdG9yOiBcImluXCIsXG4gICAgICAgICAgdmFsdWU6IFtcImlkMVwiXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgLi4uLlxuICAgICAgICB9XSxcbiAgICAgICAgb3JkZXJzOiBbe1xuICAgICAgICAgIG5hbWU6ICdmaWVsZC14JyxcbiAgICAgICAgICB0eXBlOiAxIHwgLTFcbiAgICAgICAgfV0sXG4gICAgICAgIHNlYXJjaDoge1xuICAgICAgICAgIHR5cGU6ICdvciB8IGFuZCcsXG4gICAgICAgICAgdmFsdWU6IFt2YWx1ZTEsIHZhbHVlMl1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHN0YXJ0SW5kZXg6IDAgKGludGVnZXIpLFxuICAgICAgICBjb3VudDogMCAoaW50ZWdlcilcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIGlzX2NvbGxlY3Rpb246IHRydWUgfCBmYWxzZSxcbiAgICAgIC8vLiBjYXNlIGZldGNoIGRvY3VtZW50IGNhc2VcbiAgICAgIGNyZWF0ZWRfaWRzIDogW2lkMSwgaWQyLCAuLi5dLFxuICAgICAgXG4gICAgICBcbiAgICAgIC0tLS0tLS0tIGFkZGl0aW9uYWwgcmVzcG9uc2UgZGF0YSAtLS0tLS0tLS0tLVxuICAgICAgZGF0YTogW10gLy8gYXJyYXlcbiAgICB9XG4gICovXG4gIFxuICByZWFkRG9jdW1lbnRMaXN0KGluZm8pe1xuICAgIGlmKCAhaW5mbyApIHJldHVybjtcbiAgICBsZXQgcmVxdWVzdF9kYXRhID0gZ2V0Q29tbW9uUGFyYW1zKCk7XG4gICAgXG4gICAgaWYgKCFpbmZvLmNvbGxlY3Rpb24gfHwgIWluZm8ub3BlcmF0b3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgcmVxdWVzdF9kYXRhID0gey4uLnJlcXVlc3RfZGF0YSwgLi4uaW5mb307XG4gICAgXG4gICAgdGhpcy5zb2NrZXQuc2VuZCgncmVhZERvY3VtZW50TGlzdCcsIHJlcXVlc3RfZGF0YSk7XG4gIH0sXG4gIFxuICBcbiAgLypcbiAgQ29DcmVhdGUuY3J1ZC5jcmVhdGVEb2N1bWVudCh7XG4gICAgbmFtZXNwYWNlOicnLFxuICAgIHJvb206JycsXG4gICAgYnJvYWRjYXN0OiB0cnVlL2ZhbHNlLCAoZGVmYXVsdD10dXJlKVxuICAgIGJyb2FkY2FzdF9zZW5kZXI6IHRydWUvZmFsc2UsIChkZWZhdWx0PXRydWUpIFxuICAgIFxuICAgIGNvbGxlY3Rpb246IFwidGVzdDEyM1wiLFxuICAgIGRhdGE6e1xuICAgIFx0bmFtZTE64oCcaGVsbG/igJ0sXG4gICAgXHRuYW1lMjogIOKAnGhlbGxvMeKAnVxuICAgIH0sXG4gICAgZWxlbWVudDog4oCceHh4eOKAnSxcbiAgICBtZXRhRGF0YTogXCJ4eHh4XCJcbiAgfSksXG4gICovXG4gIC8vIGRhdGEgcGFyYW0gbmVlZHMgb3JnYW5pemF0aW9uX2lkIGZpZWxkIGFkZGVkIHRvIHBhc3Mgc2VjdXJpdHkgY2hlY2tcbiAgY3JlYXRlRG9jdW1lbnQ6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICBpZiAoaW5mbyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgY29tbW9uRGF0YSA9IGdldENvbW1vblBhcmFtc0V4dGVuZChpbmZvKTtcbiAgICBsZXQgcmVxdWVzdF9kYXRhID0gey4uLmluZm8sIC4uLmNvbW1vbkRhdGF9O1xuXG4gICAgbGV0IGRhdGEgPSBpbmZvLmRhdGEgfHwge307XG4gICAgXG4gICAgaWYgKCFkYXRhWydvcmdhbml6YXRpb25faWQnXSkge1xuICAgICAgZGF0YVsnb3JnYW5pemF0aW9uX2lkJ10gPSBjb25maWcub3JnYW5pemF0aW9uX0lkXG4gICAgfVxuICAgIGlmIChpbmZvWydkYXRhJ10pIHtcbiAgICAgIGRhdGEgPSB7Li4uZGF0YSwgLi4uaW5mb1snZGF0YSddfVxuICAgIH1cbiAgICBcbiAgICAvLy4gcmVidWlsZCBkYXRhXG4gICAgcmVxdWVzdF9kYXRhWydkYXRhJ10gPSBkYXRhO1xuXG4gICAgLyoqIHNvY2tldCBwYXJhbWV0ZXJzICoqL1xuICAgIC8vIGlmIChpbmZvWydicm9hZGNhc3QnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdCddID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKGluZm9bJ2Jyb2FkY2FzdF9zZW5kZXInXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdF9zZW5kZXInXSA9IHRydWU7XG4gICAgLy8gfVxuICAgIFxuICAgIGNvbnN0IHJvb20gPSBnZW5lcmF0ZVNvY2tldENsaWVudChpbmZvLm5hbWVzcGFjZSwgaW5mby5yb29tKTtcbiAgICB0aGlzLnNvY2tldC5zZW5kKCdjcmVhdGVEb2N1bWVudCcsIHJlcXVlc3RfZGF0YSwgcm9vbSk7XG4gIH0sXG4gIFxuXG4gIFxuXG4gIC8qXG4gIENvQ3JlYXRlLmNydWQudXBkYXRlRG9jdW1lbnQoe1xuICAgIG5hbWVzcGFjZTogJycsXG4gICAgcm9vbTogJycsXG4gICAgYnJvYWRjYXN0OiB0cnVlL2ZhbHNlLFxuICAgIGJyb2FkY2FzdF9zZW5kZXI6IHRydWUvZmFsc2UsXG4gICAgXG4gICAgY29sbGVjdGlvbjogXCJ0ZXN0MTIzXCIsXG4gICAgZG9jdW1lbnRfaWQ6IFwiZG9jdW1lbnRfaWRcIixcbiAgICBkYXRhOntcbiAgICBcdG5hbWUxOuKAnGhlbGxv4oCdLFxuICAgIFx0bmFtZTI6ICDigJxoZWxsbzHigJ1cbiAgICB9LFxuICAgIGRlbGV0ZV9maWVsZHM6W1wibmFtZTNcIiwgXCJuYW1lNFwiXSxcbiAgICBlbGVtZW50OiDigJx4eHh44oCdLFxuICAgIG1ldGFEYXRhOiBcInh4eHhcIlxuICB9KSxcbiAgKi9cbiAgdXBkYXRlRG9jdW1lbnQ6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICBpZiggIWluZm8gfHwgIWluZm9bJ2RvY3VtZW50X2lkJ10gKSByZXR1cm47XG4gICAgXG4gICAgbGV0IGNvbW1vbkRhdGEgPSBnZXRDb21tb25QYXJhbXNFeHRlbmQoaW5mbyk7XG4gICAgXG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IHsuLi5pbmZvLCAuLi5jb21tb25EYXRhfTtcbiAgICBcbiAgICBpZiggdHlwZW9mIGluZm9bJ2RhdGEnXSA9PT0gJ29iamVjdCcgKSB7XG4gICAgICByZXF1ZXN0X2RhdGFbJ3NldCddID0gaW5mb1snZGF0YSddXG4gICAgfVxuICAgIGlmKCBBcnJheS5pc0FycmF5KGluZm9bJ2RlbGV0ZV9maWVsZHMnXSkgKSByZXF1ZXN0X2RhdGFbJ3Vuc2V0J10gPSBpbmZvWydkZWxldGVfZmllbGRzJ107XG4gICAgXG4gICAgaWYoIXJlcXVlc3RfZGF0YVsnc2V0J10gJiYgIXJlcXVlc3RfZGF0YVsndW5zZXQnXSkgcmV0dXJuO1xuICAgIFxuICAgIGlmIChpbmZvLmJyb2FkY2FzdCA9PT0gZmFsc2UpIHtcbiAgICAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0J10gPSBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLyoqIHNvY2tldCBwYXJhbWV0ZXJzICoqL1xuICAgIGlmIChpbmZvWydicm9hZGNhc3Rfc2VuZGVyJ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3Rfc2VuZGVyJ10gPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByb29tID0gZ2VuZXJhdGVTb2NrZXRDbGllbnQoaW5mby5uYW1lc3BhY2UsIGluZm8ucm9vbSk7XG4gICAgdGhpcy5zb2NrZXQuc2VuZCgndXBkYXRlRG9jdW1lbnQnLCByZXF1ZXN0X2RhdGEsIHJvb20pO1xuICB9LFxuICBcbiAgXG4gIC8qXG4gIENvQ3JlYXRlLmNydWQucmVhZERvY3VtZW50KHtcbiAgICBjb2xsZWN0aW9uOiBcInRlc3QxMjNcIixcbiAgICBkb2N1bWVudF9pZDogXCJkb2N1bWVudF9pZFwiLFxuICAgIGVsZW1lbnQ6IOKAnHh4eHjigJ0sXG4gICAgbWV0YURhdGE6IFwieHh4eFwiLFxuICAgIGV4Y2x1ZGVfZmllbGRzOiBbXSBcbiAgfSksXG4gICovXG4gIHJlYWREb2N1bWVudDogZnVuY3Rpb24oaW5mbykge1xuICAgIGlmIChpbmZvID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaW5mb1snZG9jdW1lbnRfaWQnXSB8fCAhaW5mbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBsZXQgY29tbW9uRGF0YSA9IGdldENvbW1vblBhcmFtcygpO1xuICAgIGxldCByZXF1ZXN0X2RhdGEgPSB7Li4uaW5mbywgLi4uY29tbW9uRGF0YX07XG4gICAgdGhpcy5zb2NrZXQuc2VuZCgncmVhZERvY3VtZW50JywgcmVxdWVzdF9kYXRhKTtcbiAgfSxcbiAgXG4gIFxuICAvKlxuICBDb0NyZWF0ZS5jcnVkLmRlbGV0ZURvY3VtZW50KHtcbiAgICBuYW1lc3BhY2U6ICcnLFxuICAgIHJvb206ICcnLFxuICAgIGJyb2FkY2FzdDogdHJ1ZS9mYWxzZSxcbiAgICBicm9hZGNhc3Rfc2VuZGVyOiB0cnVlL2ZhbHNlLFxuICAgIFxuICAgIGNvbGxlY3Rpb246IFwibW9kdWxlXCIsXG4gICAgZG9jdW1lbnRfaWQ6IFwiXCIsXG4gICAgZWxlbWVudDog4oCceHh4eOKAnSxcbiAgICBtZXRhZGF0YTogXCJ4eHh4XCJcbiAgfSksXG4gICovXG4gIGRlbGV0ZURvY3VtZW50OiBmdW5jdGlvbihpbmZvKSB7XG4gICAgaWYgKCFpbmZvWydkb2N1bWVudF9pZCddIHx8ICFpbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGxldCBjb21tb25EYXRhID0gZ2V0Q29tbW9uUGFyYW1zKCk7XG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IHsuLi5pbmZvLCAuLi5jb21tb25EYXRhfTtcbiAgICBcbiAgICAvKiogc29ja2V0IHBhcmFtZXRlcnMgKiovXG4gICAgLy8gaWYgKGluZm9bJ2Jyb2FkY2FzdCddID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0J10gPSB0cnVlO1xuICAgIC8vIH1cbiAgICAvLyBpZiAoaW5mb1snYnJvYWRjYXN0X3NlbmRlciddID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0X3NlbmRlciddID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgXG4gICAgY29uc3Qgcm9vbSA9IGdlbmVyYXRlU29ja2V0Q2xpZW50KGluZm8ubmFtZXNwYWNlLCBpbmZvLnJvb20pO1xuICAgIHRoaXMuc29ja2V0LnNlbmQoJ2RlbGV0ZURvY3VtZW50JywgcmVxdWVzdF9kYXRhLCByb29tKTtcbiAgfSxcblxuXG4gLyoqIGV4cG9ydCAvIGltcG9ydCBkYiBmdW5jdGlvbnMgKiovXG4gXG4gICAvKlxuICByZWFkRG9jdW1lbnQoe1xuICAgIGNvbGxlY3Rpb246IFwidGVzdDEyM1wiLFxuICAgIGVsZW1lbnQ6IOKAnHh4eHjigJ0sXG4gICAgbWV0YURhdGE6IFwieHh4eFwiLFxuICB9KSxcbiAgKi9cbiAgZXhwb3J0Q29sbGVjdGlvbjogZnVuY3Rpb24oaW5mbykge1xuICAgIGlmIChpbmZvID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IGdldENvbW1vblBhcmFtcygpO1xuICAgIHJlcXVlc3RfZGF0YVsnY29sbGVjdGlvbiddID0gaW5mb1snY29sbGVjdGlvbiddO1xuICAgIHJlcXVlc3RfZGF0YVsnZXhwb3J0X3R5cGUnXSA9IGluZm9bJ2V4cG9ydF90eXBlJ107XG5cbiAgICByZXF1ZXN0X2RhdGFbJ21ldGFkYXRhJ10gPSBpbmZvWydtZXRhZGF0YSddXG4gICAgdGhpcy5zb2NrZXQuc2VuZCgnZXhwb3J0REInLCByZXF1ZXN0X2RhdGEpO1xuICB9LFxuICBcbiAgLypcbiAgcmVhZERvY3VtZW50KHtcbiAgICBjb2xsZWN0aW9uOiBcInRlc3QxMjNcIixcbiAgICBmaWxlOiBmaWxlXG4gIH0pLFxuICAqL1xuICBpbXBvcnRDb2xsZWN0aW9uOiBmdW5jdGlvbihpbmZvKSB7XG4gICAgY29uc3Qge2ZpbGV9ID0gaW5mbztcbiAgICBpZiAoaW5mbyA9PT0gbnVsbCB8fCAhKGZpbGUgaW5zdGFuY2VvZiBGaWxlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IGZpbGUubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XG4gICAgXG4gICAgaWYgKCFbJ2pzb24nLCdjc3YnXS5zb21lKChpdGVtKSA9PiBpdGVtID09PSBleHRlbnNpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGxldCByZXF1ZXN0X2RhdGEgPSBnZXRDb21tb25QYXJhbXMoKVxuICAgIHJlcXVlc3RfZGF0YVsnY29sbGVjdGlvbiddID0gaW5mb1snY29sbGVjdGlvbiddXG4gICAgcmVxdWVzdF9kYXRhWydpbXBvcnRfdHlwZSddID0gZXh0ZW5zaW9uO1xuICAgIHRoaXMuc29ja2V0LnNlbmQoJ2ltcG9ydERCJywgcmVxdWVzdF9kYXRhKVxuICAgIHRoaXMuc29ja2V0LnNlbmRGaWxlKGZpbGUpO1xuICB9LFxuICBcbiAgbGlzdGVuOiBmdW5jdGlvbihtZXNzYWdlLCBmdW4pIHtcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4obWVzc2FnZSwgZnVuKTtcbiAgfSxcbiAgXG4gIGxpc3RlbkFzeW5jOiBmdW5jdGlvbihldmVudG5hbWUpIHtcbiAgICB0aGlzLnNvY2tldC5saXN0ZW5Bc3luYyhldmVudG5hbWUpO1xuICB9LFxuXG5cdGNyZWF0ZVNvY2tldDogZnVuY3Rpb24oaG9zdCwgbmFtZXNwYWNlKSB7XG5cdFx0aWYgKG5hbWVzcGFjZSkge1xuXHRcdFx0dGhpcy5zb2NrZXQuY3JlYXRlKHtcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsIFxuXHRcdFx0XHRyb29tOiBudWxsLFxuXHRcdFx0XHRob3N0OiBob3N0XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuc29ja2V0LnNldEdsb2JhbFNjb3BlKG5hbWVzcGFjZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc29ja2V0LmNyZWF0ZSh7XG5cdFx0XHRcdG5hbWVzcGFjZTogbnVsbCwgXG5cdFx0XHRcdHJvb206IG51bGwsXG5cdFx0XHRcdGhvc3Q6IGhvc3Rcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcbn1cblxuQ29DcmVhdGVDUlVELnNldFNvY2tldChjcnVkX3NvY2tldCk7XG5Db0NyZWF0ZUNSVUQuY3JlYXRlU29ja2V0KHdpbmRvdy5jb25maWcuaG9zdCA/IHdpbmRvdy5jb25maWcuaG9zdCA6ICdzZXJ2ZXIuY29jcmVhdGUuYXBwJywgd2luZG93LmNvbmZpZy5vcmdhbml6YXRpb25fSWQpXG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQ1JVRDtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../CoCreate-crud/src/index.js\n")},"../CoCreate-crud/src/utils.crud.js":(__unused_webpack_module,exports)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nfunction __mergeObject(target, source) {\n  target = target || {};\n\n  for (let key of Object.keys(source)) {\n    if (source[key] instanceof Object) {\n      Object.assign(source[key], __mergeObject(target[key], source[key]));\n    }\n  }\n\n  Object.assign(target || {}, source);\n  return target;\n}\n\nfunction __createObject(data, path) {\n  if (!path) return data;\n  let keys = path.split('.');\n  let newObject = data;\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    newObject = {\n      [keys[i]]: newObject\n    };\n  }\n\n  return newObject;\n}\n\nfunction __createArray(key, data) {\n  try {\n    let item = /([\\w\\W]+)\\[(\\d+)\\]/gm.exec(key);\n\n    if (item && item.length == 3) {\n      let arrayKey = item[1];\n      let index = parseInt(item[2]);\n\n      if (!data[arrayKey] || !Array.isArray(data[arrayKey])) {\n        data[arrayKey] = [];\n      }\n\n      data[arrayKey][index] = data[key];\n      delete data[key];\n      key = arrayKey;\n    }\n  } catch {\n    console.log('create array error');\n  }\n\n  return key;\n}\n\nfunction isObject(item) {\n  return !!item && item.constructor === Object;\n}\n\nfunction isArray(item) {\n  return !!item && item.constructor === Array;\n}\n\nfunction decodeObject(data) {\n  let keys = Object.keys(data);\n  let objectData = {};\n  keys.forEach(k => {\n    k = __createArray(k, data);\n\n    if (k.split('.').length > 1) {\n      let newData = __createObject(data[k], k);\n\n      delete data[k];\n      objectData = __mergeObject(objectData, newData);\n    } else {\n      objectData[k] = data[k];\n    }\n  });\n  return objectData;\n}\n\nfunction encodeObject(data) {\n  let keys = Object.keys(data);\n  let newData = {};\n  keys.forEach(k => {\n    let data_value = data[k];\n\n    if (isObject(data[k])) {\n      let new_obj = encodeObject(data[k]);\n      let newKeys = Object.keys(new_obj);\n      newKeys.forEach(newKey => {\n        let value = new_obj[newKey];\n        newKey = k + \".\" + newKey;\n        newData[newKey] = value;\n      });\n    } else if (isArray(data_value)) {\n      data_value.forEach((v, index) => {\n        newData[`${k}[${index}]`] = v;\n      });\n    } else {\n      newData[k] = data[k];\n    }\n  });\n  return newData;\n}\n\nvar _default = {\n  decodeObject,\n  encodeObject\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWNydWQvc3JjL3V0aWxzLmNydWQuanM/YzIzNSJdLCJuYW1lcyI6WyJfX21lcmdlT2JqZWN0IiwidGFyZ2V0Iiwic291cmNlIiwia2V5IiwiT2JqZWN0Iiwia2V5cyIsImFzc2lnbiIsIl9fY3JlYXRlT2JqZWN0IiwiZGF0YSIsInBhdGgiLCJzcGxpdCIsIm5ld09iamVjdCIsImkiLCJsZW5ndGgiLCJfX2NyZWF0ZUFycmF5IiwiaXRlbSIsImV4ZWMiLCJhcnJheUtleSIsImluZGV4IiwicGFyc2VJbnQiLCJBcnJheSIsImlzQXJyYXkiLCJjb25zb2xlIiwibG9nIiwiaXNPYmplY3QiLCJjb25zdHJ1Y3RvciIsImRlY29kZU9iamVjdCIsIm9iamVjdERhdGEiLCJmb3JFYWNoIiwiayIsIm5ld0RhdGEiLCJlbmNvZGVPYmplY3QiLCJkYXRhX3ZhbHVlIiwibmV3X29iaiIsIm5ld0tleXMiLCJuZXdLZXkiLCJ2YWx1ZSIsInYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFVQSxhQUFWLENBQXdCQyxNQUF4QixFQUFnQ0MsTUFBaEMsRUFDQTtBQUNDRCxRQUFNLEdBQUdBLE1BQU0sSUFBSSxFQUFuQjs7QUFDQSxPQUFLLElBQUlFLEdBQVQsSUFBZ0JDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSCxNQUFaLENBQWhCLEVBQXFDO0FBQ3BDLFFBQUlBLE1BQU0sQ0FBQ0MsR0FBRCxDQUFOLFlBQXVCQyxNQUEzQixFQUFtQztBQUNsQ0EsWUFBTSxDQUFDRSxNQUFQLENBQWNKLE1BQU0sQ0FBQ0MsR0FBRCxDQUFwQixFQUEyQkgsYUFBYSxDQUFDQyxNQUFNLENBQUNFLEdBQUQsQ0FBUCxFQUFjRCxNQUFNLENBQUNDLEdBQUQsQ0FBcEIsQ0FBeEM7QUFDQTtBQUNEOztBQUVEQyxRQUFNLENBQUNFLE1BQVAsQ0FBY0wsTUFBTSxJQUFJLEVBQXhCLEVBQTRCQyxNQUE1QjtBQUNBLFNBQU9ELE1B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bnQiOlsiZnVuY3Rpb24gXHRfX21lcmdlT2JqZWN0KHRhcmdldCwgc291cmNlKSBcbntcblx0dGFyZ2V0ID0gdGFyZ2V0IHx8IHt9O1xuXHRmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoc291cmNlKSkge1xuXHRcdGlmIChzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIE9iamVjdCkge1xuXHRcdFx0T2JqZWN0LmFzc2lnbihzb3VyY2Vba2V5XSwgX19tZXJnZU9iamVjdCh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pKVxuXHRcdH1cblx0fVxuXHRcblx0T2JqZWN0LmFzc2lnbih0YXJnZXQgfHwge30sIHNvdXJjZSlcblx0cmV0dXJuIHRhcmdldFxufVxuXG5mdW5jdGlvbiBfX2NyZWF0ZU9iamVjdChkYXRhLCBwYXRoKSBcbntcblx0aWYgKCFwYXRoKSByZXR1cm4gZGF0YTtcblx0XG5cdGxldCBrZXlzID0gcGF0aC5zcGxpdCgnLicpXG5cdGxldCBuZXdPYmplY3QgPSBkYXRhO1xuXG5cdGZvciAodmFyICBpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdG5ld09iamVjdCA9IHtba2V5c1tpXV06IG5ld09iamVjdH1cdFx0XHRcdFxuXHR9XG5cdHJldHVybiBuZXdPYmplY3Q7XG59XG5cbmZ1bmN0aW9uIF9fY3JlYXRlQXJyYXkoa2V5LCBkYXRhKVxue1xuICB0cnkge1xuICAgIGxldCBpdGVtID0gLyhbXFx3XFxXXSspXFxbKFxcZCspXFxdL2dtLmV4ZWMoa2V5KVxuICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID09IDMpIHtcbiAgICAgIGxldCBhcnJheUtleSA9IGl0ZW1bMV07XG4gICAgICBsZXQgaW5kZXggPSBwYXJzZUludChpdGVtWzJdKTtcbiAgICAgIFxuICAgICAgaWYgKCFkYXRhW2FycmF5S2V5XSB8fCAhQXJyYXkuaXNBcnJheShkYXRhW2FycmF5S2V5XSkpIHtcbiAgICAgICAgZGF0YVthcnJheUtleV0gPSBbXTtcbiAgICAgIH0gXG4gICAgICBkYXRhW2FycmF5S2V5XVtpbmRleF0gPSBkYXRhW2tleV07XG4gICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAga2V5ID0gYXJyYXlLZXk7XG4gICAgfVxuICB9IGNhdGNoIHtcbiAgICBjb25zb2xlLmxvZygnY3JlYXRlIGFycmF5IGVycm9yJyk7XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuXG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgcmV0dXJuICghIWl0ZW0pICYmIChpdGVtLmNvbnN0cnVjdG9yID09PSBPYmplY3QpO1xufVxuZnVuY3Rpb24gaXNBcnJheShpdGVtKSB7XG4gIHJldHVybiAoISFpdGVtKSAmJiAoaXRlbS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVPYmplY3QoZGF0YSkge1xuICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpXG4gIGxldCBvYmplY3REYXRhID0ge307XG4gIFxuICBrZXlzLmZvckVhY2goKGspID0+IHtcbiAgICBrID0gX19jcmVhdGVBcnJheShrLCBkYXRhKTtcbiAgICBpZiAoay5zcGxpdCgnLicpLmxlbmd0aCA+IDEpIHtcbiAgICAgIGxldCBuZXdEYXRhID0gX19jcmVhdGVPYmplY3QoZGF0YVtrXSwgayk7XG4gICAgICBkZWxldGUgZGF0YVtrXTtcbiAgICAgIFxuICAgICAgb2JqZWN0RGF0YSA9IF9fbWVyZ2VPYmplY3Qob2JqZWN0RGF0YSwgbmV3RGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdERhdGFba10gPSBkYXRhW2tdO1xuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG9iamVjdERhdGE7XG59XG5cbmZ1bmN0aW9uIGVuY29kZU9iamVjdChkYXRhKSB7XG4gIGxldCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gIGxldCBuZXdEYXRhID0ge307XG4gIGtleXMuZm9yRWFjaCgoaykgPT4ge1xuICAgIGxldCBkYXRhX3ZhbHVlID0gZGF0YVtrXTtcbiAgICBpZiAoaXNPYmplY3QoZGF0YVtrXSkpIHtcbiAgICAgIGxldCBuZXdfb2JqID0gZW5jb2RlT2JqZWN0KGRhdGFba10pO1xuICAgICAgXG4gICAgICBsZXQgbmV3S2V5cyA9IE9iamVjdC5rZXlzKG5ld19vYmopO1xuICAgICAgbmV3S2V5cy5mb3JFYWNoKChuZXdLZXkpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gbmV3X29ialtuZXdLZXldO1xuICAgICAgICBuZXdLZXkgPSBrICsgXCIuXCIgKyBuZXdLZXk7XG4gICAgICAgIG5ld0RhdGFbbmV3S2V5XSA9IHZhbHVlO1xuICAgICAgfSlcbiAgICAgIFxuICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhX3ZhbHVlKSl7XG4gICAgICBkYXRhX3ZhbHVlLmZvckVhY2goKHYsIGluZGV4KSA9PiB7XG4gICAgICAgIG5ld0RhdGFbYCR7a31bJHtpbmRleH1dYF0gPSB2O1xuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RGF0YVtrXSA9IGRhdGFba107XG4gICAgfVxuICB9KVxuICByZXR1cm4gbmV3RGF0YTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBkZWNvZGVPYmplY3QsXG4gIGVuY29kZU9iamVjdFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../CoCreate-crud/src/utils.crud.js\n")},"../CoCreate-cursors/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../CoCreate-utils/src/index.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../CoCreate-crud/src/index.js\"));\n\nvar _input = _interopRequireDefault(__webpack_require__(/*! @cocreate/input */ \"../CoCreate-input/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*global Element*/\n\n/**Uso esta variable para mostrar errores en caso que no este en prod*/\nvar element_multicursors = document.querySelectorAll('input,textarea,[contenteditable]'); //console.log(element_multicursors)\n\nvar debug = false;\nvar enviroment_prod = true;\nvar properties = ['boxSizing', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing', 'textRendering', 'webkitWritingMode', 'textTransform', 'textIndent', 'overflowWrap'];\nvar length_uuid = 30;\n\nclass CocreateUtilsCursor {\n  static print(message, debug) {\n    debug = debug || false;\n    if (debug) console.log(message);\n  }\n\n  static generateUUID(length = null) {\n    var d = new Date().getTime();\n    var d2 = performance && performance.now && performance.now() * 1000 || 0; //Time in microseconds since page-load or 0 if unsupported\n\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n\n      if (d > 0) {\n        var r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        var r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n\n      return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n    });\n\n    if (length != null) {\n      uuid = uuid.substr(0, length);\n    }\n\n    return uuid;\n  }\n\n}\n\nvar getParents = function (elem, selector) {// \tif (!Element.prototype.matches) {\n  // \t\tElement.prototype.matches =\n  // \t\t\tElement.prototype.matchesSelector ||\n  // \t\t\tElement.prototype.mozMatchesSelector ||\n  // \t\t\tElement.prototype.msMatchesSelector ||\n  // \t\t\tElement.prototype.oMatchesSelector ||\n  // \t\t\tElement.prototype.webkitMatchesSelector ||\n  // \t\t\tfunction(s) {\n  // \t\t\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n  // \t\t\t\t\ti = matches.length;\n  // \t\t\t\twhile (--i >= 0 && matches.item(i) !== this) {}\n  // \t\t\t\treturn i > -1;\n  // \t\t\t};\n  // \t}\n};\n\nvar mirrorDiv, computed, style, computedParentElement;\n\nvar getCaretCoordinates = function (element, position_start, position_end) {\n  // mirrored div\n  let name = element.getAttribute('name');\n  let document_id = element.getAttribute('data-document_id') || '';\n\n  if (document_id == '') {\n    return false;\n  }\n\n  var ID_MIRROR = element.dataset['mirror_id']; //document_id + name +  '--mirror-div';\n\n  mirrorDiv = document.getElementById(ID_MIRROR);\n  var add_class_scroll = element.className.indexOf('floating-label') == -1 ? false : true;\n\n  if (!mirrorDiv) {\n    mirrorDiv = document.createElement('div');\n    mirrorDiv.id = ID_MIRROR; //document_id +name+ '--mirror-div';\n\n    mirrorDiv.className = enviroment_prod ? 'mirror_color mirror_scroll mirror-width-scroll' : 'mirror-width-scroll'; //document.body.appendChild(mirrorDiv);\n\n    element.insertAdjacentElement('afterend', mirrorDiv);\n  }\n\n  var scrollwidth = element.offsetWidth - element.scrollWidth;\n  style = mirrorDiv.style;\n  computed = getComputedStyle(element);\n  computedParentElement = getComputedStyle(element.parentElement);\n  let margin_top = parseInt(computed['marginTop']);\n  let margin_left = parseInt(computed['marginLeft']);\n\n  if (element.nodeName !== 'INPUT') {\n    style.wordWrap = 'break-word'; // only for textarea-s\n\n    style.whiteSpace = 'pre-wrap';\n  } else {\n    style.whiteSpace = 'pre';\n  } // position off-screen\n\n\n  style.position = 'absolute'; // required to return coordinates properly\n\n  var rect = element.getBoundingClientRect(); // get Position from element\n\n  let scrrollTop_browser = document.documentElement.scrollTop; //style.top = ((rect.top+scrrollTop_browser)-1) - (parseInt(computed['marginTop']) - parseInt(computed['borderTopWidth']) ) + 'px'//parseInt(computed.borderTopWidth) + 'px'; //  element.offsetTop + parseInt(computed.borderTopWidth) + 'px';\n  //style.top = computedParentElement['top'];\n\n  style.top = element.offsetTop + 'px'; //style.left = rect.left - (parseInt(computed['marginLeft']) -  parseInt(computed['borderLeftWidth']) ) + 'px'//parseInt(computed.borderLeftWidth) + 'px'   // margin_left+\"px\";//\"400px\";\n  //style.left =  computedParentElement['left'];\n\n  style.left = element.offsetLeft + 'px';\n  style.width = rect.width + 'px'; // - (parseInt(computed.borderLeftWidth) + parseInt(computed.borderRightWidth)) + 'px'   // margin_left+\"px\";//\"400px\";\n\n  style.height = rect.height + 'px'; // - (parseInt(computed.borderTopWidth) + parseInt(computed.borderBottomWidth)) + 'px'   // margin_left+\"px\";//\"400px\";\n\n  style.visibility = 'visible';\n  properties.forEach(function (prop) {\n    if (['left', 'top'].indexOf(prop.toLowerCase()) === -1) style[prop] = computed[prop];\n  });\n  style.overflowX = 'auto';\n  style.overflowY = 'hidden';\n  style.margin = '0px'; //style.padding = '0px'\n\n  style.border = computed['border'];\n  style.borderColor = 'transparent';\n  /* \n  if(element.nodeName.toLowerCase()=='input'){\n    style.overflowX ='auto';\n    style.overflowY ='hidden';\n  }else{\n    style.overflow=\"visible\"\n  }*/\n  // style.paddingRight = (parseInt(style.paddingRight) + scrollwidth - parseInt(computed.borderRightWidth)) +'px';\n\n  let cursor_container = mirrorDiv.querySelectorAll('.cursor-container');\n  let selectors_by_users = mirrorDiv.querySelectorAll('.selectors_by_users');\n  let value_element = ['TEXTAREA', 'INPUT'].indexOf(element.nodeName) == -1 ? element.innerHTML : element.value;\n  mirrorDiv.textContent = value_element.substring(0, position_start);\n  if (element.nodeName === 'INPUT') mirrorDiv.textContent = mirrorDiv.textContent.replace(/\\s/g, \"\\u00a0\");\n  var span = document.createElement('span');\n  span.id = element.nodeName + 'span_selections';\n  let value_span = value_element.substring(position_start, position_end) || '';\n  span.textContent = value_span; // || because a completely empty faux span doesn't render at all\n  //span.style.backgroundColor = \"lightgrey\";\n\n  mirrorDiv.appendChild(span);\n\n  if (cursor_container) {\n    cursor_container.forEach(function (child_cursor, index, array) {\n      mirrorDiv.appendChild(child_cursor);\n    });\n  }\n\n  if (selectors_by_users) {\n    selectors_by_users.forEach(function (child_selection, index, array) {\n      mirrorDiv.appendChild(child_selection);\n    });\n  }\n\n  let value_end = value_element.substring(position_end) || '';\n  var span_end = document.createElement('span');\n  mirrorDiv.appendChild(span_end);\n  span_end.textContent = value_end;\n  var rect = element.getBoundingClientRect(); // get Position from element\n\n  var coordinates = {\n    start: {\n      top: span.offsetTop,\n      left: span.offsetLeft\n    },\n    end: {\n      top: span_end.offsetTop,\n      //+ parseInt(computed['borderTopWidth']),\n      left: span_end.offsetLeft // + parseInt(computed['borderLeftWidth'])\n\n    }\n  };\n  return coordinates;\n};\n\nfunction getStyle(el, styleProp) {\n  if (window.getComputedStyle) var y = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n  return y;\n}\n\nfunction getDocument(collection, module_id) {\n  _crud.default.readDocument({\n    'collection': collection,\n    'document_id': module_id\n  });\n}\n\n_crud.default.listen('readDocument', function (data) {\n  let cursor = document.querySelector('.cursor-flag[data-document_id=\"' + data['document_id'] + '\"]');\n  if (cursor) cursor.innerHTML = data.result[cursor.getAttribute('name')];\n});\n\nfunction draw_cursor(json) {\n  CocreateUtilsCursor.print([\"draw Cursor \", json], debug);\n  let element = json['element'];\n  let activate_cursor = element.dataset['cursors'] ? element.dataset['mirror_id'] : true;\n\n  if (activate_cursor) {\n    let start = json['startPosition'];\n    let end = json['endPositon'];\n    let socket_id = json['clientId'];\n    let document_id = element.getAttribute('data-document_id') || '';\n\n    if (document_id != '') {\n      CocreateUtilsCursor.print(\"action document_id \" + document_id, debug);\n      if (typeof element.dataset['mirror_id'] == 'undefined' || element.dataset['mirror_id'] == '') element.dataset['mirror_id'] = CocreateUtilsCursor.generateUUID(length_uuid);\n      let coordinates = getCaretCoordinates(element, start, end);\n      if (!coordinates) return false;\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id']; //document_id+name+'--mirror-div'\n\n      let mi_mirror = document.getElementById(id_mirror);\n      let cursor = false;\n      let selection_user = false;\n      let identify = '_' + id_mirror;\n      let user = typeof json != 'undefined' && json.hasOwnProperty('user') ? json.user : false;\n      let user_id = typeof json != 'undefined' && json.hasOwnProperty('user_id') ? user.user_id : false;\n\n      if (socket_id) {\n        //if(data && data.hasOwnProperty('id_mirror')){\n        var cursores_other_elements = document.querySelectorAll('#socket_' + socket_id + identify);\n        cursores_other_elements.forEach(function (child_cursor, index, array) {\n          if (child_cursor.parentElement.getAttribute('id') != id_mirror) {\n            CocreateUtilsCursor.print(\"remove old cursor others elements\", debug);\n            child_cursor.remove();\n          }\n        }); //}\n\n        cursor = mi_mirror.querySelector('.cursor-container#socket_' + socket_id + identify);\n\n        if (!cursor && json.hasOwnProperty('user')) {\n          if (user) {\n            CocreateUtilsCursor.print(\"Create Cursor\", debug);\n            let cursor_template = '<div style=\"color:blue;\" class=\"cursor-container\" \\\n                                                  id=\"socket_' + socket_id + identify + '\" \\\n                                                  ><div class=\"cursor\" \\\n                                                  style=\"background-color:' + user.color + '\"></div>\\\n                                                  <div class=\"cursor-flag\" data-collection=\"users\" \\\n                                                  name=\"name\" \\\n                                                  data-user_name=\"' + user.name + '\" \\\n                                                  data-user_color=\"' + user.color + '\" \\\n                                                  data-socket_id=\"' + socket_id + '\" \\\n                                                  data-id_mirror=\"' + id_mirror + '\" \\\n                                                  data-document_id=\"' + user_id + '\" \\\n                                                  style=\"background-color:' + user.color + '\" \\\n                                                  flag>' + user.name + '</div></div>';\n            mi_mirror.innerHTML = cursor_template + mi_mirror.innerHTML;\n          }\n\n          if (user_id) {\n            // si tiene user_id actualiza el nombre del cursor usando crud\n            _crud.default.readDocument({\n              'collection': 'users',\n              'document_id': user_id\n            });\n          }\n        }\n\n        cursor = mi_mirror.querySelector('.cursor-container#socket_' + socket_id + identify);\n      }\n\n      if (cursor) {\n        CocreateUtilsCursor.print([\"Update Cursor\", cursor, coordinates], debug);\n        let font_size = getStyle(element, 'font-size');\n        font_size = parseFloat(font_size.substring(0, font_size.length - 2));\n        let cursor_height = font_size * 112.5 / 100;\n        let my_cursor = cursor.querySelector('.cursor');\n        cursor.dataset.start = start;\n        cursor.dataset.end = end;\n        cursor.dataset.socket_id = socket_id;\n        /*cursor.dataset.user_name = user.name\n        cursor.dataset.user_color = user.color*/\n\n        cursor.style[\"top\"] = coordinates.end.top + \"px\";\n        cursor.style[\"width\"] = \"2px\"; //2px\n\n        my_cursor.style[\"height\"] = cursor_height + \"px\";\n        cursor.style[\"left\"] = coordinates.end.left + \"px\"; //add selections\n\n        selection_user = document.getElementById('sel-' + socket_id + identify);\n\n        if (start != end && user) {\n          selection_user = document.getElementById('sel-' + socket_id + identify);\n\n          if (selection_user) {\n            selection_user.remove();\n          }\n\n          var scrollwidth = element.offsetWidth - element.scrollWidth;\n          var padding_right = parseInt(getComputedStyle(element)[\"paddingRight\"]);\n          selection_user = document.createElement('span');\n          selection_user.id = 'sel-' + socket_id + identify;\n          selection_user.className = 'selectors_by_users';\n          let style_mirror = getComputedStyle(mi_mirror);\n          selection_user.style[\"position\"] = \"absolute\";\n          selection_user.style[\"top\"] = style_mirror.paddingTop;\n          selection_user.style[\"left\"] = style_mirror.paddingLeft;\n          selection_user.style[\"padding-right\"] = scrollwidth + padding_right + \"px\";\n          mi_mirror.insertBefore(selection_user, mi_mirror.firstChild);\n          let selection_span_by_user = document.createElement('span');\n          selection_span_by_user.id = 'selection-' + socket_id + identify;\n          selection_span_by_user.style.backgroundColor = user.color;\n          let value_element = ['TEXTAREA', 'INPUT'].indexOf(element.nodeName) == -1 ? element.innerHTML : element.value;\n          selection_user.textContent = value_element.substring(0, start);\n          let value_span_selection = value_element.substring(start, end) || '';\n          console.log(\"Selection \", value_span_selection, start, end); //selection_span_by_user.style.opacity = 0.5;\n\n          selection_span_by_user.textContent = value_span_selection;\n          selection_user.appendChild(selection_span_by_user);\n        } //end Selections\n        else {\n            if (selection_user) {\n              selection_user.remove();\n            }\n          }\n      }\n    } //end if document_id\n\n  } //end activate_cursors\n\n} //draw_cursor\n\n\nfunction refresh_mirror(element) {\n  var id_mirror = '';\n  let document_id = element.getAttribute('data-document_id') || '';\n\n  if (document_id != '') {\n    name = element.getAttribute('name');\n    if (element.dataset['mirror_id']) id_mirror = element.dataset['mirror_id'];else return; //console.log(\"Refresh \",id_mirror)\n\n    var mi_mirror = document.getElementById(id_mirror);\n    CocreateUtilsCursor.print([\"refresh_mirror \", mi_mirror], debug);\n    var selector_element = element.nodeName + \"[name='\" + name + \"'][data-document_id='\" + document_id + \"']\";\n    CocreateUtilsCursor.print([\"selector -> \" + selector_element], debug);\n\n    if (mi_mirror) {\n      computed = getComputedStyle(element);\n      style = mi_mirror.style;\n      style.width = element.offsetWidth - (parseInt(computed.borderLeftWidth) + parseInt(computed.borderRightWidth)) + 'px';\n      style.height = element.offsetHeight - (parseInt(computed.borderTopWidth) + parseInt(computed.borderBottomWidth)) + 'px';\n      var cursor_container = mi_mirror.querySelectorAll('.cursor-container');\n      cursor_container.forEach(function (child_cursor, index, array) {\n        //console.log(\"REdraw cursor\")\n        let child = child_cursor.querySelector('.cursor-flag');\n        let dataset_child = child.dataset;\n        let dataset = child_cursor.dataset;\n        draw_cursor({\n          element: element,\n          startPosition: dataset.start,\n          endPositon: dataset.end,\n          clientId: dataset.socket_id,\n          user: {\n            'color': dataset_child.user_color,\n            'name': dataset.user_name\n          }\n        });\n      });\n    }\n  } //end document\n\n} //end verify \n\n\nElement.prototype.remove = function () {\n  if (this.parentElement) {\n    this.parentElement.removeChild(this);\n  }\n};\n\nfunction recalculate_local_cursors(element, count) {\n  CocreateUtilsCursor.print(\"count \" + count, debug);\n  let my_start = !element.hasAttribute('contenteditable') ? element.selectionStart : parseInt(element.getAttribute(\"selection_start\")); //let my_start   = element.selectionStart\n\n  let name = element.getAttribute('name') || '';\n  let document_id = element.getAttribute('data-document_id') || '';\n  let collection = element.getAttribute('data-collection') || '';\n  let selector = '[data-collection=\"' + collection + '\"][data-document_id=\"' + document_id + '\"][name=\"' + name + '\"]';\n  let id_mirror = element.dataset['mirror_id']; //let id_mirror = document_id+name+'--mirror-div';\n\n  let mirrorDiv = document.getElementById(id_mirror);\n  let cursor_container = mirrorDiv ? mirrorDiv.querySelectorAll('.cursor-container') : null;\n\n  if (cursor_container) {\n    let containers_cursors = [];\n    cursor_container.forEach(function (child_cursor, index, array) {\n      let start = parseInt(child_cursor.getAttribute('data-start'));\n      let user_name = child_cursor.getAttribute('data-user_name');\n      CocreateUtilsCursor.print([\"my_start local\", my_start, 'start cursor ' + user_name + \" = \", start], debug);\n\n      if (start > my_start && containers_cursors.indexOf(user_name) == -1) {\n        CocreateUtilsCursor.print(\"Es mayor\", debug);\n        let end = parseInt(child_cursor.getAttribute('data-end'));\n        let pos_start = start + count;\n        let pos_end = end + count;\n        CocreateUtilsCursor.print(['pos_start', pos_start, 'pos_end', pos_end], debug);\n        let dataset = child_cursor.querySelector('.cursor-flag').dataset;\n        let clientId = dataset.socket_id;\n        let json = {\n          element: element,\n          startPosition: pos_start,\n          endPositon: pos_end,\n          clientId: clientId,\n          'user': {\n            'color': dataset.user_color,\n            'name': dataset.user_name\n          }\n        };\n        CocreateUtilsCursor.print([\"sent Draw Cursor \", json], debug);\n        draw_cursor(json);\n        containers_cursors.push(user_name);\n      } //mirrorDiv.appendChild(child_cursor);\n\n    });\n  }\n}\n\nfunction initCursorEl(element) {\n  let formulario = getParents(element, 'form');\n  let realtime = element.hasAttribute('data-realtime') ? element.getAttribute('data-realtime') : 'true';\n\n  if (realtime == 'true' || formulario && formulario.getAttribute('data-realtime') == 'true') {\n    if (realtime == 'false') return false;\n    CocreateUtilsCursor.print([\"Init Events \", element], debug);\n    /*\n    element.addEventListener('input',function(event){\n        let start = element.selectionStart;\n        let end = element.selectionEnd;\n        let coordinates = getCaretCoordinates(element,start,end);\n        let count = 0;\n        switch(event.inputType){\n          case 'insertText':\n            count = 1;\n          break;\n          case 'insertFromPaste':\n           // count = event.clipboardData.getData('Text').length\n          break;\n          case 'deleteContentBackward':\n          //case 'insertFromPaste':\n            count = -1;\n          break;\n        }\n        if(count)\n          recalculate_local_cursors(this,count)\n    },false)\n    */\n\n    element.addEventListener('scroll', function () {\n      CocreateUtilsCursor.print([\"Move Scroll \", element], true);\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id') || '';\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n\n      if (mi_mirror) {\n        mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n      }\n    }, false); //resize\n\n    function outputsize() {\n      element_multicursors.forEach(function (element_for, index, array) {\n        let name = element_for.getAttribute('name');\n        let id_mirror = element.dataset['mirror_id'];\n        CocreateUtilsCursor.print([\"Resize id_mirror -> \" + id_mirror], debug);\n        let mi_mirror = document.getElementById(id_mirror);\n\n        if (mi_mirror) {\n          mi_mirror.style[\"width\"] = element_for.offsetWidth + \"px\";\n          mi_mirror.style[\"height\"] = element_for.offsetHeight + \"px\"; //var isFocused = (document.activeElement === element_for);\n          //verify_cursor(element_for,isFocused)\n\n          var isFocused = document.activeElement === element;\n          if (isFocused) getCaretCoordinates(element, element.selectionStart, element.selectionEnd);\n          refresh_mirror(element);\n        }\n      });\n    }\n\n    new ResizeObserver(outputsize).observe(element); //if (element.nodeName == 'INPUT'){\n\n    element.addEventListener('mousemove', function (event) {\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    });\n    element.addEventListener('focusout', function (event) {\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id') || '';\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    });\n    element.addEventListener('keydown', function (event) {\n      //console.log(\"keydown L,T => \",element.scrollLeft,element.scrollTop)\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n\n      if (mi_mirror) {\n        mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n        refresh_mirror(element);\n      }\n    });\n    element.addEventListener('keyup', function (event) {\n      //console.log(\"keyup L,T => \",element.scrollLeft,element.scrollTop)\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    }); //}\n  } //end if realtime TRUE\n\n}\n\nvar initialize_multicursor = function (element_multicursors) {\n  element_multicursors.forEach(function (element, index, array) {\n    initCursorEl(element);\n  }); // element_multicursors.forEach\n}; //end initialize_multicursor \n\n\nwindow.addEventListener('resize', function (e) {\n  //console.log(\"resize windows\")\n  document.querySelectorAll('[data-mirror_id]').forEach(function (element, index, array) {\n    refresh_mirror(element);\n  }); // element_multicursors.forEach\n}, true);\ndocument.addEventListener('scroll', function (e) {\n  //console.log(\"Scroll \")\n  //console.log(\"scroll windows\",document.body.scrollLeft,document.body.scrollTop)\n  //element_multicursors.forEach(function (element, index, array) {\n  document.querySelectorAll('[data-mirror_id]').forEach(function (element, index, array) {\n    refresh_mirror(element);\n  }); // element_multicursors.forEach\n}, true);\n\nfunction initCursorElements(container) {\n  let mainContainer = container || window;\n\n  if (!mainContainer.querySelectorAll) {\n    return;\n  }\n\n  let elements = mainContainer.querySelectorAll('[data-realtime=true]');\n  elements.forEach(el => {\n    initCursorEl(el);\n  });\n}\n\nif (debug) console.log(\"elements to INIT -> \", element_multicursors);\ninitialize_multicursor(element_multicursors); // CoCreateInit.register_old('[data-realtime=true]',initCursorEl);\n// CoCreateInit.register('CoCreateCursor', window, initCursorElements);\n\n_observer.default.init({\n  name: 'CoCreateCursor',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name][data-realtime=true]',\n  callback: function (mutation) {\n    initCursorElements(mutation.target);\n  }\n});\n\nconst CoCreateCursors = {\n  draw_cursor,\n  refresh_mirror,\n  recalculate_local_cursors\n};\nvar _default = CoCreateCursors;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWN1cnNvcnMvc3JjL2luZGV4LmpzPzQ4N2MiXSwibmFtZXMiOlsiZWxlbWVudF9tdWx0aWN1cnNvcnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkZWJ1ZyIsImVudmlyb21lbnRfcHJvZCIsInByb3BlcnRpZXMiLCJsZW5ndGhfdXVpZCIsIkNvY3JlYXRlVXRpbHNDdXJzb3IiLCJwcmludCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiZ2VuZXJhdGVVVUlEIiwibGVuZ3RoIiwiZCIsIkRhdGUiLCJnZXRUaW1lIiwiZDIiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInV1aWQiLCJyZXBsYWNlIiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwiZmxvb3IiLCJ0b1N0cmluZyIsInN1YnN0ciIsImdldFBhcmVudHMiLCJlbGVtIiwic2VsZWN0b3IiLCJtaXJyb3JEaXYiLCJjb21wdXRlZCIsInN0eWxlIiwiY29tcHV0ZWRQYXJlbnRFbGVtZW50IiwiZ2V0Q2FyZXRDb29yZGluYXRlcyIsImVsZW1lbnQiLCJwb3NpdGlvbl9zdGFydCIsInBvc2l0aW9uX2VuZCIsIm5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJkb2N1bWVudF9pZCIsIklEX01JUlJPUiIsImRhdGFzZXQiLCJnZXRFbGVtZW50QnlJZCIsImFkZF9jbGFzc19zY3JvbGwiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwic2Nyb2xsd2lkdGgiLCJvZmZzZXRXaWR0aCIsInNjcm9sbFdpZHRoIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcmVudEVsZW1lbnQiLCJtYXJnaW5fdG9wIiwicGFyc2VJbnQiLCJtYXJnaW5fbGVmdCIsIm5vZGVOYW1lIiwid29yZFdyYXAiLCJ3aGl0ZVNwYWNlIiwicG9zaXRpb24iLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nycm9sbFRvcF9icm93c2VyIiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwidG9wIiwib2Zmc2V0VG9wIiwibGVmdCIsIm9mZnNldExlZnQiLCJ3aWR0aCIsImhlaWdodCIsInZpc2liaWxpdHkiLCJmb3JFYWNoIiwicHJvcCIsInRvTG93ZXJDYXNlIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwibWFyZ2luIiwiYm9yZGVyIiwiYm9yZGVyQ29sb3IiLCJjdXJzb3JfY29udGFpbmVyIiwic2VsZWN0b3JzX2J5X3VzZXJzIiwidmFsdWVfZWxlbWVudCIsImlubmVySFRNTCIsInZhbHVlIiwidGV4dENvbnRlbnQiLCJzdWJzdHJpbmciLCJzcGFuIiwidmFsdWVfc3BhbiIsImFwcGVuZENoaWxkIiwiY2hpbGRfY3Vyc29yIiwiaW5kZXgiLCJhcnJheSIsImNoaWxkX3NlbGVjdGlvbiIsInZhbHVlX2VuZCIsInNwYW5fZW5kIiwiY29vcmRpbmF0ZXMiLCJzdGFydCIsImVuZCIsImdldFN0eWxlIiwiZWwiLCJzdHlsZVByb3AiLCJ3aW5kb3ciLCJ5IiwiZGVmYXVsdFZpZXciLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0RG9jdW1lbnQiLCJjb2xsZWN0aW9uIiwibW9kdWxlX2lkIiwiY3J1ZCIsInJlYWREb2N1bWVudCIsImxpc3RlbiIsImRhdGEiLCJjdXJzb3IiLCJxdWVyeVNlbGVjdG9yIiwicmVzdWx0IiwiZHJhd19jdXJzb3IiLCJqc29uIiwiYWN0aXZhdGVfY3Vyc29yIiwic29ja2V0X2lkIiwiaWRfbWlycm9yIiwibWlfbWlycm9yIiwic2VsZWN0aW9uX3VzZXIiLCJpZGVudGlmeSIsInVzZXIiLCJoYXNPd25Qcm9wZXJ0eSIsInVzZXJfaWQiLCJjdXJzb3Jlc19vdGhlcl9lbGVtZW50cyIsInJlbW92ZSIsImN1cnNvcl90ZW1wbGF0ZSIsImNvbG9yIiwiZm9udF9zaXplIiwicGFyc2VGbG9hdCIsImN1cnNvcl9oZWlnaHQiLCJteV9jdXJzb3IiLCJwYWRkaW5nX3JpZ2h0Iiwic3R5bGVfbWlycm9yIiwicGFkZGluZ1RvcCIsInBhZGRpbmdMZWZ0IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInNlbGVjdGlvbl9zcGFuX2J5X3VzZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ2YWx1ZV9zcGFuX3NlbGVjdGlvbiIsInJlZnJlc2hfbWlycm9yIiwic2VsZWN0b3JfZWxlbWVudCIsImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiY2hpbGQiLCJkYXRhc2V0X2NoaWxkIiwic3RhcnRQb3NpdGlvbiIsImVuZFBvc2l0b24iLCJjbGllbnRJZCIsInVzZXJfY29sb3IiLCJ1c2VyX25hbWUiLCJFbGVtZW50IiwicHJvdG90eXBlIiwicmVtb3ZlQ2hpbGQiLCJyZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzIiwiY291bnQiLCJteV9zdGFydCIsImhhc0F0dHJpYnV0ZSIsInNlbGVjdGlvblN0YXJ0IiwiY29udGFpbmVyc19jdXJzb3JzIiwicG9zX3N0YXJ0IiwicG9zX2VuZCIsInB1c2giLCJpbml0Q3Vyc29yRWwiLCJmb3JtdWxhcmlvIiwicmVhbHRpbWUiLCJhZGRFdmVudExpc3RlbmVyIiwic2Nyb2xsVG8iLCJzY3JvbGxMZWZ0Iiwib3V0cHV0c2l6ZSIsImVsZW1lbnRfZm9yIiwiaXNGb2N1c2VkIiwiYWN0aXZlRWxlbWVudCIsInNlbGVjdGlvbkVuZCIsIlJlc2l6ZU9ic2VydmVyIiwib2JzZXJ2ZSIsImV2ZW50IiwiaW5pdGlhbGl6ZV9tdWx0aWN1cnNvciIsImUiLCJpbml0Q3Vyc29yRWxlbWVudHMiLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiZWxlbWVudHMiLCJvYnNlcnZlciIsImluaXQiLCJpbmNsdWRlIiwiY2FsbGJhY2siLCJtdXRhdGlvbiIsInRhcmdldCIsIkNvQ3JlYXRlQ3Vyc29ycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNB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QUliQyxVQUFRLEVBQUUsVUFBU0MsUUFBVCxFQUFtQjtBQUM1QlIsc0JBQWtCLENBQUNRLFFBQVEsQ0FBQ0MsTUFBVixDQUFsQjtBQUNBO0FBTlksQ0FBZDs7QUFTQSxNQUFNQyxlQUFlLEdBQUc7QUFBRWhGLGFBQUY7QUFBZTRCLGdCQUFmO0FBQStCaUI7QUFBL0IsQ0FBeEI7ZUFDZW1DLGUiLCJmaWxlIjoiLi4vQ29DcmVhdGUtY3Vyc29ycy9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCBFbGVtZW50Ki9cbmltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInXG5pbXBvcnQgdXRpbHMgZnJvbSAnQGNvY3JlYXRlL3V0aWxzJztcbmltcG9ydCBjcnVkIGZyb20gJ0Bjb2NyZWF0ZS9jcnVkJztcbmltcG9ydCBpbnB1dCBmcm9tICdAY29jcmVhdGUvaW5wdXQnXG5cblxuLyoqVXNvIGVzdGEgdmFyaWFibGUgcGFyYSBtb3N0cmFyIGVycm9yZXMgZW4gY2FzbyBxdWUgbm8gZXN0ZSBlbiBwcm9kKi9cblxudmFyIGVsZW1lbnRfbXVsdGljdXJzb3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsdGV4dGFyZWEsW2NvbnRlbnRlZGl0YWJsZV0nKVxuXG4vL2NvbnNvbGUubG9nKGVsZW1lbnRfbXVsdGljdXJzb3JzKVxudmFyIGRlYnVnID0gZmFsc2VcbnZhciBlbnZpcm9tZW50X3Byb2QgPSB0cnVlXG52YXIgcHJvcGVydGllcyA9IFsnYm94U2l6aW5nJywnYm9yZGVyVG9wV2lkdGgnLCdib3JkZXJSaWdodFdpZHRoJywnYm9yZGVyQm90dG9tV2lkdGgnLCdib3JkZXJMZWZ0V2lkdGgnLCdwYWRkaW5nVG9wJywncGFkZGluZ1JpZ2h0JywncGFkZGluZ0JvdHRvbScsJ3BhZGRpbmdMZWZ0JywnbWFyZ2luVG9wJywnbWFyZ2luUmlnaHQnLCdtYXJnaW5Cb3R0b20nLCdtYXJnaW5MZWZ0JywnZm9udFN0eWxlJywnZm9udFZhcmlhbnQnLCdmb250V2VpZ2h0JywnZm9udFN0cmV0Y2gnLCdmb250U2l6ZScsJ2xpbmVIZWlnaHQnLCdmb250RmFtaWx5JywndGV4dEFsaWduJywndGV4dFRyYW5zZm9ybScsJ3RleHRJbmRlbnQnLCd0ZXh0RGVjb3JhdGlvbicsJ2xldHRlclNwYWNpbmcnLCd3b3JkU3BhY2luZycsJ3RleHRSZW5kZXJpbmcnLCd3ZWJraXRXcml0aW5nTW9kZScsJ3RleHRUcmFuc2Zvcm0nLCd0ZXh0SW5kZW50Jywnb3ZlcmZsb3dXcmFwJ107XG52YXIgbGVuZ3RoX3V1aWQgPSAzMDtcblxuXG5jbGFzcyBDb2NyZWF0ZVV0aWxzQ3Vyc29ye1xuICBcbiAgc3RhdGljIHByaW50KG1lc3NhZ2UsZGVidWcpIHtcbiAgICBkZWJ1ZyA9IGRlYnVnIHx8IGZhbHNlO1xuICAgIGlmKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSlcbiAgfVxuICBcbiAgc3RhdGljIGdlbmVyYXRlVVVJRChsZW5ndGg9bnVsbCkge1xuICAgIHZhciBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdmFyIGQyID0gKHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlLm5vdyAmJiAocGVyZm9ybWFuY2Uubm93KCkqMTAwMCkpIHx8IDA7Ly9UaW1lIGluIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgb3IgMCBpZiB1bnN1cHBvcnRlZFxuICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2O1xuICAgICAgICBpZihkID4gMCl7XG4gICAgICAgICAgICB2YXIgciA9IChkICsgciklMTYgfCAwO1xuICAgICAgICAgICAgZCA9IE1hdGguZmxvb3IoZC8xNik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgciA9IChkMiArIHIpJTE2IHwgMDtcbiAgICAgICAgICAgIGQyID0gTWF0aC5mbG9vcihkMi8xNik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChjPT0neCcgPyByIDogKHImMHg3fDB4OCkpLnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgICBpZihsZW5ndGghPW51bGwpe1xuICAgICAgdXVpZCA9IHV1aWQuc3Vic3RyKDAsbGVuZ3RoKVxuICAgIH1cbiAgICByZXR1cm4gdXVpZDtcbiAgfVxuICBcbn1cblxudmFyIGdldFBhcmVudHMgPSBmdW5jdGlvbiAoZWxlbSwgc2VsZWN0b3IpIHtcblxuLy8gXHRpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbi8vIFx0XHRFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID1cbi8vIFx0XHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0RWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4vLyBcdFx0XHRFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0RWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0RWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4vLyBcdFx0XHRmdW5jdGlvbihzKSB7XG4vLyBcdFx0XHRcdHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuLy8gXHRcdFx0XHRcdGkgPSBtYXRjaGVzLmxlbmd0aDtcbi8vIFx0XHRcdFx0d2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbi8vIFx0XHRcdFx0cmV0dXJuIGkgPiAtMTtcbi8vIFx0XHRcdH07XG4vLyBcdH1cbn1cblxudmFyIG1pcnJvckRpdiwgY29tcHV0ZWQsIHN0eWxlLCBjb21wdXRlZFBhcmVudEVsZW1lbnQ7XG5cbnZhciBnZXRDYXJldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHBvc2l0aW9uX3N0YXJ0LCBwb3NpdGlvbl9lbmQpIHtcbiAgLy8gbWlycm9yZWQgZGl2XG4gIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8ICcnO1xuICBpZihkb2N1bWVudF9pZCA9PSAnJyl7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBJRF9NSVJST1IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddOyAvL2RvY3VtZW50X2lkICsgbmFtZSArICAnLS1taXJyb3ItZGl2JztcbiAgbWlycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURfTUlSUk9SKTtcbiAgdmFyIGFkZF9jbGFzc19zY3JvbGwgPSAoZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZignZmxvYXRpbmctbGFiZWwnKSA9PSAtMSkgPyBmYWxzZSA6IHRydWU7XG5cbiAgaWYgKCFtaXJyb3JEaXYpIHtcbiAgICBtaXJyb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtaXJyb3JEaXYuaWQgPSBJRF9NSVJST1I7Ly9kb2N1bWVudF9pZCArbmFtZSsgJy0tbWlycm9yLWRpdic7XG4gICAgICBtaXJyb3JEaXYuY2xhc3NOYW1lID0gKGVudmlyb21lbnRfcHJvZCkgPyAnbWlycm9yX2NvbG9yIG1pcnJvcl9zY3JvbGwgbWlycm9yLXdpZHRoLXNjcm9sbCcgOiAnbWlycm9yLXdpZHRoLXNjcm9sbCc7XG4gICAgLy9kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1pcnJvckRpdik7XG4gICAgZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJyxtaXJyb3JEaXYpO1xuICB9XG5cbiAgdmFyIHNjcm9sbHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCAtIGVsZW1lbnQuc2Nyb2xsV2lkdGg7XG5cbiAgc3R5bGUgPSBtaXJyb3JEaXYuc3R5bGU7XG4gIGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgY29tcHV0ZWRQYXJlbnRFbGVtZW50ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LnBhcmVudEVsZW1lbnQpO1xuICBsZXQgbWFyZ2luX3RvcCA9IHBhcnNlSW50KGNvbXB1dGVkWydtYXJnaW5Ub3AnXSlcbiAgbGV0IG1hcmdpbl9sZWZ0ID0gcGFyc2VJbnQoY29tcHV0ZWRbJ21hcmdpbkxlZnQnXSlcblxuICBpZiAoZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0lOUFVUJyl7XG4gICAgc3R5bGUud29yZFdyYXAgPSAnYnJlYWstd29yZCc7ICAvLyBvbmx5IGZvciB0ZXh0YXJlYS1zXG4gICAgc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7XG4gIH1lbHNle1xuICAgIHN0eWxlLndoaXRlU3BhY2UgPSAncHJlJztcbiAgfVxuICAvLyBwb3NpdGlvbiBvZmYtc2NyZWVuXG4gIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsgIC8vIHJlcXVpcmVkIHRvIHJldHVybiBjb29yZGluYXRlcyBwcm9wZXJseVxuICBcbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBnZXQgUG9zaXRpb24gZnJvbSBlbGVtZW50XG4gIFxuICBcbiAgbGV0IHNjcnJvbGxUb3BfYnJvd3NlciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgXG4gIC8vc3R5bGUudG9wID0gKChyZWN0LnRvcCtzY3Jyb2xsVG9wX2Jyb3dzZXIpLTEpIC0gKHBhcnNlSW50KGNvbXB1dGVkWydtYXJnaW5Ub3AnXSkgLSBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyVG9wV2lkdGgnXSkgKSArICdweCcvL3BhcnNlSW50KGNvbXB1dGVkLmJvcmRlclRvcFdpZHRoKSArICdweCc7IC8vICBlbGVtZW50Lm9mZnNldFRvcCArIHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlclRvcFdpZHRoKSArICdweCc7XG4gIC8vc3R5bGUudG9wID0gY29tcHV0ZWRQYXJlbnRFbGVtZW50Wyd0b3AnXTtcbiAgc3R5bGUudG9wID0gZWxlbWVudC5vZmZzZXRUb3ArJ3B4JztcbiAgLy9zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0IC0gKHBhcnNlSW50KGNvbXB1dGVkWydtYXJnaW5MZWZ0J10pIC0gIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJMZWZ0V2lkdGgnXSkgKSArICdweCcvL3BhcnNlSW50KGNvbXB1dGVkLmJvcmRlckxlZnRXaWR0aCkgKyAncHgnICAgLy8gbWFyZ2luX2xlZnQrXCJweFwiOy8vXCI0MDBweFwiO1xuICAvL3N0eWxlLmxlZnQgPSAgY29tcHV0ZWRQYXJlbnRFbGVtZW50WydsZWZ0J107XG4gIHN0eWxlLmxlZnQgPSBlbGVtZW50Lm9mZnNldExlZnQrJ3B4JztcbiAgc3R5bGUud2lkdGggPSByZWN0LndpZHRoKydweCc7Ly8gLSAocGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyTGVmdFdpZHRoKSArIHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlclJpZ2h0V2lkdGgpKSArICdweCcgICAvLyBtYXJnaW5fbGVmdCtcInB4XCI7Ly9cIjQwMHB4XCI7XG4gIHN0eWxlLmhlaWdodCA9IHJlY3QuaGVpZ2h0KydweCc7Ly8gLSAocGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyVG9wV2lkdGgpICsgcGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyQm90dG9tV2lkdGgpKSArICdweCcgICAvLyBtYXJnaW5fbGVmdCtcInB4XCI7Ly9cIjQwMHB4XCI7XG4gIHN0eWxlLnZpc2liaWxpdHkgPSd2aXNpYmxlJ1xuICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBpZihbJ2xlZnQnLCd0b3AnXS5pbmRleE9mKHByb3AudG9Mb3dlckNhc2UoKSkgPT09IC0xKVxuICAgIHN0eWxlW3Byb3BdID0gY29tcHV0ZWRbcHJvcF07XG4gIH0pO1xuICBcbiAgc3R5bGUub3ZlcmZsb3dYID0nYXV0byc7XG4gIHN0eWxlLm92ZXJmbG93WSA9J2hpZGRlbic7XG4gIHN0eWxlLm1hcmdpbiA9ICcwcHgnXG4gIC8vc3R5bGUucGFkZGluZyA9ICcwcHgnXG4gIHN0eWxlLmJvcmRlciA9IGNvbXB1dGVkWydib3JkZXInXTtcbiAgc3R5bGUuYm9yZGVyQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICAvKiBcbiAgaWYoZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0naW5wdXQnKXtcbiAgICBzdHlsZS5vdmVyZmxvd1ggPSdhdXRvJztcbiAgICBzdHlsZS5vdmVyZmxvd1kgPSdoaWRkZW4nO1xuICB9ZWxzZXtcbiAgICBzdHlsZS5vdmVyZmxvdz1cInZpc2libGVcIlxuICB9Ki9cbiAgXG4gIC8vIHN0eWxlLnBhZGRpbmdSaWdodCA9IChwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpICsgc2Nyb2xsd2lkdGggLSBwYXJzZUludChjb21wdXRlZC5ib3JkZXJSaWdodFdpZHRoKSkgKydweCc7XG4gIGxldCBjdXJzb3JfY29udGFpbmVyID0gbWlycm9yRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3ItY29udGFpbmVyJyk7XG4gIGxldCBzZWxlY3RvcnNfYnlfdXNlcnMgPSBtaXJyb3JEaXYucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdG9yc19ieV91c2VycycpO1xuICBsZXQgdmFsdWVfZWxlbWVudCA9IChbJ1RFWFRBUkVBJywnSU5QVVQnXS5pbmRleE9mKGVsZW1lbnQubm9kZU5hbWUpPT0tMSkgP2VsZW1lbnQuaW5uZXJIVE1MIDplbGVtZW50LnZhbHVlO1xuXG4gIG1pcnJvckRpdi50ZXh0Q29udGVudCA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKDAsIHBvc2l0aW9uX3N0YXJ0KTtcbiAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcpXG4gICAgbWlycm9yRGl2LnRleHRDb250ZW50ID0gbWlycm9yRGl2LnRleHRDb250ZW50LnJlcGxhY2UoL1xccy9nLCBcIlxcdTAwYTBcIik7XG4gIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBzcGFuLmlkID0gZWxlbWVudC5ub2RlTmFtZSArICdzcGFuX3NlbGVjdGlvbnMnO1xuICBsZXQgdmFsdWVfc3BhbiA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKHBvc2l0aW9uX3N0YXJ0LHBvc2l0aW9uX2VuZCkgfHwgJydcbiAgc3Bhbi50ZXh0Q29udGVudCA9IHZhbHVlX3NwYW47ICAvLyB8fCBiZWNhdXNlIGEgY29tcGxldGVseSBlbXB0eSBmYXV4IHNwYW4gZG9lc24ndCByZW5kZXIgYXQgYWxsXG4gIC8vc3Bhbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Z3JleVwiO1xuICBtaXJyb3JEaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gIFxuICBpZihjdXJzb3JfY29udGFpbmVyKXtcbiAgICAgIGN1cnNvcl9jb250YWluZXIuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRfY3Vyc29yLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgbWlycm9yRGl2LmFwcGVuZENoaWxkKGNoaWxkX2N1cnNvcik7XG4gICAgfSlcbiAgfVxuICBcbiAgaWYoc2VsZWN0b3JzX2J5X3VzZXJzKXtcbiAgICBzZWxlY3RvcnNfYnlfdXNlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRfc2VsZWN0aW9uLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgbWlycm9yRGl2LmFwcGVuZENoaWxkKGNoaWxkX3NlbGVjdGlvbik7XG4gICAgfSlcbiAgfVxuICBcbiAgbGV0IHZhbHVlX2VuZCA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKHBvc2l0aW9uX2VuZCkgIHx8ICcnO1xuICB2YXIgc3Bhbl9lbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIG1pcnJvckRpdi5hcHBlbmRDaGlsZChzcGFuX2VuZCk7XG4gIHNwYW5fZW5kLnRleHRDb250ZW50ID0gdmFsdWVfZW5kO1xuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIGdldCBQb3NpdGlvbiBmcm9tIGVsZW1lbnRcbiAgdmFyIGNvb3JkaW5hdGVzID0ge1xuICAgIHN0YXJ0IDoge1xuICAgICAgICB0b3A6IHNwYW4ub2Zmc2V0VG9wLFxuICAgICAgICBsZWZ0OiAgc3Bhbi5vZmZzZXRMZWZ0XG4gICAgfSxcbiAgICBlbmQgOiB7XG4gICAgICAgIHRvcDogc3Bhbl9lbmQub2Zmc2V0VG9wLCAvLysgcGFyc2VJbnQoY29tcHV0ZWRbJ2JvcmRlclRvcFdpZHRoJ10pLFxuICAgICAgICBsZWZ0OiAgc3Bhbl9lbmQub2Zmc2V0TGVmdCAvLyArIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJMZWZ0V2lkdGgnXSlcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufVxuXG5mdW5jdGlvbiBnZXRTdHlsZShlbCxzdHlsZVByb3ApXG57XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKVxuICAgICAgICB2YXIgeSA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZVByb3ApO1xuICAgIHJldHVybiB5O1xufVxuXG5cbmZ1bmN0aW9uIGdldERvY3VtZW50KGNvbGxlY3Rpb24sbW9kdWxlX2lkKXtcbiAgY3J1ZC5yZWFkRG9jdW1lbnQoe1xuICAgICdjb2xsZWN0aW9uJzogY29sbGVjdGlvbixcbiAgICAnZG9jdW1lbnRfaWQnOiBtb2R1bGVfaWRcbiAgfSlcbn1cblxuY3J1ZC5saXN0ZW4oJ3JlYWREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBsZXQgY3Vyc29yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnNvci1mbGFnW2RhdGEtZG9jdW1lbnRfaWQ9XCInK2RhdGFbJ2RvY3VtZW50X2lkJ10rJ1wiXScpXG4gICAgaWYgKGN1cnNvcilcbiAgICAgIGN1cnNvci5pbm5lckhUTUwgPSBkYXRhLnJlc3VsdFtjdXJzb3IuZ2V0QXR0cmlidXRlKCduYW1lJyldXG59KVxuXG5cbmZ1bmN0aW9uIGRyYXdfY3Vyc29yKGpzb24pe1xuICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcImRyYXcgQ3Vyc29yIFwiLGpzb25dLGRlYnVnKVxuICAgICAgICBsZXQgZWxlbWVudCA9IGpzb25bJ2VsZW1lbnQnXTtcbiAgICAgICAgbGV0IGFjdGl2YXRlX2N1cnNvciA9IChlbGVtZW50LmRhdGFzZXRbJ2N1cnNvcnMnXSk/ZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTp0cnVlO1xuICAgICAgICBpZihhY3RpdmF0ZV9jdXJzb3Ipe1xuICAgICAgICAgIGxldCBzdGFydCA9IGpzb25bJ3N0YXJ0UG9zaXRpb24nXVxuICAgICAgICAgIGxldCBlbmQgPSBqc29uWydlbmRQb3NpdG9uJ11cbiAgICAgICAgICBsZXQgc29ja2V0X2lkID0ganNvblsnY2xpZW50SWQnXVxuICAgICAgICAgIGxldCBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgJyc7XG4gICAgICAgICAgaWYoZG9jdW1lbnRfaWQhPScnKXtcbiAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoXCJhY3Rpb24gZG9jdW1lbnRfaWQgXCIgKyBkb2N1bWVudF9pZCxkZWJ1ZylcbiAgICAgICAgICAgIGlmKCB0eXBlb2YgZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXSA9PSAndW5kZWZpbmVkJyB8fCBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddID09ICcnKVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ10gPSBDb2NyZWF0ZVV0aWxzQ3Vyc29yLmdlbmVyYXRlVVVJRChsZW5ndGhfdXVpZClcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlcyA9IGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlbWVudCxzdGFydCxlbmQpO1xuICAgICAgICAgICAgaWYoIWNvb3JkaW5hdGVzKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddOyAvL2RvY3VtZW50X2lkK25hbWUrJy0tbWlycm9yLWRpdidcbiAgICAgICAgICAgIGxldCBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgICAgICAgICBsZXQgY3Vyc29yID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgc2VsZWN0aW9uX3VzZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBpZGVudGlmeSA9ICdfJytpZF9taXJyb3I7XG4gICAgICAgICAgICBsZXQgdXNlciA9ICh0eXBlb2YoanNvbikgIT0gJ3VuZGVmaW5lZCcgJiYganNvbi5oYXNPd25Qcm9wZXJ0eSgndXNlcicpKSA/IGpzb24udXNlciA6IGZhbHNlXG4gICAgICAgICAgICBsZXQgdXNlcl9pZCA9ICh0eXBlb2YoanNvbikgIT0gJ3VuZGVmaW5lZCcgJiYganNvbi5oYXNPd25Qcm9wZXJ0eSgndXNlcl9pZCcpICkgPyAgdXNlci51c2VyX2lkIDogZmFsc2VcbiAgICAgICAgICAgIGlmIChzb2NrZXRfaWQpe1xuICAgICAgICAgICAgICAgLy9pZihkYXRhICYmIGRhdGEuaGFzT3duUHJvcGVydHkoJ2lkX21pcnJvcicpKXtcbiAgICAgICAgICAgICAgICAgdmFyIGN1cnNvcmVzX290aGVyX2VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3NvY2tldF8nK3NvY2tldF9pZCtpZGVudGlmeSlcbiAgICAgICAgICAgICAgICAgY3Vyc29yZXNfb3RoZXJfZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihjaGlsZF9jdXJzb3IsIGluZGV4LCBhcnJheSl7XG4gICAgICAgICAgICAgICAgICAgaWYoY2hpbGRfY3Vyc29yLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpICE9IGlkX21pcnJvcil7XG4gICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFwicmVtb3ZlIG9sZCBjdXJzb3Igb3RoZXJzIGVsZW1lbnRzXCIsZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRfY3Vyc29yLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgIGN1cnNvciA9IG1pX21pcnJvci5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWNvbnRhaW5lciNzb2NrZXRfJytzb2NrZXRfaWQraWRlbnRpZnkpO1xuICAgICAgICAgICAgICAgICBpZighY3Vyc29yICAmJiBqc29uLmhhc093blByb3BlcnR5KCd1c2VyJykpe1xuICAgICAgICAgICAgICAgICAgICBpZih1c2VyKXtcbiAgICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFwiQ3JlYXRlIEN1cnNvclwiLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJzb3JfdGVtcGxhdGUgPSAnPGRpdiBzdHlsZT1cImNvbG9yOmJsdWU7XCIgY2xhc3M9XCJjdXJzb3ItY29udGFpbmVyXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJzb2NrZXRfJytzb2NrZXRfaWQraWRlbnRpZnkrJ1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48ZGl2IGNsYXNzPVwiY3Vyc29yXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicrdXNlci5jb2xvcisnXCI+PC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN1cnNvci1mbGFnXCIgZGF0YS1jb2xsZWN0aW9uPVwidXNlcnNcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdXNlcl9uYW1lPVwiJyt1c2VyLm5hbWUrJ1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdXNlcl9jb2xvcj1cIicrdXNlci5jb2xvcisnXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zb2NrZXRfaWQ9XCInK3NvY2tldF9pZCsnXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1pZF9taXJyb3I9XCInK2lkX21pcnJvcisnXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1kb2N1bWVudF9pZD1cIicrdXNlcl9pZCsnXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicrdXNlci5jb2xvcisnXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZz4nK3VzZXIubmFtZSsnPC9kaXY+PC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3IuaW5uZXJIVE1MID0gY3Vyc29yX3RlbXBsYXRlICsgbWlfbWlycm9yLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZih1c2VyX2lkKXtcbiAgICAgICAgICAgICAgICAgICAgIC8vIHNpIHRpZW5lIHVzZXJfaWQgYWN0dWFsaXphIGVsIG5vbWJyZSBkZWwgY3Vyc29yIHVzYW5kbyBjcnVkXG4gICAgICAgICAgICAgICAgICAgICAgY3J1ZC5yZWFkRG9jdW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbGxlY3Rpb24nIDogJ3VzZXJzJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfaWQnOiB1c2VyX2lkXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3Vyc29yID0gbWlfbWlycm9yLnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItY29udGFpbmVyI3NvY2tldF8nK3NvY2tldF9pZCtpZGVudGlmeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihjdXJzb3Ipe1xuICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcIlVwZGF0ZSBDdXJzb3JcIixjdXJzb3IsY29vcmRpbmF0ZXNdLGRlYnVnKVxuICAgICAgICAgICAgICBsZXQgZm9udF9zaXplID0gZ2V0U3R5bGUoZWxlbWVudCwnZm9udC1zaXplJylcbiAgICAgICAgICAgICAgZm9udF9zaXplID0gcGFyc2VGbG9hdChmb250X3NpemUuc3Vic3RyaW5nKDAsZm9udF9zaXplLmxlbmd0aC0yKSk7XG4gICAgICAgICAgICAgIGxldCBjdXJzb3JfaGVpZ2h0ID0gKCAoZm9udF9zaXplICogMTEyLjUpIC8gMTAwKVxuICAgICAgICAgICAgICBsZXQgbXlfY3Vyc29yID0gY3Vyc29yLnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3InKVxuICAgICAgICAgICAgICBjdXJzb3IuZGF0YXNldC5zdGFydCA9IHN0YXJ0XG4gICAgICAgICAgICAgIGN1cnNvci5kYXRhc2V0LmVuZCA9IGVuZFxuICAgICAgICAgICAgICBjdXJzb3IuZGF0YXNldC5zb2NrZXRfaWQgPSBzb2NrZXRfaWRcbiAgICAgICAgICAgICAgLypjdXJzb3IuZGF0YXNldC51c2VyX25hbWUgPSB1c2VyLm5hbWVcbiAgICAgICAgICAgICAgY3Vyc29yLmRhdGFzZXQudXNlcl9jb2xvciA9IHVzZXIuY29sb3IqL1xuICBcbiAgICAgICAgICAgICAgY3Vyc29yLnN0eWxlW1widG9wXCJdID0gY29vcmRpbmF0ZXMuZW5kLnRvcCtcInB4XCI7IFxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY3Vyc29yLnN0eWxlW1wid2lkdGhcIl0gPSBcIjJweFwiOyAgLy8ycHhcbiAgICAgICAgICAgICAgbXlfY3Vyc29yLnN0eWxlW1wiaGVpZ2h0XCJdID0gY3Vyc29yX2hlaWdodCtcInB4XCI7IFxuICAgICAgICAgICAgICBjdXJzb3Iuc3R5bGVbXCJsZWZ0XCJdID0gY29vcmRpbmF0ZXMuZW5kLmxlZnQrXCJweFwiOyBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vYWRkIHNlbGVjdGlvbnNcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWwtJytzb2NrZXRfaWQraWRlbnRpZnkpO1xuICAgICAgICAgICAgICAgIGlmKChzdGFydCAhPSBlbmQpICYmIHVzZXIgKXtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWwtJytzb2NrZXRfaWQraWRlbnRpZnkpXG4gICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0aW9uX3VzZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoIC0gZWxlbWVudC5zY3JvbGxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nX3JpZ2h0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVtcInBhZGRpbmdSaWdodFwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIuaWQgPSAnc2VsLScrc29ja2V0X2lkK2lkZW50aWZ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIuY2xhc3NOYW1lPSdzZWxlY3RvcnNfYnlfdXNlcnMnXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGVfbWlycm9yID0gZ2V0Q29tcHV0ZWRTdHlsZShtaV9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5zdHlsZVtcInBvc2l0aW9uXCJdID0gXCJhYnNvbHV0ZVwiOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLnN0eWxlW1widG9wXCJdID0gc3R5bGVfbWlycm9yLnBhZGRpbmdUb3A7IFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIuc3R5bGVbXCJsZWZ0XCJdID0gc3R5bGVfbWlycm9yLnBhZGRpbmdMZWZ0OyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLnN0eWxlW1wicGFkZGluZy1yaWdodFwiXSA9IHNjcm9sbHdpZHRoK3BhZGRpbmdfcmlnaHQrXCJweFwiOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5pbnNlcnRCZWZvcmUoc2VsZWN0aW9uX3VzZXIsIG1pX21pcnJvci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0aW9uX3NwYW5fYnlfdXNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fc3Bhbl9ieV91c2VyLmlkID0gJ3NlbGVjdGlvbi0nK3NvY2tldF9pZCtpZGVudGlmeTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fc3Bhbl9ieV91c2VyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHVzZXIuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlX2VsZW1lbnQgPSAoWydURVhUQVJFQScsJ0lOUFVUJ10uaW5kZXhPZihlbGVtZW50Lm5vZGVOYW1lKT09LTEpID9lbGVtZW50LmlubmVySFRNTCA6ZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci50ZXh0Q29udGVudCA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVfc3Bhbl9zZWxlY3Rpb24gPSB2YWx1ZV9lbGVtZW50LnN1YnN0cmluZyhzdGFydCxlbmQpIHx8ICcnXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZWxlY3Rpb24gXCIsdmFsdWVfc3Bhbl9zZWxlY3Rpb24sc3RhcnQsZW5kKVxuICAgICAgICAgICAgICAgICAgICAgIC8vc2VsZWN0aW9uX3NwYW5fYnlfdXNlci5zdHlsZS5vcGFjaXR5ID0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl9zcGFuX2J5X3VzZXIudGV4dENvbnRlbnQgPSB2YWx1ZV9zcGFuX3NlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5hcHBlbmRDaGlsZChzZWxlY3Rpb25fc3Bhbl9ieV91c2VyKVxuICAgICAgICAgICAgICAgIH0vL2VuZCBTZWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdGlvbl91c2VyKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfS8vZW5kIGlmIGRvY3VtZW50X2lkXG4gICAgICAgIH0vL2VuZCBhY3RpdmF0ZV9jdXJzb3JzXG59Ly9kcmF3X2N1cnNvclxuXG5mdW5jdGlvbiByZWZyZXNoX21pcnJvcihlbGVtZW50KXtcbiAgdmFyIGlkX21pcnJvciA9ICcnXG4gIGxldCBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgJyc7XG4gIGlmKGRvY3VtZW50X2lkIT0nJyl7XG4gICAgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICBpZihlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddKVxuICAgICAgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXVxuICAgICAgZWxzZSBcbiAgICAgIHJldHVybjtcbiAgICAvL2NvbnNvbGUubG9nKFwiUmVmcmVzaCBcIixpZF9taXJyb3IpXG4gICAgdmFyIG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcInJlZnJlc2hfbWlycm9yIFwiLG1pX21pcnJvcl0sZGVidWcpXG4gICAgdmFyIHNlbGVjdG9yX2VsZW1lbnQgPSBlbGVtZW50Lm5vZGVOYW1lK1wiW25hbWU9J1wiK25hbWUrXCInXVtkYXRhLWRvY3VtZW50X2lkPSdcIitkb2N1bWVudF9pZCtcIiddXCJcbiAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcInNlbGVjdG9yIC0+IFwiK3NlbGVjdG9yX2VsZW1lbnRdLGRlYnVnKVxuICAgIFxuICAgICAgaWYobWlfbWlycm9yKXtcbiAgICAgICAgY29tcHV0ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICBzdHlsZSA9IG1pX21pcnJvci5zdHlsZVxuICAgICAgICBzdHlsZS53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSAocGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyTGVmdFdpZHRoKSArIHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlclJpZ2h0V2lkdGgpKSArICdweCdcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgLSAocGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyVG9wV2lkdGgpICsgcGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyQm90dG9tV2lkdGgpKSArICdweCdcbiAgICAgICAgdmFyIGN1cnNvcl9jb250YWluZXIgPSBtaV9taXJyb3IucXVlcnlTZWxlY3RvckFsbCgnLmN1cnNvci1jb250YWluZXInKTtcbiAgICAgICAgY3Vyc29yX2NvbnRhaW5lci5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZF9jdXJzb3IsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJSRWRyYXcgY3Vyc29yXCIpXG4gICAgICAgIGxldCBjaGlsZCA9IGNoaWxkX2N1cnNvci5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWZsYWcnKTtcbiAgICAgICAgbGV0IGRhdGFzZXRfY2hpbGQgPSBjaGlsZC5kYXRhc2V0O1xuICAgICAgICBsZXQgZGF0YXNldCA9IGNoaWxkX2N1cnNvci5kYXRhc2V0O1xuICAgICAgICAgIGRyYXdfY3Vyc29yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbjpkYXRhc2V0LnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFBvc2l0b246ZGF0YXNldC5lbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQgOiBkYXRhc2V0LnNvY2tldF9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyOntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbG9yJzpkYXRhc2V0X2NoaWxkLnVzZXJfY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzpkYXRhc2V0LnVzZXJfbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gIH0vL2VuZCBkb2N1bWVudFxufS8vZW5kIHZlcmlmeSBcblxuRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnBhcmVudEVsZW1lbnQpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjYWxjdWxhdGVfbG9jYWxfY3Vyc29ycyhlbGVtZW50LGNvdW50KXtcbiAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFwiY291bnQgXCIrY291bnQsZGVidWcpXG4gICAgICAgICAgbGV0IG15X3N0YXJ0ID0gKCAhIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkgID8gZWxlbWVudC5zZWxlY3Rpb25TdGFydCA6IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic2VsZWN0aW9uX3N0YXJ0XCIpKTtcbiAgICAgICAgICAvL2xldCBteV9zdGFydCAgID0gZWxlbWVudC5zZWxlY3Rpb25TdGFydFxuICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSB8fCAnJztcbiAgICAgICAgICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8ICcnO1xuICAgICAgICAgIGxldCBjb2xsZWN0aW9uID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpIHx8ICcnO1xuICAgICAgICAgIGxldCBzZWxlY3RvciA9ICdbZGF0YS1jb2xsZWN0aW9uPVwiJytjb2xsZWN0aW9uKydcIl1bZGF0YS1kb2N1bWVudF9pZD1cIicrZG9jdW1lbnRfaWQrJ1wiXVtuYW1lPVwiJytuYW1lKydcIl0nXG4gICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107IC8vbGV0IGlkX21pcnJvciA9IGRvY3VtZW50X2lkK25hbWUrJy0tbWlycm9yLWRpdic7XG4gICAgICAgICAgbGV0IG1pcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcik7XG4gICAgICAgICAgbGV0IGN1cnNvcl9jb250YWluZXIgPSAobWlycm9yRGl2KSA/IG1pcnJvckRpdi5xdWVyeVNlbGVjdG9yQWxsKCcuY3Vyc29yLWNvbnRhaW5lcicpIDogbnVsbDtcbiAgICAgICAgICBpZihjdXJzb3JfY29udGFpbmVyKXtcbiAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lcnNfY3Vyc29ycyA9IFtdO1xuICAgICAgICAgICAgICBjdXJzb3JfY29udGFpbmVyLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkX2N1cnNvciwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBwYXJzZUludChjaGlsZF9jdXJzb3IuZ2V0QXR0cmlidXRlKCdkYXRhLXN0YXJ0JykpO1xuICAgICAgICAgICAgICAgICAgbGV0IHVzZXJfbmFtZSA9IGNoaWxkX2N1cnNvci5nZXRBdHRyaWJ1dGUoJ2RhdGEtdXNlcl9uYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wibXlfc3RhcnQgbG9jYWxcIixteV9zdGFydCwnc3RhcnQgY3Vyc29yICcrdXNlcl9uYW1lK1wiID0gXCIsc3RhcnRdLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgaWYoc3RhcnQgPiBteV9zdGFydCAmJiBjb250YWluZXJzX2N1cnNvcnMuaW5kZXhPZih1c2VyX25hbWUpID09IC0xICl7XG4gICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoXCJFcyBtYXlvclwiLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gcGFyc2VJbnQoY2hpbGRfY3Vyc29yLmdldEF0dHJpYnV0ZSgnZGF0YS1lbmQnKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3Nfc3RhcnQgPSBzdGFydCtjb3VudDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvc19lbmQgPSBlbmQrY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoWydwb3Nfc3RhcnQnLHBvc19zdGFydCwncG9zX2VuZCcscG9zX2VuZF0sZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhc2V0ID0gY2hpbGRfY3Vyc29yLnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZmxhZycpLmRhdGFzZXRcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsaWVudElkID0gZGF0YXNldC5zb2NrZXRfaWQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb246cG9zX3N0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRQb3NpdG9uOnBvc19lbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudElkOmNsaWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXNlcic6e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbG9yJzpkYXRhc2V0LnVzZXJfY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ZGF0YXNldC51c2VyX25hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcInNlbnQgRHJhdyBDdXJzb3IgXCIsanNvbl0sZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGRyYXdfY3Vyc29yKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzX2N1cnNvcnMucHVzaCh1c2VyX25hbWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy9taXJyb3JEaXYuYXBwZW5kQ2hpbGQoY2hpbGRfY3Vyc29yKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q3Vyc29yRWwoZWxlbWVudCl7XG4gIGxldCBmb3JtdWxhcmlvID0gZ2V0UGFyZW50cyhlbGVtZW50LCdmb3JtJylcbiAgICAgICAgICBsZXQgcmVhbHRpbWUgPSBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpID8gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSA6ICd0cnVlJztcbiAgICAgICAgICBpZiggcmVhbHRpbWUgPT0ndHJ1ZScgfHwgIChmb3JtdWxhcmlvICYmIGZvcm11bGFyaW8uZ2V0QXR0cmlidXRlKCdkYXRhLXJlYWx0aW1lJykgPT0ndHJ1ZScgKSApe1xuICAgICAgICAgICAgaWYocmVhbHRpbWUgPT0nZmFsc2UnKVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wiSW5pdCBFdmVudHMgXCIsZWxlbWVudF0sZGVidWcpXG4gICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZCA9IGVsZW1lbnQuc2VsZWN0aW9uRW5kO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBjb29yZGluYXRlcyA9IGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlbWVudCxzdGFydCxlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGV2ZW50LmlucHV0VHlwZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnRUZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnRGcm9tUGFzdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvdW50ID0gZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0JykubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZUNvbnRlbnRCYWNrd2FyZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2Nhc2UgJ2luc2VydEZyb21QYXN0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzKHRoaXMsY291bnQpXG4gICAgICAgICAgICAgICAgICB9LGZhbHNlKVxuICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJNb3ZlIFNjcm9sbCBcIixlbGVtZW50XSx0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICBpZihtaV9taXJyb3Ipe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLnNjcm9sbFRvKGVsZW1lbnQuc2Nyb2xsTGVmdCxlbGVtZW50LnNjcm9sbFRvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy9yZXNpemVcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb3V0cHV0c2l6ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50X211bHRpY3Vyc29ycy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50X2ZvciwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnRfZm9yLmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcIlJlc2l6ZSBpZF9taXJyb3IgLT4gXCIraWRfbWlycm9yXSxkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihtaV9taXJyb3Ipe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3Iuc3R5bGVbXCJ3aWR0aFwiXSA9IGVsZW1lbnRfZm9yLm9mZnNldFdpZHRoK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLnN0eWxlW1wiaGVpZ2h0XCJdID0gZWxlbWVudF9mb3Iub2Zmc2V0SGVpZ2h0K1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgaXNGb2N1c2VkID0gKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsZW1lbnRfZm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92ZXJpZnlfY3Vyc29yKGVsZW1lbnRfZm9yLGlzRm9jdXNlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzRm9jdXNlZCA9IChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNGb2N1c2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlbWVudCxlbGVtZW50LnNlbGVjdGlvblN0YXJ0LGVsZW1lbnQuc2VsZWN0aW9uRW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoX21pcnJvcihlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZXcgUmVzaXplT2JzZXJ2ZXIob3V0cHV0c2l6ZSkub2JzZXJ2ZShlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgLy9pZiAoZWxlbWVudC5ub2RlTmFtZSA9PSAnSU5QVVQnKXtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobWlfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3Iuc2Nyb2xsVG8oZWxlbWVudC5zY3JvbGxMZWZ0LGVsZW1lbnQuc2Nyb2xsVG9wKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtaV9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5zY3JvbGxUbyhlbGVtZW50LnNjcm9sbExlZnQsZWxlbWVudC5zY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImtleWRvd24gTCxUID0+IFwiLGVsZW1lbnQuc2Nyb2xsTGVmdCxlbGVtZW50LnNjcm9sbFRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobWlfbWlycm9yKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3Iuc2Nyb2xsVG8oZWxlbWVudC5zY3JvbGxMZWZ0LGVsZW1lbnQuc2Nyb2xsVG9wKTsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hfbWlycm9yKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJrZXl1cCBMLFQgPT4gXCIsZWxlbWVudC5zY3JvbGxMZWZ0LGVsZW1lbnQuc2Nyb2xsVG9wKVxuICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobWlfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3Iuc2Nyb2xsVG8oZWxlbWVudC5zY3JvbGxMZWZ0LGVsZW1lbnQuc2Nyb2xsVG9wKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICB9Ly9lbmQgaWYgcmVhbHRpbWUgVFJVRVxufVxuXG52YXIgaW5pdGlhbGl6ZV9tdWx0aWN1cnNvciA9IGZ1bmN0aW9uKGVsZW1lbnRfbXVsdGljdXJzb3JzKXtcbiAgICAgIGVsZW1lbnRfbXVsdGljdXJzb3JzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgIGluaXRDdXJzb3JFbChlbGVtZW50KTtcbiAgICAgIH0pOyAvLyBlbGVtZW50X211bHRpY3Vyc29ycy5mb3JFYWNoXG59Ly9lbmQgaW5pdGlhbGl6ZV9tdWx0aWN1cnNvciBcblxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oZSl7IFxuICAvL2NvbnNvbGUubG9nKFwicmVzaXplIHdpbmRvd3NcIilcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbWlycm9yX2lkXScpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgIHJlZnJlc2hfbWlycm9yKGVsZW1lbnQpXG4gIH0pOyAvLyBlbGVtZW50X211bHRpY3Vyc29ycy5mb3JFYWNoXG59LCB0cnVlKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKGUpeyBcbiAgLy9jb25zb2xlLmxvZyhcIlNjcm9sbCBcIilcbiAgLy9jb25zb2xlLmxvZyhcInNjcm9sbCB3aW5kb3dzXCIsZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKVxuICAvL2VsZW1lbnRfbXVsdGljdXJzb3JzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1taXJyb3JfaWRdJykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgcmVmcmVzaF9taXJyb3IoZWxlbWVudClcbiAgfSk7IC8vIGVsZW1lbnRfbXVsdGljdXJzb3JzLmZvckVhY2hcbiAgXG4gIFxufSwgdHJ1ZSk7XG5cbmZ1bmN0aW9uIGluaXRDdXJzb3JFbGVtZW50cyhjb250YWluZXIpIHtcbiAgbGV0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgd2luZG93O1xuICBcbiAgaWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIGxldCBlbGVtZW50cyA9IG1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcmVhbHRpbWU9dHJ1ZV0nKTtcbiAgXG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGluaXRDdXJzb3JFbChlbCk7XG4gIH0pXG59XG5cbmlmKGRlYnVnKVxuICBjb25zb2xlLmxvZyhcImVsZW1lbnRzIHRvIElOSVQgLT4gXCIsZWxlbWVudF9tdWx0aWN1cnNvcnMpXG5pbml0aWFsaXplX211bHRpY3Vyc29yKGVsZW1lbnRfbXVsdGljdXJzb3JzKTtcblxuLy8gQ29DcmVhdGVJbml0LnJlZ2lzdGVyX29sZCgnW2RhdGEtcmVhbHRpbWU9dHJ1ZV0nLGluaXRDdXJzb3JFbCk7XG4vLyBDb0NyZWF0ZUluaXQucmVnaXN0ZXIoJ0NvQ3JlYXRlQ3Vyc29yJywgd2luZG93LCBpbml0Q3Vyc29yRWxlbWVudHMpO1xuXG5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUN1cnNvcicsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdbZGF0YS1jb2xsZWN0aW9uXVtkYXRhLWRvY3VtZW50X2lkXVtuYW1lXVtkYXRhLXJlYWx0aW1lPXRydWVdJywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdGluaXRDdXJzb3JFbGVtZW50cyhtdXRhdGlvbi50YXJnZXQpXG5cdH1cbn0pO1xuXG5jb25zdCBDb0NyZWF0ZUN1cnNvcnMgPSB7IGRyYXdfY3Vyc29yLCByZWZyZXNoX21pcnJvciwgcmVjYWxjdWxhdGVfbG9jYWxfY3Vyc29ycyB9O1xuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVDdXJzb3JzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../CoCreate-cursors/src/index.js\n")},"../CoCreate-form/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../CoCreate-utils/src/index.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../CoCreate-crud/src/index.js\"));\n\nvar _action = _interopRequireDefault(__webpack_require__(/*! @cocreate/action */ \"../CoCreate-action/src/index.js\"));\n\nvar _utils2 = _interopRequireDefault(__webpack_require__(/*! ./utils */ \"../CoCreate-form/src/utils.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateForm = {\n  requestAttr: \"data-document_request\",\n  selectors: [],\n  modules: [],\n  init: function ({\n    name,\n    selector,\n    callback\n  }) {\n    this.modules.push({\n      name,\n      selector,\n      callback\n    });\n\n    if (selector) {\n      this.selectors.push(selector);\n    }\n  },\n  get: function () {\n    return {\n      selectors: this.selectors\n    };\n  },\n  checkID: function (element, attr = \"data-document_id\") {\n    let document_id = element.getAttribute(attr) || \"\";\n\n    if (document_id === \"\" || document_id === \"pending\" || !_utils.default.checkValue(document_id)) {\n      return false;\n    }\n\n    return true;\n  },\n  request: function ({\n    form,\n    element,\n    nameAttr,\n    value\n  }) {\n    if (!form && element) {\n      form = element.closest('form');\n    }\n\n    if (form) {\n      this.__requestDocumentIdOfForm(form);\n    } else if (element) {\n      nameAttr = nameAttr || \"name\";\n\n      this.__requestDocumentId(element, nameAttr, value);\n    }\n  },\n  initElement: function (container) {\n    const __container = container || document;\n\n    if (!__container.querySelectorAll) {\n      return;\n    }\n\n    let forms = __container.querySelectorAll('form');\n\n    if (forms.length === 0 && __container != document && __container.tagName === \"FORM\") {\n      forms = [__container];\n    }\n\n    forms.forEach(form => {\n      _utils2.default.setAttribute(form);\n\n      _utils2.default.disableAutoFill(form);\n    });\n  },\n  __init: function () {\n    const forms = document.querySelectorAll('form');\n\n    this.__initEvent();\n\n    forms.forEach(form => {\n      _utils2.default.setAttribute(form);\n    });\n  },\n  __initEvent: function () {\n    const self = this;\n\n    _crud.default.listen('createDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      self.__receivedDocumentId(data);\n\n      if (metadata == \"createDocument-action\") {//. dispatch EndAction\n      }\n    });\n\n    _crud.default.listen('deleteDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      if (metadata === \"deleteDocument-action\") {//.dispatch End Action\n      }\n    });\n\n    document.addEventListener('clicked-submitBtn', function (event) {\n      const {\n        element\n      } = event.detail;\n      self.modules.forEach(({\n        selector,\n        callback\n      }) => {\n        if (callback && element.matches(selector)) {\n          callback.call(null, element);\n        }\n      });\n    });\n  },\n  __deleteDocumentAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const document_id = btn.getAttribute('data-document_id');\n\n    if (_utils.default.checkValue(collection) && _utils.default.checkValue(document_id)) {\n      _crud.default.deleteDocument({\n        'collection': collection,\n        'document_id': document_id,\n        'metadata': 'deleteDocument-action'\n      });\n\n      document.dispatchEvent(new CustomEvent('deletedDocument', {\n        detail: {}\n      }));\n    }\n  },\n  __deleteDocumentsAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const selector = btn.getAttribute('data-document_target');\n    if (!selector) return;\n    const selectedEls = document.querySelectorAll(selector);\n\n    if (_utils2.default.checkValue(collection)) {\n      selectedEls.forEach(el => {\n        const document_id = el.getAttribute('data-document_id');\n\n        if (_utils.default.checkValue(document_id)) {\n          _crud.default.deleteDocument({\n            'collection': collection,\n            'document_id': document_id,\n            'metadata': ''\n          });\n        }\n      });\n      document.dispatchEvent(new CustomEvent('deletedDocuments', {\n        detail: {}\n      }));\n    }\n  },\n  __createDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n    const self = this;\n\n    let collections = _utils2.default.getCOllections(form);\n\n    collections.forEach(collection => {\n      let data = _utils2.default.getFormData(form, \"\", collection);\n\n      if (Object.keys(data).length == 0 && data.constructor === Object) {\n        return;\n      }\n\n      if (_utils.default.checkValue(collection)) {\n        _crud.default.createDocument({\n          'collection': collection,\n          'data': data,\n          'metadata': 'createDocument-action',\n          'element': 'empty'\n        });\n\n        document.dispatchEvent(new CustomEvent('createdDocument', {\n          detail: {}\n        }));\n      }\n    });\n  },\n  __saveDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n\n    if (!_utils2.default.checkFormValidate(form)) {\n      alert('Values are not unique');\n      return;\n    }\n\n    const selectors = this.selectors || [];\n    const elements = form.querySelectorAll(selectors.join(','));\n    let request_document_id = false;\n\n    for (var i = 0; i < elements.length; i++) {\n      let el = elements[i];\n      const data_document_id = el.getAttribute('data-document_id');\n\n      if (el.getAttribute('data-save_value') == 'false') {\n        continue;\n      }\n\n      if (!data_document_id) {\n        if (el.getAttribute('name')) {\n          request_document_id = true;\n        }\n\n        continue;\n      }\n\n      if (input.isUsageY(el)) {\n        continue;\n      }\n\n      if (_utils2.default.isTemplateInput(el)) return;\n      var new_event = new CustomEvent(\"clicked-submitBtn\", {\n        bubbles: true,\n        detail: {\n          type: \"submitBtn\",\n          element: el\n        }\n      });\n      el.dispatchEvent(new_event);\n    }\n\n    if (request_document_id) {\n      this.requestDocumentIdOfForm(form);\n    }\n\n    document.dispatchEvent(new CustomEvent('savedDocument', {\n      detail: {}\n    }));\n  },\n  __requestDocumentId: function (element, nameAttr = \"name\", value = null) {\n    const collection = element.getAttribute('data-collection');\n    const name = element.getAttribute(nameAttr);\n    if (!collection || !name) return;\n\n    const request_id = _utils.default.generateUUID();\n\n    element.setAttribute(this.requestAttr, request_id);\n\n    _crud.default.createDocument({\n      \"collection\": collection,\n      \"element\": request_id,\n      \"metadata\": \"\"\n    });\n  },\n  __requestDocumentIdOfForm: function (form) {\n    let self = this;\n    let elemens = form.querySelectorAll('[name], [data-pass_to]');\n    let collections = [];\n\n    for (var i = 0; i < elemens.length; i++) {\n      let el = elemens[i];\n\n      if (el.parentNode.classList.contains('template')) {\n        continue;\n      }\n\n      const collection = el.getAttribute(\"data-collection\") || el.getAttribute(\"data-pass_collection\") || \"\";\n\n      if (collection !== \"\" && !collections.includes(collection) && !self.checkID(el, 'data-document_id') && !self.checkID(el, 'data-pass_document_id')) {\n        const request_id = _utils.default.generateUUID();\n\n        collections.push(collection);\n        el.setAttribute(this.requestAttr, request_id); //. get Data\n\n        let data = _utils2.default.getFormData(form, \"\", collection);\n        /* FixME Create Document request */\n\n\n        _crud.default.createDocument({\n          \"collection\": collection,\n          \"element\": request_id,\n          'data': data,\n          \"metadata\": \"\"\n        });\n      }\n    }\n  },\n  __setNewIdProcess: function (element, document_id, pass) {\n    if (!element) return;\n    element.removeAttribute(this.requestAttr);\n    const event_data = {\n      document_id: document_id\n    };\n\n    if (!pass && !this.checkID(element) && element.hasAttribute('name')) {\n      element.setAttribute('data-document_id', document_id);\n    }\n\n    if (pass && !this.checkID(element, 'data-pass_document_id') && element.hasAttribute('data-pass_to')) {\n      element.setAttribute('data-pass_document_id', document_id); // CoCreateLogic.storePassData(element)\n\n      if (element.parentNode.classList.contains('submitBtn')) {\n        element.click();\n      }\n    }\n\n    var event = new CustomEvent('set-document_id', {\n      detail: event_data\n    });\n    element.dispatchEvent(event);\n  },\n  __receivedDocumentId: function (data) {\n    if (!data['document_id']) {\n      return;\n    }\n\n    let element = document.querySelector(`[${this.requestAttr}=\"${data['element']}\"]`);\n    if (!element) return;\n    let self = this;\n    const form = element.tagName === \"FORM\" ? element : _utils2.default.getParents(element, 'form');\n    const collection = data['collection'];\n    const id = data['document_id'];\n\n    if (form && id) {\n      form.setAttribute('data-form_id', data['element']);\n      const elements = form.querySelectorAll(`[data-collection=${collection}], [data-pass_collection=${collection}]`);\n      elements.forEach(function (el) {\n        el.removeAttribute(self.requestAttr);\n        if (el.hasAttribute('name')) self.__setNewIdProcess(el, id);\n        if (el.hasAttribute('data-pass_to')) self.__setNewIdProcess(el, id, true);\n      });\n    } else if (element) {\n      this.__setNewIdProcess(element, id);\n    }\n  }\n};\n\nCoCreateForm.__init(); // core.registerInit(CoCreateForm.initElement, CoCreateForm);\n\n\n_observer.default.init({\n  name: 'CoCreateForm',\n  observe: ['subtree', 'childList'],\n  include: 'form',\n  callback: function (mutation) {\n    CoCreateForm.initElement(mutation.target);\n  }\n});\n\n_action.default.init({\n  action: \"createDocument\",\n  endEvent: \"createdDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__createDocumentAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"deleteDocument\",\n  endEvent: \"deletedDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__deleteDocumentAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"deleteDocuments\",\n  endEvent: \"deletedDocuments\",\n  callback: (btn, data) => {\n    CoCreateDocument.__deleteDocumentsAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"saveDocument\",\n  endEvent: \"savedDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__saveDocumentAction(btn);\n  }\n});\n\nvar _default = CoCreateForm;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWZvcm0vc3JjL2luZGV4LmpzP2I3YzkiXSwibmFtZXMiOlsiQ29DcmVhdGVGb3JtIiwicmVxdWVzdEF0dHIiLCJzZWxlY3RvcnMiLCJtb2R1bGVzIiwiaW5pdCIsIm5hbWUiLCJzZWxlY3RvciIsImNhbGxiYWNrIiwicHVzaCIsImdldCIsImNoZWNrSUQiLCJlbGVtZW50IiwiYXR0ciIsImRvY3VtZW50X2lkIiwiZ2V0QXR0cmlidXRlIiwiY2N1dGlscyIsImNoZWNrVmFsdWUiLCJyZXF1ZXN0IiwiZm9ybSIsIm5hbWVBdHRyIiwidmFsdWUiLCJjbG9zZXN0IiwiX19yZXF1ZXN0RG9jdW1lbnRJZE9mRm9ybSIsIl9fcmVxdWVzdERvY3VtZW50SWQiLCJpbml0RWxlbWVudCIsImNvbnRhaW5lciIsIl9fY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9ybXMiLCJsZW5ndGgiLCJ0YWdOYW1lIiwiZm9yRWFjaCIsInV0aWxzIiwic2V0QXR0cmlidXRlIiwiZGlzYWJsZUF1dG9GaWxsIiwiX19pbml0IiwiX19pbml0RXZlbnQiLCJzZWxmIiwiY3J1ZCIsImxpc3RlbiIsImRhdGEiLCJtZXRhZGF0YSIsIl9fcmVjZWl2ZWREb2N1bWVudElkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZGV0YWlsIiwibWF0Y2hlcyIsImNhbGwiLCJfX2RlbGV0ZURvY3VtZW50QWN0aW9uIiwiYnRuIiwiY29sbGVjdGlvbiIsImRlbGV0ZURvY3VtZW50IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiX19kZWxldGVEb2N1bWVudHNBY3Rpb24iLCJzZWxlY3RlZEVscyIsImVsIiwiX19jcmVhdGVEb2N1bWVudEFjdGlvbiIsImNvbGxlY3Rpb25zIiwiZ2V0Q09sbGVjdGlvbnMiLCJnZXRGb3JtRGF0YSIsIk9iamVjdCIsImtleXMiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZURvY3VtZW50IiwiX19zYXZlRG9jdW1lbnRBY3Rpb24iLCJjaGVja0Zvcm1WYWxpZGF0ZSIsImFsZXJ0IiwiZWxlbWVudHMiLCJqb2luIiwicmVxdWVzdF9kb2N1bWVudF9pZCIsImkiLCJkYXRhX2RvY3VtZW50X2lkIiwiaW5wdXQiLCJpc1VzYWdlWSIsImlzVGVtcGxhdGVJbnB1dCIsIm5ld19ldmVudCIsImJ1YmJsZXMiLCJ0eXBlIiwicmVxdWVzdERvY3VtZW50SWRPZkZvcm0iLCJyZXF1ZXN0X2lkIiwiZ2VuZXJhdGVVVUlEIiwiZWxlbWVucyIsInBhcmVudE5vZGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImluY2x1ZGVzIiwiX19zZXROZXdJZFByb2Nlc3MiLCJwYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiZXZlbnRfZGF0YSIsImhhc0F0dHJpYnV0ZSIsImNsaWNrIiwicXVlcnlTZWxlY3RvciIsImdldFBhcmVudHMiLCJpZCIsIm9ic2VydmVyIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJtdXRhdGlvbiIsInRhcmdldCIsImFjdGlvbiIsImVuZEV2ZW50IiwiQ29DcmVhdGVEb2N1bWVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHO0FBRXBCQyxhQUFXLEVBQUUsdUJBRk87QUFHcEJDLFdBQVMsRUFBRSxFQUhTO0FBSXBCQyxTQUFPLEVBQUUsRUFKVztBQU1wQkMsTUFBSSxFQUFFLFVBQVM7QUFBQ0MsUUFBRDtBQUFPQyxZQUFQO0FBQWlCQztBQUFqQixHQUFULEVBQXFDO0FBRTFDLFNBQUtKLE9BQUwsQ0FBYUssSUFBYixDQUFrQjtBQUNqQkgsVUFEaUI7QUFFakJDLGNBRmlCO0FBR2pCQztBQUhpQixLQUFsQjs7QUFNQSxRQUFJRCxRQUFKLEVBQWM7QUFDYixXQUFLSixTQUFMLENBQWVNLElBQWYsQ0FBb0JGLFFBQXBCO0FBQ0E7QUFDRCxHQWpCbUI7QUFtQnBCRyxLQUFHLEVBQUUsWUFB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LENBQVo7O0FBUUFvRCxnQkFBT2xHLElBQVAsQ0FBWTtBQUNYa0csUUFBTSxFQUFFLGlCQURHO0FBRVhDLFVBQVEsRUFBRSxrQkFGQztBQUdYaEcsVUFBUSxFQUFFLENBQUMyQyxHQUFELEVBQU1ULElBQU4sS0FBZTtBQUN4QitELG9CQUFnQixDQUFDakQsdUJBQWpCLENBQXlDTCxHQUF6QztBQUNBO0FBTFUsQ0FBWjs7QUFRQW9ELGdCQUFPbEcsSUFBUCxDQUFZO0FBQ1hrRyxRQUFNLEVBQUUsY0FERztBQUVYQyxVQUFRLEVBQUUsZUFGQztBQUdYaEcsVUFBUSxFQUFFLENBQUMyQyxHQUFELEVBQU1ULElBQU4sS0FBZTtBQUN4QnpDLGdCQUFZLENBQUNrRSxvQkFBYixDQUFrQ2hCLEdBQWxDO0FBQ0E7QUFMVSxDQUFaOztlQVFlbEQsWSIsImZpbGUiOiIuLi9Db0NyZWF0ZS1mb3JtL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInXG5pbXBvcnQgY2N1dGlscyBmcm9tICdAY29jcmVhdGUvdXRpbHMnO1xuaW1wb3J0IGNydWQgZnJvbSAnQGNvY3JlYXRlL2NydWQnXG5pbXBvcnQgYWN0aW9uIGZyb20gJ0Bjb2NyZWF0ZS9hY3Rpb24nXG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4vdXRpbHNcIiBcblxuY29uc3QgQ29DcmVhdGVGb3JtID0ge1xuXHRcblx0cmVxdWVzdEF0dHI6IFwiZGF0YS1kb2N1bWVudF9yZXF1ZXN0XCIsXG5cdHNlbGVjdG9yczogW10sXG5cdG1vZHVsZXM6IFtdLFxuXG5cdGluaXQ6IGZ1bmN0aW9uKHtuYW1lLCBzZWxlY3RvciwgY2FsbGJhY2t9KSB7XG5cdFx0XG5cdFx0dGhpcy5tb2R1bGVzLnB1c2goe1xuXHRcdFx0bmFtZSxcblx0XHRcdHNlbGVjdG9yLFxuXHRcdFx0Y2FsbGJhY2tcblx0XHR9KTtcblx0XHRcblx0XHRpZiAoc2VsZWN0b3IpIHtcblx0XHRcdHRoaXMuc2VsZWN0b3JzLnB1c2goc2VsZWN0b3IpO1xuXHRcdH1cblx0fSxcblx0XG5cdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbGVjdG9yczogdGhpcy5zZWxlY3RvcnNcblx0XHR9XG5cdH0sXG5cdFxuXHRjaGVja0lEOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyID0gXCJkYXRhLWRvY3VtZW50X2lkXCIpIHtcblx0XHRsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKSB8fCBcIlwiO1xuXHRcdGlmIChkb2N1bWVudF9pZCA9PT0gXCJcIiB8fCBkb2N1bWVudF9pZCA9PT0gXCJwZW5kaW5nXCIgfHwgIWNjdXRpbHMuY2hlY2tWYWx1ZShkb2N1bWVudF9pZCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdFxuXHRyZXF1ZXN0OiBmdW5jdGlvbih7Zm9ybSwgZWxlbWVudCwgbmFtZUF0dHIsIHZhbHVlfSkge1xuXHRcdFxuXHRcdGlmICghZm9ybSAmJiBlbGVtZW50KSB7XG5cdFx0XHRmb3JtID0gZWxlbWVudC5jbG9zZXN0KCdmb3JtJyk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChmb3JtKSB7XG5cdFx0XHR0aGlzLl9fcmVxdWVzdERvY3VtZW50SWRPZkZvcm0oZm9ybSlcblx0XHR9IGVsc2UgaWYgKGVsZW1lbnQpIHtcblx0XHRcdG5hbWVBdHRyID0gbmFtZUF0dHIgfHwgXCJuYW1lXCJcblx0XHRcdHRoaXMuX19yZXF1ZXN0RG9jdW1lbnRJZChlbGVtZW50LCBuYW1lQXR0ciwgdmFsdWUpO1xuXHRcdH1cblx0XHRcblx0fSxcblx0XG5cdGluaXRFbGVtZW50OiBmdW5jdGlvbihjb250YWluZXIpIHtcblx0XHRjb25zdCBfX2NvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudFxuXHRcdFxuXHRcdGlmICghX19jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRsZXQgIGZvcm1zID0gX19jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnZm9ybScpO1xuXG5cdFx0aWYgKGZvcm1zLmxlbmd0aCA9PT0gMCAmJiBfX2NvbnRhaW5lciAhPSBkb2N1bWVudCAmJiBfX2NvbnRhaW5lci50YWdOYW1lID09PSBcIkZPUk1cIikge1xuXHRcdFx0Zm9ybXMgPSBbX19jb250YWluZXJdO1xuXHRcdH1cblx0XHRcblx0XHRmb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XG5cdFx0XHR1dGlscy5zZXRBdHRyaWJ1dGUoZm9ybSlcblx0XHRcdHV0aWxzLmRpc2FibGVBdXRvRmlsbChmb3JtKTtcblx0XHR9KVxuXHR9LFxuXHRcblx0X19pbml0OiBmdW5jdGlvbigpIHtcblx0XHRjb25zdCBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcblx0XHR0aGlzLl9faW5pdEV2ZW50KCk7XG5cblx0XHRmb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XG5cdFx0XHR1dGlscy5zZXRBdHRyaWJ1dGUoZm9ybSlcblx0XHR9KVxuXHRcdFxuXHR9LFxuXHRcblx0X19pbml0RXZlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGNydWQubGlzdGVuKCdjcmVhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGNvbnN0IHttZXRhZGF0YX0gPSBkYXRhO1xuXHRcdFx0c2VsZi5fX3JlY2VpdmVkRG9jdW1lbnRJZChkYXRhKTtcblx0XHRcdGlmIChtZXRhZGF0YSA9PSBcImNyZWF0ZURvY3VtZW50LWFjdGlvblwiKSB7XG5cdFx0XHRcdC8vLiBkaXNwYXRjaCBFbmRBY3Rpb25cblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGNydWQubGlzdGVuKCdkZWxldGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGNvbnN0IHttZXRhZGF0YX0gPSBkYXRhXG5cdFx0XHRpZiAobWV0YWRhdGEgPT09IFwiZGVsZXRlRG9jdW1lbnQtYWN0aW9uXCIpIHtcblx0XHRcdFx0Ly8uZGlzcGF0Y2ggRW5kIEFjdGlvblxuXHRcdFx0fVxuXHRcdH0pXHRcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGlja2VkLXN1Ym1pdEJ0bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRjb25zdCB7ZWxlbWVudH0gPSBldmVudC5kZXRhaWw7XG5cblx0XHRcdHNlbGYubW9kdWxlcy5mb3JFYWNoKCh7c2VsZWN0b3IsIGNhbGxiYWNrfSkgPT4ge1xuXHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZWxlbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSlcblx0fSxcblxuXHRfX2RlbGV0ZURvY3VtZW50QWN0aW9uOiBmdW5jdGlvbihidG4pIHtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyk7XG5cdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRpZiAoY2N1dGlscy5jaGVja1ZhbHVlKGNvbGxlY3Rpb24pICYmIGNjdXRpbHMuY2hlY2tWYWx1ZShkb2N1bWVudF9pZCkpIHtcblx0XHRcdGNydWQuZGVsZXRlRG9jdW1lbnQoe1xuXHRcdFx0XHQnY29sbGVjdGlvbic6IGNvbGxlY3Rpb24sIFxuXHRcdFx0XHQnZG9jdW1lbnRfaWQnOiBkb2N1bWVudF9pZCxcblx0XHRcdFx0J21ldGFkYXRhJzogJ2RlbGV0ZURvY3VtZW50LWFjdGlvbicgXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RlbGV0ZWREb2N1bWVudCcsIHtcblx0XHRcdFx0ZGV0YWlsOiB7fVxuXHRcdFx0fSkpXG5cdFx0fVxuXHR9LFxuXHRcblx0X19kZWxldGVEb2N1bWVudHNBY3Rpb246IGZ1bmN0aW9uKGJ0bikge1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKTtcblx0XHRjb25zdCBzZWxlY3RvciA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfdGFyZ2V0Jyk7XG5cdFx0aWYgKCFzZWxlY3RvcikgcmV0dXJuO1xuXHRcdFxuXHRcdGNvbnN0IHNlbGVjdGVkRWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcilcblx0XHRcblx0XHRpZiAodXRpbHMuY2hlY2tWYWx1ZShjb2xsZWN0aW9uKSkge1xuXHRcdFx0c2VsZWN0ZWRFbHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRcdFx0aWYgKGNjdXRpbHMuY2hlY2tWYWx1ZShkb2N1bWVudF9pZCkpIHtcblx0XHRcdFx0XHRjcnVkLmRlbGV0ZURvY3VtZW50KHtcblx0XHRcdFx0XHRcdCdjb2xsZWN0aW9uJzogY29sbGVjdGlvbixcblx0XHRcdFx0XHRcdCdkb2N1bWVudF9pZCc6IGRvY3VtZW50X2lkLFxuXHRcdFx0XHRcdFx0J21ldGFkYXRhJzogJydcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZGVsZXRlZERvY3VtZW50cycsIHtcblx0XHRcdFx0ZGV0YWlsOiB7fVxuXHRcdFx0fSkpXG5cdFx0fVxuXHR9LFxuXHRcblx0X19jcmVhdGVEb2N1bWVudEFjdGlvbjogZnVuY3Rpb24oYnRuKSB7XG5cdFx0Y29uc3QgZm9ybSA9IGJ0bi5jbG9zZXN0KFwiZm9ybVwiKVxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGxldCBjb2xsZWN0aW9ucyA9IHV0aWxzLmdldENPbGxlY3Rpb25zKGZvcm0pXG5cdFx0XG5cdFx0Y29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuXHRcdFx0bGV0IGRhdGEgPSB1dGlscy5nZXRGb3JtRGF0YShmb3JtLCBcIlwiLCBjb2xsZWN0aW9uKTtcblx0XHRcdFxuXHRcdFx0aWYgKE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA9PSAwICYmIGRhdGEuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2N1dGlscy5jaGVja1ZhbHVlKGNvbGxlY3Rpb24pKSB7XG5cdFx0XHRcdGNydWQuY3JlYXRlRG9jdW1lbnQoe1xuXHRcdFx0XHRcdCdjb2xsZWN0aW9uJzogY29sbGVjdGlvbixcblx0XHRcdFx0XHQnZGF0YSc6IGRhdGEsXG5cdFx0XHRcdFx0J21ldGFkYXRhJzogJ2NyZWF0ZURvY3VtZW50LWFjdGlvbicgLFxuXHRcdFx0XHRcdCdlbGVtZW50JzonZW1wdHknXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY3JlYXRlZERvY3VtZW50Jywge1xuXHRcdFx0XHRcdGRldGFpbDoge31cblx0XHRcdFx0fSkpXG5cdFx0XHR9XG5cdFx0fSlcblx0fSxcblx0XG5cdF9fc2F2ZURvY3VtZW50QWN0aW9uOiBmdW5jdGlvbihidG4pIHtcblx0XHRjb25zdCBmb3JtID0gYnRuLmNsb3Nlc3QoXCJmb3JtXCIpXG5cblx0XHRpZiAoIXV0aWxzLmNoZWNrRm9ybVZhbGlkYXRlKGZvcm0pKSB7XG5cdFx0XHRhbGVydCgnVmFsdWVzIGFyZSBub3QgdW5pcXVlJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnN0IHNlbGVjdG9ycyA9IHRoaXMuc2VsZWN0b3JzIHx8IFtdO1xuXHRcdGNvbnN0IGVsZW1lbnRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycy5qb2luKCcsJykpO1xuXHRcdFxuXHRcdGxldCByZXF1ZXN0X2RvY3VtZW50X2lkID0gZmFsc2U7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGVsID0gZWxlbWVudHNbaV07XG5cdFx0XHRjb25zdCBkYXRhX2RvY3VtZW50X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyk7XG5cblx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2F2ZV92YWx1ZScpID09ICdmYWxzZScpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghZGF0YV9kb2N1bWVudF9pZCkge1xuXHRcdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCduYW1lJykpIHtcblx0XHRcdFx0XHRyZXF1ZXN0X2RvY3VtZW50X2lkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGlucHV0LmlzVXNhZ2VZKGVsKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHV0aWxzLmlzVGVtcGxhdGVJbnB1dChlbCkpIHJldHVybjtcblxuXHRcdFx0dmFyIG5ld19ldmVudCA9IG5ldyBDdXN0b21FdmVudChcImNsaWNrZWQtc3VibWl0QnRuXCIsIHtcblx0XHRcdFx0YnViYmxlczogdHJ1ZSxcblx0XHRcdFx0ZGV0YWlsOiB7IFxuXHRcdFx0XHRcdHR5cGU6IFwic3VibWl0QnRuXCIsIFxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsIFxuXHRcdFx0XHR9fSk7XG5cdFx0XHRlbC5kaXNwYXRjaEV2ZW50KG5ld19ldmVudCk7ICBcblx0XHR9XG5cdFx0aWYgKHJlcXVlc3RfZG9jdW1lbnRfaWQpIHtcblx0XHRcdHRoaXMucmVxdWVzdERvY3VtZW50SWRPZkZvcm0oZm9ybSlcblx0XHR9XG5cdFx0XG5cdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NhdmVkRG9jdW1lbnQnLCB7XG5cdFx0XHRkZXRhaWw6IHt9XG5cdFx0fSkpXG5cdH0sXG5cdFxuXHRfX3JlcXVlc3REb2N1bWVudElkOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lQXR0ciA9IFwibmFtZVwiLCB2YWx1ZSA9IG51bGwpIHtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0Y29uc3QgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWVBdHRyKVxuXHRcdFxuXHRcdGlmICghY29sbGVjdGlvbiB8fCAhbmFtZSkgcmV0dXJuIFxuXG5cdFx0Y29uc3QgcmVxdWVzdF9pZCA9IGNjdXRpbHMuZ2VuZXJhdGVVVUlEKCk7XG5cblx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLnJlcXVlc3RBdHRyLCByZXF1ZXN0X2lkKTtcblx0XHRcblx0XHRjcnVkLmNyZWF0ZURvY3VtZW50KHtcblx0XHRcdFwiY29sbGVjdGlvblwiOiBjb2xsZWN0aW9uLFxuXHRcdFx0XCJlbGVtZW50XCI6IHJlcXVlc3RfaWQsXG5cdFx0XHRcIm1ldGFkYXRhXCI6IFwiXCIsXG5cdFx0fSlcblx0fSxcblx0XHRcblx0X19yZXF1ZXN0RG9jdW1lbnRJZE9mRm9ybTogZnVuY3Rpb24gKGZvcm0pIHtcblx0XHRcblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cdFx0bGV0IGVsZW1lbnMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lXSwgW2RhdGEtcGFzc190b10nKVxuXHRcdFxuXHRcdGxldCBjb2xsZWN0aW9ucyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgIGkgPSAwOyBpIDwgZWxlbWVucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGVsID0gZWxlbWVuc1tpXTtcblx0XHRcdGlmIChlbC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygndGVtcGxhdGUnKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbGxlY3Rpb25cIikgfHwgZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYXNzX2NvbGxlY3Rpb25cIikgfHwgXCJcIjtcdFxuXHRcdFx0XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNvbGxlY3Rpb24gIT09IFwiXCIgJiYgXG5cdFx0XHRcdCFjb2xsZWN0aW9ucy5pbmNsdWRlcyhjb2xsZWN0aW9uKSAmJiBcblx0XHRcdFx0KCFzZWxmLmNoZWNrSUQoZWwsICdkYXRhLWRvY3VtZW50X2lkJykgJiYgIXNlbGYuY2hlY2tJRChlbCwgJ2RhdGEtcGFzc19kb2N1bWVudF9pZCcpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnN0IHJlcXVlc3RfaWQgPSBjY3V0aWxzLmdlbmVyYXRlVVVJRCgpO1xuXHRcdFx0XHRjb2xsZWN0aW9ucy5wdXNoKGNvbGxlY3Rpb24pO1xuXG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSh0aGlzLnJlcXVlc3RBdHRyLCByZXF1ZXN0X2lkKTtcblx0XHRcdFx0Ly8uIGdldCBEYXRhXG5cdFx0XHRcdFxuXHRcdFx0XHRsZXQgZGF0YSA9IHV0aWxzLmdldEZvcm1EYXRhKGZvcm0sIFwiXCIsIGNvbGxlY3Rpb24pO1xuXHRcdFx0XHRcblx0XHRcdFx0LyogRml4TUUgQ3JlYXRlIERvY3VtZW50IHJlcXVlc3QgKi9cdFxuXHRcdFx0XHRjcnVkLmNyZWF0ZURvY3VtZW50KHtcblx0XHRcdFx0XHRcImNvbGxlY3Rpb25cIjogY29sbGVjdGlvbixcblx0XHRcdFx0XHRcImVsZW1lbnRcIjogcmVxdWVzdF9pZCxcblx0XHRcdFx0XHQnZGF0YSc6IGRhdGEsXG5cdFx0XHRcdFx0XCJtZXRhZGF0YVwiOiBcIlwiLFxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfX3NldE5ld0lkUHJvY2VzczogZnVuY3Rpb24oZWxlbWVudCwgZG9jdW1lbnRfaWQsIHBhc3MpIHtcblx0XHRpZiAoIWVsZW1lbnQpIHJldHVybjtcblx0XHRcbiAgXHRcdGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHRoaXMucmVxdWVzdEF0dHIpO1xuXHRcdGNvbnN0IGV2ZW50X2RhdGEgPSB7XG5cdFx0XHRkb2N1bWVudF9pZDogZG9jdW1lbnRfaWQsXG5cdFx0fVxuXG5cdFx0aWYgKCFwYXNzICYmICF0aGlzLmNoZWNrSUQoZWxlbWVudCkgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ25hbWUnKSkge1xuXHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZCk7XG5cdCAgXHR9XG5cblx0ICBcdGlmIChwYXNzICYmICF0aGlzLmNoZWNrSUQoZWxlbWVudCwgJ2RhdGEtcGFzc19kb2N1bWVudF9pZCcpICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKSkge1xuXHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkKTtcblx0XHRcdC8vIENvQ3JlYXRlTG9naWMuc3RvcmVQYXNzRGF0YShlbGVtZW50KVxuXHRcdFx0XG5cdFx0XHRpZiAoZWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnc3VibWl0QnRuJykpIHtcblx0XHRcdFx0ZWxlbWVudC5jbGljaygpO1xuXHRcdFx0fVxuXHQgIFx0fVxuICBcdFxuXHRcdHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnc2V0LWRvY3VtZW50X2lkJywge2RldGFpbDogZXZlbnRfZGF0YX0pXG5cdFx0ZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuXHR9LFxuXHRcblx0X19yZWNlaXZlZERvY3VtZW50SWQ6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRpZiAoIWRhdGFbJ2RvY3VtZW50X2lkJ10pIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske3RoaXMucmVxdWVzdEF0dHJ9PVwiJHtkYXRhWydlbGVtZW50J119XCJdYCk7XG5cdFx0aWYgKCFlbGVtZW50KSByZXR1cm47XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXHRcdGNvbnN0IGZvcm0gPSAoZWxlbWVudC50YWdOYW1lID09PSBcIkZPUk1cIikgPyBlbGVtZW50IDogdXRpbHMuZ2V0UGFyZW50cyhlbGVtZW50LCAnZm9ybScpO1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBkYXRhWydjb2xsZWN0aW9uJ107XG5cdFx0Y29uc3QgaWQgPSBkYXRhWydkb2N1bWVudF9pZCddXG5cdFx0aWYgKGZvcm0gJiYgaWQpIHtcblx0XHRcdGZvcm0uc2V0QXR0cmlidXRlKCdkYXRhLWZvcm1faWQnLCBkYXRhWydlbGVtZW50J10pO1xuXHRcdFx0Y29uc3QgZWxlbWVudHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWNvbGxlY3Rpb249JHtjb2xsZWN0aW9ufV0sIFtkYXRhLXBhc3NfY29sbGVjdGlvbj0ke2NvbGxlY3Rpb259XWApXG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG5cdFx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZShzZWxmLnJlcXVlc3RBdHRyKTtcblx0XHRcdFx0aWYgKGVsLmhhc0F0dHJpYnV0ZSgnbmFtZScpKSBzZWxmLl9fc2V0TmV3SWRQcm9jZXNzKGVsLCBpZCk7XG5cdFx0XHRcdGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpKSBzZWxmLl9fc2V0TmV3SWRQcm9jZXNzKGVsLCBpZCwgdHJ1ZSk7XG5cdFx0XHR9KVxuXHQgIFx0XG5cdFx0fSBlbHNlIGlmIChlbGVtZW50KSB7XG5cdFx0XHR0aGlzLl9fc2V0TmV3SWRQcm9jZXNzKGVsZW1lbnQsIGlkKTtcblx0XHR9XG5cdH0sXG59XG5cbkNvQ3JlYXRlRm9ybS5fX2luaXQoKTtcbi8vIGNvcmUucmVnaXN0ZXJJbml0KENvQ3JlYXRlRm9ybS5pbml0RWxlbWVudCwgQ29DcmVhdGVGb3JtKTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVGb3JtJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ2Zvcm0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Q29DcmVhdGVGb3JtLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSlcblxuYWN0aW9uLmluaXQoe1xuXHRhY3Rpb246IFwiY3JlYXRlRG9jdW1lbnRcIixcblx0ZW5kRXZlbnQ6IFwiY3JlYXRlZERvY3VtZW50XCIsXG5cdGNhbGxiYWNrOiAoYnRuLCBkYXRhKSA9PiB7XG5cdFx0Q29DcmVhdGVGb3JtLl9fY3JlYXRlRG9jdW1lbnRBY3Rpb24oYnRuKVxuXHR9LFxufSlcblxuYWN0aW9uLmluaXQoe1xuXHRhY3Rpb246IFwiZGVsZXRlRG9jdW1lbnRcIixcblx0ZW5kRXZlbnQ6IFwiZGVsZXRlZERvY3VtZW50XCIsXG5cdGNhbGxiYWNrOiAoYnRuLCBkYXRhKSA9PiB7XG5cdFx0Q29DcmVhdGVGb3JtLl9fZGVsZXRlRG9jdW1lbnRBY3Rpb24oYnRuKVxuXHR9LFxufSlcblxuYWN0aW9uLmluaXQoe1xuXHRhY3Rpb246IFwiZGVsZXRlRG9jdW1lbnRzXCIsXG5cdGVuZEV2ZW50OiBcImRlbGV0ZWREb2N1bWVudHNcIixcblx0Y2FsbGJhY2s6IChidG4sIGRhdGEpID0+IHtcblx0XHRDb0NyZWF0ZURvY3VtZW50Ll9fZGVsZXRlRG9jdW1lbnRzQWN0aW9uKGJ0bilcblx0fSxcbn0pXG5cbmFjdGlvbi5pbml0KHtcblx0YWN0aW9uOiBcInNhdmVEb2N1bWVudFwiLFxuXHRlbmRFdmVudDogXCJzYXZlZERvY3VtZW50XCIsXG5cdGNhbGxiYWNrOiAoYnRuLCBkYXRhKSA9PiB7XG5cdFx0Q29DcmVhdGVGb3JtLl9fc2F2ZURvY3VtZW50QWN0aW9uKGJ0bilcblx0fSxcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlRm9ybTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-form/src/index.js\n")},"../CoCreate-form/src/utils.js":(__unused_webpack_module,exports)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\nconst Utils = {\n  disableAutoFill: function (element) {\n    if (element.tagName == \"TEXTAREA\") {\n      element.value = \"\";\n      element.setAttribute(\"autocomplete\", \"off\");\n    }\n\n    if (!element.hasAttribute(\"autocomplete\")) {\n      element.setAttribute('autocomplete', \"off\");\n    }\n  },\n  setAttribute: function (form) {\n    const collection = form.getAttribute('data-collection') || \"\";\n    const dataRealTime = form.getAttribute('data-realtime');\n    const document_id = form.getAttribute('data-document_id') || \"\";\n    let elements = form.querySelectorAll('[name], [data-pass_to]');\n    elements.forEach(function (el) {\n      if (el.parentNode.classList.contains('template')) {\n        return;\n      }\n\n      if (el.getAttribute('data-realtime') == null && dataRealTime) {\n        // if (!['INPUT', 'TEXTAREA'].indexOf(el.tagName)) {\n        el.setAttribute('data-realtime', dataRealTime); // }\n      }\n\n      if (el.getAttribute('name') && !el.hasAttribute('data-collection') && collection) {\n        el.setAttribute('data-collection', collection);\n      }\n\n      if (el.getAttribute('data-pass_to') && !el.hasAttribute('data-pass_collection') && collection) {\n        el.setAttribute('data-pass_collection', collection);\n      }\n\n      if (el.getAttribute('name') && !el.getAttribute('data-document_id') && document_id) {\n        el.setAttribute('data-document_id', document_id);\n      }\n\n      if (!el.hasAttribute(\"data-document_id\") && document_id != null) {\n        el.setAttribute('data-document_id', document_id);\n      }\n    });\n  },\n  checkFormValidate: function (form) {\n    if (typeof CoCreate.unique !== 'undefined') {\n      return CoCreate.unique.checkValidate(form);\n    }\n\n    return true;\n  },\n  isTemplateInput: function (input) {\n    if (input.classList.contains('template')) return true;\n    let node = input.parentNode;\n\n    while (node) {\n      if (node.classList && node.classList.contains('template')) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  },\n  getFormData: function (form, document_id, collection) {\n    let data = {};\n    if (!collection) return {};\n    const elements = form.querySelectorAll(`[name][data-collection='${collection}']`);\n    elements.forEach(el => {\n      let el_document_id = el.getAttribute('data-document_id') || \"\";\n      let name = el.getAttribute('name');\n      let value = el.value || el.getAttribute('value');\n      if (name === \"_id\") return;\n      if (!name || !value) return;\n\n      if (document_id == el_document_id) {\n        data[name] = el.value;\n      }\n    });\n    return data;\n  },\n  // getFormData: function(form, selectors) {\n  // \tconst self = this; \n  // \tconst elements = form.querySelectorAll(selectors.join(','));\n  // \tlet request_document_id = false;\n  // \tlet dataList = [];\n  // \telements.forEach(el => {\n  // \t\tlet collection = el.getAttribute('data-collection')\n  // \t\tlet document_id = el.getAttribute('data-document_id')\n  // \t\tlet name = el.getAttribute('name')\n  // \t\tif (el.getAttribute('data-save_value') == 'false') {\n  // \t\t\treturn;\n  // \t\t}\n  // \t\tif (!document_id && name) {\n  // \t\t\trequest_document_id = true;\n  // \t\t\treturn;\n  // \t\t}\n  // \t\tlet data = dataList.find(d => d.collection == collection && d.document_id == document_id);\n  // \t})\n  // },\n  getParents: function (element, selector = \"form\") {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n            i = matches.length;\n\n        while (--i >= 0 && matches.item(i) !== this) {}\n\n        return i > -1;\n      };\n    }\n\n    for (; element && element !== document; element = element.parentNode) {\n      if (element.matches(selector)) return element;\n    }\n\n    return null;\n  },\n  setDocumentIDOfElement: function (element, document_id) {\n    let old_document_id = element.getAttribute('data-document_id');\n\n    if (!old_document_id || old_document_id == \"\" || old_document_id == \"pending\") {\n      element.setAttribute('data-document_id', document_id);\n    }\n  },\n  getCOllections: function (form) {\n    let collections = [];\n    if (!form) return collections;\n    let els = form.querySelectorAll('[name][data-collection]');\n    els.forEach(el => {\n      let tmpCollection = el.getAttribute('data-collection');\n\n      if (tmpCollection && !collections.includes(tmpCollection)) {\n        collections.push(tmpCollection);\n      }\n    });\n    return collections;\n  }\n};\nvar _default = Utils;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWZvcm0vc3JjL3V0aWxzLmpzPzJmZmUiXSwibmFtZXMiOlsiVXRpbHMiLCJkaXNhYmxlQXV0b0ZpbGwiLCJlbGVtZW50IiwidGFnTmFtZSIsInZhbHVlIiwic2V0QXR0cmlidXRlIiwiaGFzQXR0cmlidXRlIiwiZm9ybSIsImNvbGxlY3Rpb24iLCJnZXRBdHRyaWJ1dGUiLCJkYXRhUmVhbFRpbWUiLCJkb2N1bWVudF9pZCIsImVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbCIsInBhcmVudE5vZGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImNoZWNrRm9ybVZhbGlkYXRlIiwiQ29DcmVhdGUiLCJ1bmlxdWUiLCJjaGVja1ZhbGlkYXRlIiwiaXNUZW1wbGF0ZUlucHV0IiwiaW5wdXQiLCJub2RlIiwiZ2V0Rm9ybURhdGEiLCJkYXRhIiwiZWxfZG9jdW1lbnRfaWQiLCJuYW1lIiwiZ2V0UGFyZW50cyIsInNlbGVjdG9yIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJzIiwiZG9jdW1lbnQiLCJvd25lckRvY3VtZW50IiwiaSIsImxlbmd0aCIsIml0ZW0iLCJzZXREb2N1bWVudElET2ZFbGVtZW50Iiwib2xkX2RvY3VtZW50X2lkIiwiZ2V0Q09sbGVjdGlvbnMiLCJjb2xsZWN0aW9ucyIsImVscyIsInRtcENvbGxlY3Rpb24iLCJpbmNsdWRlcyIsInB1c2giXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLE1BQU1BLEtBQUssR0FBRztBQUViQyxpQkFBZSxFQUFFLFVBQVNDLE9BQVQsRUFBa0I7QUFDbEMsUUFBSUEsT0FBTyxDQUFDQyxPQUFSLElBQW1CLFVBQXZC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LEVBQXZDLElBQTZDQSxlQUFlLElBQUksU0FBcEUsRUFBK0U7QUFDOUU3QyxhQUFPLENBQUNHLFlBQVIsQ0FBcUIsa0JBQXJCLEVBQXlDTSxXQUF6QztBQUNBO0FBQ0QsR0F4SVk7QUEwSWJxQyxnQkFBYyxFQUFFLFVBQVN6QyxJQUFULEVBQWU7QUFDOUIsUUFBSTBDLFdBQVcsR0FBRyxFQUFsQjtBQUNBLFFBQUksQ0FBQzFDLElBQUwsRUFBVyxPQUFPMEMsV0FBUDtBQUVYLFFBQUlDLEdBQUcsR0FBRzNDLElBQUksQ0FBQ00sZ0JBQUwsQ0FBc0IseUJBQXRCLENBQVY7QUFDQXFDLE9BQUcsQ0FBQ3BDLE9BQUosQ0FBYUMsRUFBRCxJQUFRO0FBQ25CLFVBQUlvQyxhQUFhLEdBQUdwQyxFQUFFLENBQUNOLFlBQUgsQ0FBZ0IsaUJBQWhCLENBQXBCOztBQUNBLFVBQUkwQyxhQUFhLElBQUksQ0FBQ0YsV0FBVyxDQUFDRyxRQUFaLENBQXFCRCxhQUFyQixDQUF0QixFQUEyRDtBQUMxREYsbUJBQVcsQ0FBQ0ksSUFBWixDQUFpQkYsYUFBakI7QUFDQTtBQUNELEtBTEQ7QUFNQSxXQUFPRixXQUFQO0FBQ0E7QUF0SlksQ0FBZDtlQXlKZWpELEsiLCJmaWxlIjoiLi4vQ29DcmVhdGUtZm9ybS9zcmMvdXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IFV0aWxzID0ge1xuXG5cdGRpc2FibGVBdXRvRmlsbDogZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdGlmIChlbGVtZW50LnRhZ05hbWUgPT0gXCJURVhUQVJFQVwiKSB7XG5cdFx0XHRlbGVtZW50LnZhbHVlID0gXCJcIjtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIilcblx0XHR9XG5cdFx0aWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiKSkge1xuXHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsIFwib2ZmXCIpO1xuXHRcdH1cblx0fSxcblxuXHRzZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uKGZvcm0pIHtcblx0XHRcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpIHx8IFwiXCI7IFxuXHRcdGNvbnN0IGRhdGFSZWFsVGltZSA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLXJlYWx0aW1lJyk7XG5cdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8IFwiXCI7XG5cdFx0bGV0IGVsZW1lbnRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZV0sIFtkYXRhLXBhc3NfdG9dJylcblx0XHRcblx0XHRcdFx0XHRcblx0XHRlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG5cdFx0XHRpZiAoZWwucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3RlbXBsYXRlJykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpID09IG51bGwgJiYgZGF0YVJlYWxUaW1lKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBpZiAoIVsnSU5QVVQnLCAnVEVYVEFSRUEnXS5pbmRleE9mKGVsLnRhZ05hbWUpKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScsIGRhdGFSZWFsVGltZSk7XG5cdFx0XHRcdC8vIH1cblx0XHRcdH1cblx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSAmJiAhZWwuaGFzQXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSAmJiBjb2xsZWN0aW9uKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJywgY29sbGVjdGlvbik7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpICYmICFlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGFzc19jb2xsZWN0aW9uJykgJiYgIGNvbGxlY3Rpb24pIHtcblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfY29sbGVjdGlvbicsIGNvbGxlY3Rpb24pO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCduYW1lJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpICYmIGRvY3VtZW50X2lkKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkKVxuXHRcdFx0fVxuXHRcdFx0aWYgKCFlbC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWRvY3VtZW50X2lkXCIpICYmIGRvY3VtZW50X2lkICE9IG51bGwpIHtcblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQpXG5cdFx0XHR9XG5cblx0XHR9KVxuXHR9LFxuXG5cdGNoZWNrRm9ybVZhbGlkYXRlOiBmdW5jdGlvbihmb3JtKSB7XG5cdFx0XG5cdFx0aWYgKHR5cGVvZiBDb0NyZWF0ZS51bmlxdWUgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm4gQ29DcmVhdGUudW5pcXVlLmNoZWNrVmFsaWRhdGUoZm9ybSlcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdFxuXHRpc1RlbXBsYXRlSW5wdXQ6IGZ1bmN0aW9uIChpbnB1dCkge1xuXHRcdGlmIChpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ3RlbXBsYXRlJykpIHJldHVybiB0cnVlO1xuXHRcdFxuXHRcdGxldCBub2RlID0gaW5wdXQucGFyZW50Tm9kZTtcblx0XHR3aGlsZSAobm9kZSkge1xuXHRcdFx0aWYgKG5vZGUuY2xhc3NMaXN0ICYmIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZScpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0bm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXHRcblx0Z2V0Rm9ybURhdGE6IGZ1bmN0aW9uKGZvcm0sIGRvY3VtZW50X2lkLCBjb2xsZWN0aW9uKSB7XG5cdFx0bGV0IGRhdGEgPSB7fTtcblx0XHRpZiAoIWNvbGxlY3Rpb24pIHJldHVybiB7fVxuXHRcdFxuXHRcdGNvbnN0IGVsZW1lbnRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGBbbmFtZV1bZGF0YS1jb2xsZWN0aW9uPScke2NvbGxlY3Rpb259J11gKVxuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRsZXQgZWxfZG9jdW1lbnRfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCBcIlwiXG5cdFx0XHRsZXQgbmFtZSA9IGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpXG5cdFx0XHRsZXQgdmFsdWUgPSBlbC52YWx1ZSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcblx0XHRcdGlmIChuYW1lID09PSBcIl9pZFwiKSByZXR1cm47XG5cdFx0XHRpZiAoIW5hbWUgfHwgIXZhbHVlKSByZXR1cm47XG5cdFx0XHRpZiAoZG9jdW1lbnRfaWQgPT0gZWxfZG9jdW1lbnRfaWQpIHtcblx0XHRcdFx0ZGF0YVtuYW1lXSA9IGVsLnZhbHVlXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRyZXR1cm4gZGF0YTtcblx0fSxcblx0Ly8gZ2V0Rm9ybURhdGE6IGZ1bmN0aW9uKGZvcm0sIHNlbGVjdG9ycykge1xuXHQvLyBcdGNvbnN0IHNlbGYgPSB0aGlzOyBcblx0Ly8gXHRjb25zdCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMuam9pbignLCcpKTtcblx0XHRcblx0Ly8gXHRsZXQgcmVxdWVzdF9kb2N1bWVudF9pZCA9IGZhbHNlO1xuXHQvLyBcdGxldCBkYXRhTGlzdCA9IFtdO1xuXHRcdFxuXHRcdFxuXHQvLyBcdGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuXHQvLyBcdFx0bGV0IGNvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdC8vIFx0XHRsZXQgZG9jdW1lbnRfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHQvLyBcdFx0bGV0IG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0XG5cdC8vIFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNhdmVfdmFsdWUnKSA9PSAnZmFsc2UnKSB7XG5cdC8vIFx0XHRcdHJldHVybjtcblx0Ly8gXHRcdH1cblx0XHRcdFxuXHQvLyBcdFx0aWYgKCFkb2N1bWVudF9pZCAmJiBuYW1lKSB7XG5cdC8vIFx0XHRcdHJlcXVlc3RfZG9jdW1lbnRfaWQgPSB0cnVlO1xuXHQvLyBcdFx0XHRyZXR1cm47XG5cdC8vIFx0XHR9XG5cdFx0XHRcblx0Ly8gXHRcdGxldCBkYXRhID0gZGF0YUxpc3QuZmluZChkID0+IGQuY29sbGVjdGlvbiA9PSBjb2xsZWN0aW9uICYmIGQuZG9jdW1lbnRfaWQgPT0gZG9jdW1lbnRfaWQpO1xuXHRcdFx0XHRcblx0Ly8gXHR9KVxuXHQvLyB9LFxuXHRcblx0Z2V0UGFyZW50czogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IgPSBcImZvcm1cIikge1xuXHRcdGlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuXHRcdFx0RWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XHRFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XHRFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8XHRFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRcdFxuXHRcdFx0ZnVuY3Rpb24ocykge1xuXHRcdFx0XHR2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSwgaSA9IG1hdGNoZXMubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoLS1pID49IDAgJiYgbWF0Y2hlcy5pdGVtKGkpICE9PSB0aGlzKSB7fVxuXHRcdFx0XHRyZXR1cm4gaSA+IC0xO1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0XG5cdFx0Zm9yICggOyBlbGVtZW50ICYmIGVsZW1lbnQgIT09IGRvY3VtZW50OyBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBlbGVtZW50Lm1hdGNoZXMoIHNlbGVjdG9yICkgKSByZXR1cm4gZWxlbWVudDtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0sXG5cdFxuXHRzZXREb2N1bWVudElET2ZFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBkb2N1bWVudF9pZCkge1xuXHRcdGxldCBvbGRfZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuXHRcdGlmICghb2xkX2RvY3VtZW50X2lkIHx8IG9sZF9kb2N1bWVudF9pZCA9PSBcIlwiIHx8IG9sZF9kb2N1bWVudF9pZCA9PSBcInBlbmRpbmdcIikge1xuXHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZCk7XG5cdFx0fVxuXHR9LFxuXHRcblx0Z2V0Q09sbGVjdGlvbnM6IGZ1bmN0aW9uKGZvcm0pIHtcblx0XHRsZXQgY29sbGVjdGlvbnMgPSBbXTtcblx0XHRpZiAoIWZvcm0pIHJldHVybiBjb2xsZWN0aW9ucztcblxuXHRcdGxldCBlbHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lXVtkYXRhLWNvbGxlY3Rpb25dJyk7XG5cdFx0ZWxzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRsZXQgdG1wQ29sbGVjdGlvbiA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRcdGlmICh0bXBDb2xsZWN0aW9uICYmICFjb2xsZWN0aW9ucy5pbmNsdWRlcyh0bXBDb2xsZWN0aW9uKSkge1xuXHRcdFx0XHRjb2xsZWN0aW9ucy5wdXNoKHRtcENvbGxlY3Rpb24pXG5cdFx0XHR9IFxuXHRcdH0pXG5cdFx0cmV0dXJuIGNvbGxlY3Rpb25zO1xuXHR9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBVdGlsczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-form/src/utils.js\n")},"../CoCreate-input/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _form = _interopRequireDefault(__webpack_require__(/*! @cocreate/form */ \"../CoCreate-form/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../CoCreate-utils/src/index.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../CoCreate-crud/src/index.js\"));\n\nvar _crdt = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt */ \"../CoCreate-crdt/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import CoCreateText from '@cocreate/text'\n// import CoCreateCursors from '@cocreate/cursors'\nconst CoCreateInput = {\n  selector: \"input, textarea, select\",\n  init: function () {\n    let inputs = document.querySelectorAll(this.selector);\n    const self = this;\n    inputs.forEach(input => {\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (_utils.default.isJsonString(collection)) {\n        return;\n      }\n\n      if (_utils.default.isUsageY(input)) {\n        return;\n      }\n\n      if (_observer.default.getInitialized(input)) {\n        return;\n      }\n\n      _observer.default.setInitialized(input, \"input\");\n\n      if (id && collection) {\n        _crud.default.readDocument({\n          collection: collection,\n          document_id: id\n        });\n      }\n\n      self.__initEvents(input);\n    });\n  },\n  initElement: function (container) {\n    let mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    const _this = this;\n\n    let inputs = mainContainer.querySelectorAll(this.selector);\n    inputs.forEach(input => {\n      if (_observer.default.getInitialized(input, \"input\")) {\n        return;\n      }\n\n      _observer.default.setInitialized(input, \"input\");\n\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (_utils.default.isJsonString(collection)) {\n        return;\n      }\n\n      if (_utils.default.isUsageY(input)) {\n        return;\n      }\n\n      if (id && collection) {\n        _crud.default.readDocument({\n          collection: collection,\n          document_id: id\n        });\n      }\n\n      _this.__initEvents(input);\n    });\n  },\n  save: function (input) {\n    const value = this.getValue(input);\n    const collection = input.getAttribute('data-collection') || 'module_activity';\n    const document_id = input.getAttribute('data-document_id');\n    const name = input.getAttribute('name');\n\n    _crud.default.updateDocument({\n      collection,\n      document_id,\n      data: {\n        [name]: value\n      } // broadcast_sender: false\n\n    });\n  },\n  render: function (data, allTags) {\n    let inputs = document.querySelectorAll(this.selector);\n\n    let _this = this;\n\n    inputs.forEach(input => {\n      if (!allTags) {\n        if (_utils.default.isUsageY(input)) return;\n      }\n\n      if (_utils.default.isUsageY(input)) return;\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n      const name = input.getAttribute('name');\n      const data_fetch_value = input.getAttribute('data-fetch_value');\n      if (data_fetch_value === \"false\" || !_utils.default.isReadValue(input)) return;\n\n      if (data['collection'] == collection && data['document_id'] == id && name in data.data) {\n        _this.setValue(input, data['data'][name]); // fetch value event\n\n\n        input.dispatchEvent(new Event(\"updated_by_fetch\"));\n        input.dispatchEvent(new CustomEvent('CoCreateInput-run', {\n          eventType: 'rendered',\n          item: input\n        }));\n      }\n    });\n  },\n  getValue: function (input) {\n    let value = input.value;\n    let prefix = input.getAttribute('data-prefix_value') || \"\";\n    let suffix = input.getAttribute('data-suffix_value') || \"\";\n\n    if (input.type === \"checkbox\") {\n      value = input.checked;\n    } else if (input.type === \"number\") {\n      value = Number(value);\n    } else if (input.type === \"password\") {\n      value = this.__encryptPassword(value);\n    }\n\n    if (typeof value == \"string\") {\n      value = prefix + value + suffix;\n    }\n\n    return value;\n  },\n  setValue: function (input, value) {\n    if (input.type == 'checkbox') {\n      input.checked = value;\n    } else if (input.type === 'radio') {\n      input.value == value ? input.checked = true : input.checked = false;\n    }\n\n    if (input.type === 'password') {\n      value = this.__decryptPassword(value);\n    }\n\n    input.value = value;\n\n    if (CoCreate.floatingLabel) {\n      CoCreate.floatingLabel.update(input, value);\n    }\n\n    input.dispatchEvent(new CustomEvent('CoCreateInput-setvalue', {\n      eventType: 'rendered'\n    }));\n  },\n  __initEvents: function (input) {\n    const self = this;\n    input.addEventListener('set-document_id', function () {\n      if (CoCreate.crdt) {\n        _crdt.default.init({\n          collection: input.getAttribute('data-collection'),\n          document_id: input.getAttribute('data-document_id'),\n          name: input.getAttribute('name'),\n          element: input\n        });\n      }\n\n      self.save(this);\n    });\n    input.addEventListener('input', function (e) {\n      if (_utils.default.isRealTime(this)) {\n        self.save(this);\n      }\n    });\n    input.addEventListener('change', function (e) {\n      if (this.tagName == 'SELECT' && _utils.default.isRealTime(this)) {\n        self.save(this);\n      }\n    });\n\n    _crud.default.listen('updateDocument', function (data) {\n      self.render(data);\n    });\n\n    _crud.default.listen('connect', function (data) {\n      self.__getReqeust();\n    });\n\n    _crud.default.listen('readDocument', function (data) {\n      self.render(data);\n    });\n\n    const collection = input.getAttribute('data-collection');\n    const document_id = input.getAttribute('data-document_id');\n\n    if (_utils.default.checkValue(collection) && _utils.default.checkValue(document_id) && CoCreate.crdt) {\n      _crdt.default.init({\n        collection: collection,\n        document_id: document_id,\n        name: input.getAttribute('name'),\n        element: input\n      });\n    }\n  },\n  __getReqeust: function (container) {\n    let fetch_container = container || document;\n    let inputs = fetch_container.querySelectorAll(this.selector);\n    let requestData = [];\n    inputs.forEach(input => {\n      if (_utils.default.isUsageY(input)) return;\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (id && !requestData.some(d => d['collection'] === collection && d['document_id'] === id)) {\n        requestData.push({\n          'collection': collection,\n          'document_id': id\n        });\n      }\n    });\n    return requestData;\n  },\n  __encryptPassword: function (str) {\n    var encodedString = btoa(str);\n    return encodedString;\n  },\n  __decryptPassword: function (str) {\n    if (!str) {\n      return \"\";\n    }\n\n    var decode_str = atob(str);\n    return decode_str;\n  }\n};\nCoCreateInput.init();\n\n_observer.default.init({\n  name: 'CoCreateInput',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name]',\n  callback: function (mutation) {\n    CoCreateInput.initElement(mutation.target);\n  }\n});\n\n_form.default.init({\n  name: 'CoCreateInput',\n  selector: \"input, textarea, select\",\n  callback: function (el) {\n    CoCreate.input.save(el);\n  }\n});\n\nvar _default = CoCreateInput;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLWlucHV0L3NyYy9pbmRleC5qcz82NzA2Il0sIm5hbWVzIjpbIkNvQ3JlYXRlSW5wdXQiLCJzZWxlY3RvciIsImluaXQiLCJpbnB1dHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWxmIiwiZm9yRWFjaCIsImlucHV0IiwiY29sbGVjdGlvbiIsImdldEF0dHJpYnV0ZSIsImlkIiwidXRpbHMiLCJpc0pzb25TdHJpbmciLCJpc1VzYWdlWSIsIm9ic2VydmVyIiwiZ2V0SW5pdGlhbGl6ZWQiLCJzZXRJbml0aWFsaXplZCIsImNydWQiLCJyZWFkRG9jdW1lbnQiLCJkb2N1bWVudF9pZCIsIl9faW5pdEV2ZW50cyIsImluaXRFbGVtZW50IiwiY29udGFpbmVyIiwibWFpbkNvbnRhaW5lciIsIl90aGlzIiwic2F2ZSIsInZhbHVlIiwiZ2V0VmFsdWUiLCJuYW1lIiwidXBkYXRlRG9jdW1lbnQiLCJkYXRhIiwicmVuZGVyIiwiYWxsVGFncyIsImRhdGFfZmV0Y2hfdmFsdWUiLCJpc1JlYWRWYWx1ZSIsInNldFZhbHVlIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJldmVudFR5cGUiLCJpdGVtIiwicHJlZml4Iiwic3VmZml4IiwidHlwZSIsImNoZWNrZWQiLCJOdW1iZXIiLCJfX2VuY3J5cHRQYXNzd29yZCIsIl9fZGVjcnlwdFBhc3N3b3JkIiwiQ29DcmVhdGUiLCJmbG9hdGluZ0xhYmVsIiwidXBkYXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNyZHQiLCJlbGVtZW50IiwiZSIsImlzUmVhbFRpbWUiLCJ0YWdOYW1lIiwibGlzdGVuIiwiX19nZXRSZXFldXN0IiwiY2hlY2tWYWx1ZSIsImZldGNoX2NvbnRhaW5lciIsInJlcXVlc3REYXRhIiwic29tZSIsImQiLCJwdXNoIiwic3RyIiwiZW5jb2RlZFN0cmluZyIsImJ0b2EiLCJkZWNvZGVfc3RyIiwiYXRvYiIsIm9ic2VydmUiLCJpbmNsdWRlIiwiY2FsbGJhY2siLCJtdXRhdGlvbiIsInRhcmdldCIsImZvcm0iLCJlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBQ0E7QUFDQTtBQUVBLE1BQU1BLGFBQWEsR0FBRztBQUVyQkMsVUFBUSxFQUFFLHlCQUZXO0FBSXJCQyxNQUFJLEVBQUUsWUFBVztBQUVoQixRQUFJQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsS0FBS0osUUFBL0IsQ0FBYjtBQUNBLFVBQU1LLElBQUksR0FBRyxJQUFiO0FBRUFILFVBQU0sQ0FBQ0ksT0FBUCxDQUFnQkMsS0FBRCxJQUFXO0FBRXpCLFlBQU1DLFVBQVUsR0FBR0QsS0FBSyxDQUFDRSxZQUFOLENBQW1CLGlCQUFuQixDQUFuQjtBQUNBLFlBQU1DLEVBQUUsR0FBR0gsS0FBSyxDQUFDRSxZQUFOLENBQW1CLGtCQUFuQixDQUFYOztBQUNBLFVBQUlFLGVBQU1DLFlBQU4sQ0FBbUJKLFVBQW5CLENBQUosRUFBb0M7QUFDbkM7QUFDQTs7QUFFRCxVQUFJRyxlQUFNRSxRQUFOLENBQWVOLEtBQWYsQ0FBSixFQUEyQjtBQUMxQjtBQUNBOztBQUNELFVBQUlPLGtCQUFTQyxjQUFULENBQXdCUixLQUF4QixDQUFKLEVBQW9DO0FBQ25DO0FBQ0E7O0FBQ0RPLHdCQUFTRSxjQUFULENBQXdCVCxLQUF4QixFQUErQixPQUEvQjs7QUFFQSxVQUFJRyxFQUFFLElBQUlGLFVBQVYsRUFBc0I7QUFDckJTLHNCQUFLQyxZQUFMLENBQWtCO0FBQ2pCVixvQkFBVSxFQUFFQSxVQURLO0FBRWpCVyxxQkFBVyxFQUFFVDtBQUZJLFNBQWxCO0FBSUE7O0FBRURMLFVBQUksQ0FBQ2UsWUFBTCxDQUFrQmIsS0FBbEI7QUFFQSxLQXpCRDtBQTBCQSxHQW5Db0I7QUFxQ3JCYyxhQUFXLEVBQUUsVUFBU0MsU0FBVCxFQUFvQjtBQUVoQyxRQUFJQyxhQUFhLEdBQUdELFNBQVMs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K0Y7QUFDOUZtRCxtQkFBVyxDQUFDRyxJQUFaLENBQWlCO0FBQ2hCLHdCQUFjeEQsVUFERTtBQUVoQix5QkFBZUU7QUFGQyxTQUFqQjtBQUlBO0FBQ0QsS0FaRDtBQWFBLFdBQU9tRCxXQUFQO0FBQ0EsR0FyUG9CO0FBdVByQmYsbUJBQWlCLEVBQUUsVUFBU21CLEdBQVQsRUFBYztBQUNoQyxRQUFJQyxhQUFhLEdBQUdDLElBQUksQ0FBQ0YsR0FBRCxDQUF4QjtBQUNBLFdBQU9DLGFBQVA7QUFDQSxHQTFQb0I7QUE0UHJCbkIsbUJBQWlCLEVBQUUsVUFBVWtCLEdBQVYsRUFBZTtBQUNqQyxRQUFJLENBQUNBLEdBQUwsRUFBVTtBQUNULGFBQU8sRUFBUDtBQUNBOztBQUVELFFBQUlHLFVBQVUsR0FBR0MsSUFBSSxDQUFDSixHQUFELENBQXJCO0FBQ0EsV0FBT0csVUFBUDtBQUNBO0FBblFvQixDQUF0QjtBQXVRQXJFLGFBQWEsQ0FBQ0UsSUFBZDs7QUFFQWEsa0JBQVNiLElBQVQsQ0FBYztBQUNiMkIsTUFBSSxFQUFFLGVBRE87QUFFYjBDLFNBQU8sRUFBRSxDQUFDLFNBQUQsRUFBWSxXQUFaLENBRkk7QUFHYkMsU0FBTyxFQUFFLDJDQUhJO0FBSWJDLFVBQVEsRUFBRSxVQUFTQyxRQUFULEVBQW1CO0FBQzVCMUUsaUJBQWEsQ0FBQ3NCLFdBQWQsQ0FBMEJvRCxRQUFRLENBQUNDLE1BQW5DO0FBQ0E7QUFOWSxDQUFkOztBQVNBQyxjQUFLMUUsSUFBTCxDQUFVO0FBQ1QyQixNQUFJLEVBQUUsZUFERztBQUVUNUIsVUFBUSxFQUFFLHlCQUZEO0FBR1R3RSxVQUFRLEVBQUUsVUFBU0ksRUFBVCxFQUFhO0FBQ3RCNUIsWUFBUSxDQUFDekMsS0FBVCxDQUFla0IsSUFBZixDQUFvQm1ELEVBQXBCO0FBQ0E7QUFMUSxDQUFWOztlQVFlN0UsYSIsImZpbGUiOiIuLi9Db0NyZWF0ZS1pbnB1dC9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IGZvcm0gZnJvbSAnQGNvY3JlYXRlL2Zvcm0nXG5pbXBvcnQgdXRpbHMgZnJvbSAnQGNvY3JlYXRlL3V0aWxzJztcbmltcG9ydCBjcnVkIGZyb20gJ0Bjb2NyZWF0ZS9jcnVkJztcbmltcG9ydCBjcmR0IGZyb20gJ0Bjb2NyZWF0ZS9jcmR0J1xuLy8gaW1wb3J0IENvQ3JlYXRlVGV4dCBmcm9tICdAY29jcmVhdGUvdGV4dCdcbi8vIGltcG9ydCBDb0NyZWF0ZUN1cnNvcnMgZnJvbSAnQGNvY3JlYXRlL2N1cnNvcnMnXG5cbmNvbnN0IENvQ3JlYXRlSW5wdXQgPSB7XG5cdFxuXHRzZWxlY3RvcjogXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiLFxuXHRcblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHRsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRcblx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRcdFxuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRcdGNvbnN0IGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdGlmICh1dGlscy5pc0pzb25TdHJpbmcoY29sbGVjdGlvbikpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cdFxuXHRcdFx0aWYgKG9ic2VydmVyLmdldEluaXRpYWxpemVkKGlucHV0KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRvYnNlcnZlci5zZXRJbml0aWFsaXplZChpbnB1dCwgXCJpbnB1dFwiKTtcblxuXHRcdFx0aWYgKGlkICYmIGNvbGxlY3Rpb24pIHtcblx0XHRcdFx0Y3J1ZC5yZWFkRG9jdW1lbnQoe1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGlkXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHNlbGYuX19pbml0RXZlbnRzKGlucHV0KTtcblxuXHRcdH0pXG5cdH0sXG5cdFxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0XG5cdFx0bGV0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0aWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3QgX3RoaXMgPSB0aGlzO1xuXHRcdGxldCBpbnB1dHMgPSBtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3Rvcik7XG5cdFx0XG5cdFx0aW5wdXRzLmZvckVhY2goKGlucHV0KT0+IHtcblx0XHRcdGlmIChvYnNlcnZlci5nZXRJbml0aWFsaXplZChpbnB1dCwgXCJpbnB1dFwiKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRvYnNlcnZlci5zZXRJbml0aWFsaXplZChpbnB1dCwgXCJpbnB1dFwiKVxuXHRcdFx0XG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Y29uc3QgaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdFx0aWYgKHV0aWxzLmlzSnNvblN0cmluZyhjb2xsZWN0aW9uKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICh1dGlscy5pc1VzYWdlWShpbnB1dCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaWQgJiYgY29sbGVjdGlvbikge1xuXHRcdFx0XHRjcnVkLnJlYWREb2N1bWVudCh7XG5cdFx0XHRcdFx0Y29sbGVjdGlvbjogY29sbGVjdGlvbixcblx0XHRcdFx0XHRkb2N1bWVudF9pZDogaWRcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHRcdF90aGlzLl9faW5pdEV2ZW50cyhpbnB1dCk7XG5cdFx0XHRcblxuXHRcdH0pXG5cdH0sXG5cdFxuXHRzYXZlOiBmdW5jdGlvbiAoaW5wdXQpIHtcblx0XHRcblx0XHRjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoaW5wdXQpO1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpIHx8ICdtb2R1bGVfYWN0aXZpdHknXG5cdFx0XG5cdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdGNvbnN0IG5hbWUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdGNydWQudXBkYXRlRG9jdW1lbnQoe1xuXHRcdFx0Y29sbGVjdGlvbixcblx0XHRcdGRvY3VtZW50X2lkLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRbbmFtZV06IHZhbHVlXG5cdFx0XHR9LFxuXHRcdFx0Ly8gYnJvYWRjYXN0X3NlbmRlcjogZmFsc2Vcblx0XHR9KVxuXHR9LFxuXHRcblxuXHRcblx0cmVuZGVyOiBmdW5jdGlvbiAoZGF0YSwgYWxsVGFncykge1xuXHRcdGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpXG5cdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRcblx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRcdGlmICghYWxsVGFncykge1xuXHRcdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSByZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSByZXR1cm47XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRjb25zdCBpZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0XHRjb25zdCBuYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJylcblx0XHRcdGNvbnN0IGRhdGFfZmV0Y2hfdmFsdWUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmV0Y2hfdmFsdWUnKTtcblx0XHRcdFxuXHRcdFx0aWYgKGRhdGFfZmV0Y2hfdmFsdWUgPT09IFwiZmFsc2VcIiB8fCAhdXRpbHMuaXNSZWFkVmFsdWUoaW5wdXQpKSByZXR1cm47XG5cdFx0XHRcblx0XHRcdGlmIChkYXRhWydjb2xsZWN0aW9uJ10gPT0gY29sbGVjdGlvbiAmJiBkYXRhWydkb2N1bWVudF9pZCddID09IGlkICYmIChuYW1lIGluIGRhdGEuZGF0YSkpIHtcblx0XHRcdFx0X3RoaXMuc2V0VmFsdWUoaW5wdXQsIGRhdGFbJ2RhdGEnXVtuYW1lXSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBmZXRjaCB2YWx1ZSBldmVudFxuXHRcdFx0XHRpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInVwZGF0ZWRfYnlfZmV0Y2hcIikpOyBcblx0XHRcdFx0XG5cdFx0XHRcdGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZUlucHV0LXJ1bicsIHtcblx0XHRcdFx0XHRldmVudFR5cGU6ICdyZW5kZXJlZCcsXG5cdFx0XHRcdFx0aXRlbTogaW5wdXQsXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0pKVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdH0sXG5cdFxuXHRnZXRWYWx1ZTogZnVuY3Rpb24oaW5wdXQpIHtcblx0XHRsZXQgdmFsdWUgPSBpbnB1dC52YWx1ZTtcblxuXHRcdGxldCBwcmVmaXggPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJlZml4X3ZhbHVlJykgfHwgXCJcIjtcblx0XHRsZXQgc3VmZml4ID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXN1ZmZpeF92YWx1ZScpIHx8IFwiXCI7XG5cdFx0XG5cdFx0aWYgKGlucHV0LnR5cGUgPT09IFwiY2hlY2tib3hcIikge1xuXHRcdFx0dmFsdWUgPSBpbnB1dC5jaGVja2VkXG5cdFx0fSBcblx0XHRlbHNlIGlmIChpbnB1dC50eXBlID09PSBcIm51bWJlclwiKSB7XG5cdFx0XHR2YWx1ZSA9IE51bWJlcih2YWx1ZSlcblx0XHR9XG5cdFx0ZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gXCJwYXNzd29yZFwiKSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMuX19lbmNyeXB0UGFzc3dvcmQodmFsdWUpXG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dmFsdWUgPSBwcmVmaXggKyB2YWx1ZSArIHN1ZmZpeDtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRcblx0c2V0VmFsdWU6IGZ1bmN0aW9uKGlucHV0LCB2YWx1ZSkge1xuXHRcdGlmIChpbnB1dC50eXBlID09ICdjaGVja2JveCcpIHtcblx0XHRcdGlucHV0LmNoZWNrZWQgPSB2YWx1ZTtcblx0XHR9IFxuXHRcdGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdyYWRpbycpIHtcblx0XHRcdGlucHV0LnZhbHVlID09IHZhbHVlID8gaW5wdXQuY2hlY2tlZCA9IHRydWUgOiBpbnB1dC5jaGVja2VkID0gZmFsc2Vcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGlucHV0LnR5cGUgPT09ICdwYXNzd29yZCcpIHtcblx0XHRcdHZhbHVlID0gdGhpcy5fX2RlY3J5cHRQYXNzd29yZCh2YWx1ZSk7XG5cdFx0fVxuXHRcdFxuXHRcdGlucHV0LnZhbHVlID0gdmFsdWU7XG5cblx0XHRpZiAoQ29DcmVhdGUuZmxvYXRpbmdMYWJlbCkge1xuXHRcdFx0Q29DcmVhdGUuZmxvYXRpbmdMYWJlbC51cGRhdGUoaW5wdXQsIHZhbHVlKVxuXHRcdH1cblx0XHRcblx0XHRpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGVJbnB1dC1zZXR2YWx1ZScsIHsgZXZlbnRUeXBlOiAncmVuZGVyZWQnfSkpXG5cdH0sXG5cdFxuXHRfX2luaXRFdmVudHM6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0XG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignc2V0LWRvY3VtZW50X2lkJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcblx0XHRcdGlmIChDb0NyZWF0ZS5jcmR0KSB7XG5cdFx0XHRcdGNyZHQuaW5pdCh7XG5cdFx0XHRcdFx0Y29sbGVjdGlvbjogaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSxcblx0XHRcdFx0XHRkb2N1bWVudF9pZDogaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyksXG5cdFx0XHRcdFx0bmFtZTogaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJyksXG5cdFx0XHRcdFx0ZWxlbWVudDogaW5wdXRcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHRcdHNlbGYuc2F2ZSh0aGlzKVxuXHRcdH0pXG5cdFx0XG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRpZiAodXRpbHMuaXNSZWFsVGltZSh0aGlzKSkge1xuXHRcdFx0XHRzZWxmLnNhdmUodGhpcylcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGlmICh0aGlzLnRhZ05hbWUgPT0gJ1NFTEVDVCcgJiYgdXRpbHMuaXNSZWFsVGltZSh0aGlzKSkge1xuXHRcdFx0XHRzZWxmLnNhdmUodGhpcylcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGNydWQubGlzdGVuKCd1cGRhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHQgICAgc2VsZi5yZW5kZXIoZGF0YSk7XG5cdFx0fSlcblx0XHRcblx0XHRjcnVkLmxpc3RlbignY29ubmVjdCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHNlbGYuX19nZXRSZXFldXN0KClcblx0XHR9KVxuXHRcdFxuXHRcdGNydWQubGlzdGVuKCdyZWFkRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdCAgICBcdHNlbGYucmVuZGVyKGRhdGEpO1xuXHRcdH0pXG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRjb25zdCBkb2N1bWVudF9pZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0XG5cdFx0aWYgKHV0aWxzLmNoZWNrVmFsdWUoY29sbGVjdGlvbikgJiYgdXRpbHMuY2hlY2tWYWx1ZShkb2N1bWVudF9pZCkgJiYgQ29DcmVhdGUuY3JkdCkge1xuXHRcdFx0Y3JkdC5pbml0KHtcblx0XHRcdFx0Y29sbGVjdGlvbjogY29sbGVjdGlvbixcblx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGRvY3VtZW50X2lkLFxuXHRcdFx0XHRuYW1lOiBpbnB1dC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSxcblx0XHRcdFx0ZWxlbWVudDogaW5wdXRcblx0XHRcdH0pXG5cdFx0XHRcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2dldFJlcWV1c3Q6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdFxuXHRcdGxldCBmZXRjaF9jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0bGV0IGlucHV0cyA9IGZldGNoX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpXG5cdFx0bGV0IHJlcXVlc3REYXRhID0gW107XG5cblx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRcdGlmICh1dGlscy5pc1VzYWdlWShpbnB1dCkpIHJldHVybjtcblx0XHRcdFxuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRcdGNvbnN0IGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdFxuXHRcdFx0aWYgKGlkICYmICFyZXF1ZXN0RGF0YS5zb21lKChkKSA9PiBkWydjb2xsZWN0aW9uJ10gPT09IGNvbGxlY3Rpb24gJiYgZFsnZG9jdW1lbnRfaWQnXSA9PT0gaWQpKSB7XG5cdFx0XHRcdHJlcXVlc3REYXRhLnB1c2goeyBcblx0XHRcdFx0XHQnY29sbGVjdGlvbic6IGNvbGxlY3Rpb24sIFxuXHRcdFx0XHRcdCdkb2N1bWVudF9pZCc6IGlkIFxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0cmV0dXJuIHJlcXVlc3REYXRhO1xuXHR9LFxuXHRcblx0X19lbmNyeXB0UGFzc3dvcmQ6IGZ1bmN0aW9uKHN0cikge1xuXHRcdHZhciBlbmNvZGVkU3RyaW5nID0gYnRvYShzdHIpO1xuXHRcdHJldHVybiBlbmNvZGVkU3RyaW5nO1xuXHR9LFxuXHRcblx0X19kZWNyeXB0UGFzc3dvcmQ6IGZ1bmN0aW9uIChzdHIpIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXHRcdFxuXHRcdHZhciBkZWNvZGVfc3RyID0gYXRvYihzdHIpO1xuXHRcdHJldHVybiBkZWNvZGVfc3RyO1xuXHR9XG5cdFxufVxuXG5Db0NyZWF0ZUlucHV0LmluaXQoKTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVJbnB1dCcsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdbZGF0YS1jb2xsZWN0aW9uXVtkYXRhLWRvY3VtZW50X2lkXVtuYW1lXScsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRDb0NyZWF0ZUlucHV0LmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSlcblxuZm9ybS5pbml0KHtcblx0bmFtZTogJ0NvQ3JlYXRlSW5wdXQnLFxuXHRzZWxlY3RvcjogXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiLFxuXHRjYWxsYmFjazogZnVuY3Rpb24oZWwpIHtcblx0XHRDb0NyZWF0ZS5pbnB1dC5zYXZlKGVsKTtcblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlSW5wdXQ7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../CoCreate-input/src/index.js\n")},"../CoCreate-message/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(__webpack_require__(/*! @cocreate/socket */ \"../CoCreate-socket/src/index.js\"));\n\nvar _commonFun = __webpack_require__(/*! @cocreate/crud/src/common-fun.js */ \"../CoCreate-crud/src/common-fun.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet message_socket = new _socket.default('ws');\nconst CoCreateMessage = {\n  socket: null,\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n\n  /*\n  CoCreate.message.send({\n     namespace: '',\n     room: '',\n     broadcast: true/false,\n     broadcast_sender: true/false\n     \n     rooms: [r1, r2],\n     emit: {\n       message': 'nice game',\n       data': 'let's play a game ....'\n     }\n   })\n  */\n  send: function (data) {\n    let request_data = (0, _commonFun.getCommonParams)();\n\n    if (!data || !data.emit) {\n      return;\n    }\n\n    request_data = { ...request_data,\n      ...data\n    };\n    /** socket parameters **/\n    // if (data['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (data['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(data.namespace, data.room);\n    this.socket.send('sendMessage', request_data, room);\n  },\n  receive: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  createSocket: function (host, namespace) {\n    if (!this.socket) return;\n\n    if (namespace) {\n      this.socket.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      this.socket.setGlobalScope(namespace);\n    } else {\n      this.socket.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  },\n  listen: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  listenAsync: function (eventname) {\n    this.socket.listenAsync(eventname);\n  }\n};\nCoCreateMessage.setSocket(message_socket);\nCoCreateMessage.createSocket(window.config.host ? window.config.host : 'server.cocreate.app', window.config.organization_Id);\nvar _default = CoCreateMessage;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLW1lc3NhZ2Uvc3JjL2luZGV4LmpzP2RlZWYiXSwibmFtZXMiOlsibWVzc2FnZV9zb2NrZXQiLCJDb0NyZWF0ZVNvY2tldCIsIkNvQ3JlYXRlTWVzc2FnZSIsInNvY2tldCIsInNldFNvY2tldCIsInNlbmQiLCJkYXRhIiwicmVxdWVzdF9kYXRhIiwiZW1pdCIsInJvb20iLCJuYW1lc3BhY2UiLCJyZWNlaXZlIiwibWVzc2FnZSIsImZ1biIsImxpc3RlbiIsImNyZWF0ZVNvY2tldCIsImhvc3QiLCJjcmVhdGUiLCJzZXRHbG9iYWxTY29wZSIsImxpc3RlbkFzeW5jIiwiZXZlbnRuYW1lIiwid2luZG93IiwiY29uZmlnIiwib3JnYW5pemF0aW9uX0lkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxjQUFjLEdBQUcsSUFBSUMsZUFBSixDQUFtQixJQUFuQixDQUFyQjtBQUVBLE1BQU1DLGVBQWUsR0FBRztBQUN0QkMsUUFBTSxFQUFFLElBRGM7QUFFdEJDLFdBQVMsRUFBRSxVQUFTRCxNQUFULEVBQWlCO0FBQzFCLFNBQUtBLE1BQUwsR0FBY0EsTUFBZDtBQUNELEdBSnFCOztBQUt2QjtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0VFLE1BQUksRUFBRSxVQUFTQyxJQUFULEVBQWU7QUFDbkIsUUFBSUMsWUFBWSxHQUFHLGlDQUFuQjs7QUFFQSxRQUFJLENBQUNELElBQUQsSUFBUyxDQUFDQSxJQUFJLENBQUNFLElBQW5CLEVBQXlCO0FBQ3ZCO0FBQ0Q7O0FBQ0RELGdCQUFZLEdBQUcsRUFBQyxHQUFHQSxZQUFKO0FBQWtCLFNBQUdEO0FBQXJCLEtBQWY7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxVQUFNRyxJQUFJLEdBQUcscUNBQXFCSCxJQUFJLENBQUNJLFNBQTFCLEVBQXFDSixJQUFJLENBQUNHLElBQTFDLENBQWI7QUFFQSxTQUFLTixNQUFMLENBQVlFLElBQVosQ0FBaUIsYUFBakIsRUFBZ0NFLFlBQWhDLEVBQThDRSxJQUE5QztBQUNELEdBckNxQjtBQXVDdEJFLFNBQU8sRUFBRSxVQUFTQyxPQUFULEVBQWtCQyxHQUFsQixFQUF1QjtBQUM5QixTQUFLVixNQUFMLENBQVlXLE1BQVosQ0FBbUJGLE9BQW5CLEVBQTRCQyxHQUE1QjtBQUNELEdBekNxQjtBQTJDdEJFLGNBQVksRUFBRSxVQUFTQyxJQUFULEVBQWVOLFNBQWYsRUFBMEI7QUFDdEMsUUFBSSxDQUFDLEtBQUtQLE1BQVYsRUFBa0I7O0FBRXBCLFFBQUlPLFNBQUosRUFBZTtBQUNkLFdBQUtQLE1BQUwsQ0FBWWMsTUFBWixDQUFtQjtBQUNsQlAsaUJBQVMsRUFBRUEsU0FETztBQUVsQkQsWUFBSSxFQUFFLElBRlk7QUFHbEJPLFlBQUksRUFBRUE7QUFIWSxPQUFuQjtBQUtBLFdBQUtiLE1BQUwsQ0FBWWUsY0FBWixDQUEyQlIsU0FBM0I7QUFDQSxLQVBELE1BT087QUFDTixXQUFLUCxNQUFMLENBQVljLE1BQVosQ0FBbUI7QUFDbEJQLGlCQUFTLEVBQUUsSUFETztBQUVsQkQsWUFBSSxFQUFFLElBRlk7QUFHbEJPLFlBQUksRUFBRUE7QUFIWSxPQUFuQjtBQUtBO0FBQ0QsR0E1RHNCO0FBOER2QkYsUUFBTSxFQUFFLFVBQVNGLE9BQVQsRUFBa0JDLEdBQWxCLEVBQXVCO0FBQzVCLFNBQUtWLE1BQUwsQ0FBWVcsTUFBWixDQUFtQkYsT0FBbkIsRUFBNEJDLEdBQTVCO0FBQ0QsR0FoRXFCO0FBa0V0Qk0sYUFBVyxFQUFFLFVBQVNDLFNBQVQsRUFBb0I7QUFDL0IsU0FBS2pCLE1BQUwsQ0FBWWdCLFdBQVosQ0FBd0JDLFNBQXhCO0FBQ0Q7QUFwRXFCLENBQXhCO0FBdUVBbEIsZUFBZSxDQUFDRSxTQUFoQixDQUEwQkosY0FBMUI7QUFDQUUsZUFBZSxDQUFDYSxZQUFoQixDQUE2Qk0sTUFBTSxDQUFDQyxNQUFQLENBQWNOLElBQWQsR0FBcUJLLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjTixJQUFuQyxHQUEwQyxxQkFBdkUsRUFBOEZLLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxlQUE1RztlQUVlckIsZSIsImZpbGUiOiIuLi9Db0NyZWF0ZS1tZXNzYWdlL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb0NyZWF0ZVNvY2tldCBmcm9tIFwiQGNvY3JlYXRlL3NvY2tldFwiXG5pbXBvcnQge2dldENvbW1vblBhcmFtcywgZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kLCBnZW5lcmF0ZVNvY2tldENsaWVudH0gZnJvbSBcIkBjb2NyZWF0ZS9jcnVkL3NyYy9jb21tb24tZnVuLmpzXCJcblxubGV0IG1lc3NhZ2Vfc29ja2V0ID0gbmV3IENvQ3JlYXRlU29ja2V0KCd3cycpO1xuXG5jb25zdCBDb0NyZWF0ZU1lc3NhZ2UgPSB7XG4gIHNvY2tldDogbnVsbCxcbiAgc2V0U29ja2V0OiBmdW5jdGlvbihzb2NrZXQpIHtcbiAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgfSxcbiAvKlxuIENvQ3JlYXRlLm1lc3NhZ2Uuc2VuZCh7XG4gICAgbmFtZXNwYWNlOiAnJyxcbiAgICByb29tOiAnJyxcbiAgICBicm9hZGNhc3Q6IHRydWUvZmFsc2UsXG4gICAgYnJvYWRjYXN0X3NlbmRlcjogdHJ1ZS9mYWxzZVxuICAgIFxuICAgIHJvb21zOiBbcjEsIHIyXSxcbiAgICBlbWl0OiB7XG4gICAgICBtZXNzYWdlJzogJ25pY2UgZ2FtZScsXG4gICAgICBkYXRhJzogJ2xldCdzIHBsYXkgYSBnYW1lIC4uLi4nXG4gICAgfVxuICB9KVxuICovXG4gIHNlbmQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBsZXQgcmVxdWVzdF9kYXRhID0gZ2V0Q29tbW9uUGFyYW1zKCk7XG4gICAgXG4gICAgaWYgKCFkYXRhIHx8ICFkYXRhLmVtaXQpIHtcbiAgICAgIHJldHVybjsgICAgIFxuICAgIH1cbiAgICByZXF1ZXN0X2RhdGEgPSB7Li4ucmVxdWVzdF9kYXRhLCAuLi5kYXRhfVxuICAgIFxuICAgIC8qKiBzb2NrZXQgcGFyYW1ldGVycyAqKi9cbiAgICAvLyBpZiAoZGF0YVsnYnJvYWRjYXN0J10gPT09IHVuZGVmaW5lZCkge1xuICAgIC8vICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3QnXSA9IHRydWU7XG4gICAgLy8gfVxuICAgIC8vIGlmIChkYXRhWydicm9hZGNhc3Rfc2VuZGVyJ10gPT09IHVuZGVmaW5lZCkge1xuICAgIC8vICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3Rfc2VuZGVyJ10gPSB0cnVlO1xuICAgIC8vIH1cbiAgICBjb25zdCByb29tID0gZ2VuZXJhdGVTb2NrZXRDbGllbnQoZGF0YS5uYW1lc3BhY2UsIGRhdGEucm9vbSk7XG4gICAgXG4gICAgdGhpcy5zb2NrZXQuc2VuZCgnc2VuZE1lc3NhZ2UnLCByZXF1ZXN0X2RhdGEsIHJvb20pXG4gIH0sXG4gXG4gIHJlY2VpdmU6IGZ1bmN0aW9uKG1lc3NhZ2UsIGZ1bikge1xuICAgIHRoaXMuc29ja2V0Lmxpc3RlbihtZXNzYWdlLCBmdW4pO1xuICB9LFxuIFxuIFx0Y3JlYXRlU29ja2V0OiBmdW5jdGlvbihob3N0LCBuYW1lc3BhY2UpIHtcbiBcdCAgaWYgKCF0aGlzLnNvY2tldCkgcmV0dXJuO1xuIFx0ICBcblx0XHRpZiAobmFtZXNwYWNlKSB7XG5cdFx0XHR0aGlzLnNvY2tldC5jcmVhdGUoe1xuXHRcdFx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZSwgXG5cdFx0XHRcdHJvb206IG51bGwsXG5cdFx0XHRcdGhvc3Q6IGhvc3Rcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5zb2NrZXQuc2V0R2xvYmFsU2NvcGUobmFtZXNwYWNlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zb2NrZXQuY3JlYXRlKHtcblx0XHRcdFx0bmFtZXNwYWNlOiBudWxsLCBcblx0XHRcdFx0cm9vbTogbnVsbCxcblx0XHRcdFx0aG9zdDogaG9zdFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXHRcblx0bGlzdGVuOiBmdW5jdGlvbihtZXNzYWdlLCBmdW4pIHtcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4obWVzc2FnZSwgZnVuKTtcbiAgfSxcbiAgXG4gIGxpc3RlbkFzeW5jOiBmdW5jdGlvbihldmVudG5hbWUpIHtcbiAgICB0aGlzLnNvY2tldC5saXN0ZW5Bc3luYyhldmVudG5hbWUpO1xuICB9LFxufVxuXG5Db0NyZWF0ZU1lc3NhZ2Uuc2V0U29ja2V0KG1lc3NhZ2Vfc29ja2V0KTtcbkNvQ3JlYXRlTWVzc2FnZS5jcmVhdGVTb2NrZXQod2luZG93LmNvbmZpZy5ob3N0ID8gd2luZG93LmNvbmZpZy5ob3N0IDogJ3NlcnZlci5jb2NyZWF0ZS5hcHAnLCB3aW5kb3cuY29uZmlnLm9yZ2FuaXphdGlvbl9JZClcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVNZXNzYWdlO1xuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-message/src/index.js\n")},"../CoCreate-observer/src/index.js":(__unused_webpack_module,exports)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.default = void 0;\n// window.addEventListener("load", () => {\n\n/*\nCoCreate.observer.init({ \n\tname: \'CoCreateFetchInit\', // no usage, just to provide for console debugging \n\tobserve: [\'subtree\', \'childList\',\'attributes\'], // the same parameters of options in #https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/observe\n\tattributes: [\'data-fetch_collection\'], // it doesn\'t count added nodes or remove nodes\n\tinclude: ".classname", // a selector to select only elements that matches\n\texclude: ".classname", // a selector to exclude elements from processing\n\tcallback: function(mutation) { // a function which gets a mutation object according to #https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord\n\t\tCoCreateFetch.initElement(mutation.target)\n\t}\n})\n*/\n\n/**\n * description\n * \n * @param {String} [name] - an optional name to provide for debugging console\n * @param {Array} observe - a list of mutation type to be observerd, a mix of possible `attributes`, `childList` or `subtree`\n * ... and other params can be here \n * \n * @return null\n */\nwindow.profiler = {};\nwindow.counter = 0;\nwindow.counter2 = 0;\nwindow.targets = {};\nwindow.attributeName = {};\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n    var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i = matches.length;\n\n    while (--i >= 0 && matches.item(i) !== this) {}\n\n    return i > -1;\n  };\n}\n\nconst CoCreateObserver = {\n  initTasks: new Map(),\n  attrTasks: new Map(),\n  rules: new Map(),\n  rulesArray: [],\n  __init: function () {\n    const self = this;\n    const observer = new MutationObserver((mutationsList, observer) => self.__callback(mutationsList, observer)); // setTimeout(()=>{\n\n    observer.observe(document.body, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: false,\n      attributeOldValue: true,\n      characterData: true\n    });\n  },\n  // init: function(data) {\n  //   this.add(data);\n  // },\n  init: function ({\n    observe,\n    include,\n    exclude,\n    attributes,\n    name,\n    callback\n  }) {\n    // if (name == \'ccAttribute\' || name == \'ccCss\') {\n    if (observe.some(x => x == "childList")) {\n      this.initTasks.set(callback, {\n        observe,\n        include,\n        exclude,\n        attributes,\n        name\n      });\n    }\n\n    if (observe.some(x => x == "attributes")) {\n      this.attrTasks.set(callback, {\n        observe,\n        include,\n        exclude,\n        attributes,\n        name\n      });\n    } // }\n\n  },\n  remove: function (callback) {\n    this.initTasks.delete(callback);\n    this.attrTasks.delete(callback);\n  },\n  addRule: function ({\n    include,\n    exclude,\n    name\n  }) {\n    this.rules.set(name, {\n      include,\n      exclude\n    });\n    this.rulesArray = Array.from(this.rules);\n  },\n  removeRule: function ({\n    name\n  }) {\n    this.rules.delete(name);\n    this.rulesArray = Array.from(this.rules);\n  },\n  __callback: function (mutationsList, observer) {\n    // console.log(this)\n    window.counter++;\n\n    for (let mutation of mutationsList) {\n      if (mutation.type == "childList" && mutation.addedNodes.length > 0) {\n        //. run init functions\n        this.__initCallback(mutation);\n      }\n\n      if (mutation.type == "attributes") {\n        //. run attributes functions\n        this.__attrCallback(mutation);\n      }\n    }\n  },\n  __initCallback: function (mutation) {\n    let addedNodes = Array.from(mutation.addedNodes);\n    this.initTasks.forEach(({\n      observe,\n      include,\n      exclude,\n      attributes,\n      name\n    }, callback) => {\n      mutation.addedNodes.forEach(el => {\n        if (!el.tagName) return;\n\n        if (include && !(el.matches(include) || el.querySelector(include))) {\n          return;\n        }\n\n        if (exclude && (el.matches(exclude) || el.querySelector(exclude))) {\n          return;\n        }\n\n        if (el.created) return;\n        window.counter2++;\n        window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n        window.targets[mutation.target.id || mutation.target.tagName] = window.targets[mutation.target.id || mutation.target.tagName] != undefined ? window.targets[mutation.target.id || mutation.target.tagName] + 1 : 0;\n        window.attributeName[mutation.attributeName] = window.attributeName[mutation.attributeName] != undefined ? window.attributeName[mutation.attributeName] + 1 : 0;\n        callback.apply(null, [{\n          type: mutation.type,\n          target: el\n        }]);\n      });\n    });\n    addedNodes.map(el => el.created = true);\n  },\n  __attrCallback: function (mutation) {\n    for (let [name, {\n      include,\n      exclude\n    }] of this.rulesArray) {\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n    }\n\n    this.attrTasks.forEach(({\n      observe,\n      include,\n      exclude,\n      attributes,\n      name\n    }, callback) => {\n      if (attributes && mutation.attributeName && !attributes.includes(mutation.attributeName)) {\n        return;\n      }\n\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n\n      if (mutation.attributeName) {\n        let newValue = mutation.target.getAttribute(mutation.attributeName);\n\n        if (newValue != mutation.oldValue) {\n          window.counter2++;\n          window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n          window.targets[mutation.target.id || mutation.target.tagName] = window.targets[mutation.target.id || mutation.target.tagName] != undefined ? window.targets[mutation.target.id || mutation.target.tagName] + 1 : 0;\n          window.attributeName[mutation.attributeName] = window.attributeName[mutation.attributeName] != undefined ? window.attributeName[mutation.attributeName] + 1 : 0;\n          callback.apply(null, [mutation]);\n        }\n      }\n    });\n  },\n  setInitialized: function (element, type) {\n    // element.setAttribute(`initialized_${type}`, "true");\n    type = type || "";\n    let key = "co_initialized_" + type;\n    element[key] = true;\n  },\n  getInitialized: function (element, type) {\n    type = type || "";\n    let key = "co_initialized_" + type;\n\n    if (!element[key]) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n};\n\nCoCreateObserver.__init();\n\nvar _default = CoCreateObserver;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLW9ic2VydmVyL3NyYy9pbmRleC5qcz9jZGYyIl0sIm5hbWVzIjpbIndpbmRvdyIsInByb2ZpbGVyIiwiY291bnRlciIsImNvdW50ZXIyIiwidGFyZ2V0cyIsImF0dHJpYnV0ZU5hbWUiLCJFbGVtZW50IiwicHJvdG90eXBlIiwibWF0Y2hlcyIsIm1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsInMiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsIml0ZW0iLCJDb0NyZWF0ZU9ic2VydmVyIiwiaW5pdFRhc2tzIiwiTWFwIiwiYXR0clRhc2tzIiwicnVsZXMiLCJydWxlc0FycmF5IiwiX19pbml0Iiwic2VsZiIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9uc0xpc3QiLCJfX2NhbGxiYWNrIiwib2JzZXJ2ZSIsImJvZHkiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImNoYXJhY3RlckRhdGEiLCJhdHRyaWJ1dGVPbGRWYWx1ZSIsImluaXQiLCJpbmNsdWRlIiwiZXhjbHVkZSIsIm5hbWUiLCJjYWxsYmFjayIsInNvbWUiLCJ4Iiwic2V0IiwicmVtb3ZlIiwiZGVsZXRlIiwiYWRkUnVsZSIsIkFycmF5IiwiZnJvbSIsInJlbW92ZVJ1bGUiLCJtdXRhdGlvbiIsInR5cGUiLCJhZGRlZE5vZGVzIiwiX19pbml0Q2FsbGJhY2siLCJfX2F0dHJDYWxsYmFjayIsImZvckVhY2giLCJlbCIsInRhZ05hbWUiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlZCIsInVuZGVmaW5lZCIsInRhcmdldCIsImlkIiwiYXBwbHkiLCJtYXAiLCJpbmNsdWRlcyIsIm5ld1ZhbHVlIiwiZ2V0QXR0cmlidXRlIiwib2xkVmFsdWUiLCJzZXRJbml0aWFsaXplZCIsImVsZW1lbnQiLCJrZXkiLCJnZXRJbml0aWFsaXplZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSxNQUFNLENBQUNDLFFBQVAsR0FBa0IsRUFBbEI7QUFDQUQsTUFBTSxDQUFDRSxPQUFQLEdBQWlCLENBQWpCO0FBQ0FGLE1BQU0sQ0FBQ0csUUFBUCxHQUFrQixDQUFsQjtBQUNBSCxNQUFNLENBQUNJLE9BQVAsR0FBaUIsRUFBakI7QUFDQUosTUFBTSxDQUFDSyxhQUFQLEdBQXVCLEVBQXZCOztBQUNBLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxTQUFSLENBQWtCQyxPQUF2QixFQUFnQztBQUM5QkYsU0FBTyxDQUFDQyxTQUFSLENBQWtCQyxPQUFsQixHQUNFRixPQUFPLENBQUNDLFNBQVIsQ0FBa0JFLGVBQWxCLElBQ0FILE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkcsa0JBRGxCLElBRUFKLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkksaUJBRmxCLElBR0FMLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkssZ0JBSGxCLElBSUFOLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQk0scUJBSmxCLElBS0EsVUFBU0MsQ0FBVCxFQUFZO0FBQ1YsUUFBSU4sT0FBTyxHQUFHLENBQUMsS0FBS08sUUFBTCxJQUFpQixLQUFLQyxhQUF2QixFQUFzQ0MsZ0JBQXRDLENBQXVESCxDQUF2RCxDQUFkO0FBQUEsUUFDRUksQ0FBQyxHQUFHVixPQUFPLENBQUNXLE1BRGQ7O0FBRUEsV0FBTyxFQUFFRCxDQUFGLElBQU8sQ0FBUCxJQUFZVixPQUFPLENBQUNZLElBQVIsQ0FBYUYsQ0FBYixNQUFvQixJQUF2QyxFQUE2QyxDQUFFOztBQUMvQyxXQUFPQSxDQUFD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QSxRQUFJb0IsR0FBRyxHQUFHLG9CQUFvQnBCLElBQTlCOztBQUNBLFFBQUksQ0FBQ21CLE9BQU8sQ0FBQ0MsR0FBRCxDQUFaLEVBQW1CO0FBQ2pCLGFBQU8sS0FBUDtBQUNELEtBRkQsTUFHSztBQUNILGFBQU8sSUFBUDtBQUNEO0FBQ0Y7QUF2SnNCLENBQXpCOztBQTBKQXRELGdCQUFnQixDQUFDTSxNQUFqQjs7ZUFHZU4sZ0IiLCJmaWxlIjoiLi4vQ29DcmVhdGUtb2JzZXJ2ZXIvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcblxuLypcbkNvQ3JlYXRlLm9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlRmV0Y2hJbml0JywgLy8gbm8gdXNhZ2UsIGp1c3QgdG8gcHJvdmlkZSBmb3IgY29uc29sZSBkZWJ1Z2dpbmcgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnLCdhdHRyaWJ1dGVzJ10sIC8vIHRoZSBzYW1lIHBhcmFtZXRlcnMgb2Ygb3B0aW9ucyBpbiAjaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL011dGF0aW9uT2JzZXJ2ZXIvb2JzZXJ2ZVxuXHRhdHRyaWJ1dGVzOiBbJ2RhdGEtZmV0Y2hfY29sbGVjdGlvbiddLCAvLyBpdCBkb2Vzbid0IGNvdW50IGFkZGVkIG5vZGVzIG9yIHJlbW92ZSBub2Rlc1xuXHRpbmNsdWRlOiBcIi5jbGFzc25hbWVcIiwgLy8gYSBzZWxlY3RvciB0byBzZWxlY3Qgb25seSBlbGVtZW50cyB0aGF0IG1hdGNoZXNcblx0ZXhjbHVkZTogXCIuY2xhc3NuYW1lXCIsIC8vIGEgc2VsZWN0b3IgdG8gZXhjbHVkZSBlbGVtZW50cyBmcm9tIHByb2Nlc3Npbmdcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7IC8vIGEgZnVuY3Rpb24gd2hpY2ggZ2V0cyBhIG11dGF0aW9uIG9iamVjdCBhY2NvcmRpbmcgdG8gI2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NdXRhdGlvblJlY29yZFxuXHRcdENvQ3JlYXRlRmV0Y2guaW5pdEVsZW1lbnQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KVxuKi9cblxuXG4vKipcbiAqIGRlc2NyaXB0aW9uXG4gKiBcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBhbiBvcHRpb25hbCBuYW1lIHRvIHByb3ZpZGUgZm9yIGRlYnVnZ2luZyBjb25zb2xlXG4gKiBAcGFyYW0ge0FycmF5fSBvYnNlcnZlIC0gYSBsaXN0IG9mIG11dGF0aW9uIHR5cGUgdG8gYmUgb2JzZXJ2ZXJkLCBhIG1peCBvZiBwb3NzaWJsZSBgYXR0cmlidXRlc2AsIGBjaGlsZExpc3RgIG9yIGBzdWJ0cmVlYFxuICogLi4uIGFuZCBvdGhlciBwYXJhbXMgY2FuIGJlIGhlcmUgXG4gKiBcbiAqIEByZXR1cm4gbnVsbFxuICovXG53aW5kb3cucHJvZmlsZXIgPSB7fVxud2luZG93LmNvdW50ZXIgPSAwO1xud2luZG93LmNvdW50ZXIyID0gMDtcbndpbmRvdy50YXJnZXRzID0ge307XG53aW5kb3cuYXR0cmlidXRlTmFtZSA9IHt9O1xuaWYgKCFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPVxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgIGZ1bmN0aW9uKHMpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuICAgICAgICBpID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgICB3aGlsZSAoLS1pID49IDAgJiYgbWF0Y2hlcy5pdGVtKGkpICE9PSB0aGlzKSB7fVxuICAgICAgcmV0dXJuIGkgPiAtMTtcbiAgICB9O1xufVxuXG5jb25zdCBDb0NyZWF0ZU9ic2VydmVyID0ge1xuICBpbml0VGFza3M6IG5ldyBNYXAoKSxcbiAgYXR0clRhc2tzOiBuZXcgTWFwKCksXG4gIHJ1bGVzOiBuZXcgTWFwKCksXG4gIHJ1bGVzQXJyYXk6IFtdLFxuXG4gIF9faW5pdDogZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHNlbGYuX19jYWxsYmFjayhtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikpO1xuXG4gICAgLy8gc2V0VGltZW91dCgoKT0+e1xuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiBmYWxzZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICB9KTtcbiAgfSxcblxuICAvLyBpbml0OiBmdW5jdGlvbihkYXRhKSB7XG4gIC8vICAgdGhpcy5hZGQoZGF0YSk7XG4gIC8vIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24oeyBvYnNlcnZlLCBpbmNsdWRlLCBleGNsdWRlLCBhdHRyaWJ1dGVzLCBuYW1lLCBjYWxsYmFjayB9KSB7XG4gICAgLy8gaWYgKG5hbWUgPT0gJ2NjQXR0cmlidXRlJyB8fCBuYW1lID09ICdjY0NzcycpIHtcbiAgICAgIGlmIChvYnNlcnZlLnNvbWUoeCA9PiB4ID09IFwiY2hpbGRMaXN0XCIpKSB7XG4gICAgICAgIHRoaXMuaW5pdFRhc2tzLnNldChjYWxsYmFjaywgeyBvYnNlcnZlLCBpbmNsdWRlLCBleGNsdWRlLCBhdHRyaWJ1dGVzLCBuYW1lIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAob2JzZXJ2ZS5zb21lKHggPT4geCA9PSBcImF0dHJpYnV0ZXNcIikpIHtcbiAgICAgICAgdGhpcy5hdHRyVGFza3Muc2V0KGNhbGxiYWNrLCB7IG9ic2VydmUsIGluY2x1ZGUsIGV4Y2x1ZGUsIGF0dHJpYnV0ZXMsIG5hbWUgfSk7XG4gICAgICB9XG4gICAgLy8gfVxuXG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLmluaXRUYXNrcy5kZWxldGUoY2FsbGJhY2spXG4gICAgdGhpcy5hdHRyVGFza3MuZGVsZXRlKGNhbGxiYWNrKVxuICB9LFxuXG4gIGFkZFJ1bGU6IGZ1bmN0aW9uKHsgaW5jbHVkZSwgZXhjbHVkZSwgbmFtZSB9KSB7XG4gICAgdGhpcy5ydWxlcy5zZXQobmFtZSwgeyBpbmNsdWRlLCBleGNsdWRlIH0pO1xuICAgIHRoaXMucnVsZXNBcnJheSA9IEFycmF5LmZyb20odGhpcy5ydWxlcyk7XG4gIH0sXG5cbiAgcmVtb3ZlUnVsZTogZnVuY3Rpb24oeyBuYW1lIH0pIHtcbiAgICB0aGlzLnJ1bGVzLmRlbGV0ZShuYW1lKTtcbiAgICB0aGlzLnJ1bGVzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMucnVsZXMpO1xuICB9LFxuXG4gIF9fY2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcylcbiAgICB3aW5kb3cuY291bnRlcisrO1xuICAgIGZvciAobGV0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHtcbiAgICAgIGlmIChtdXRhdGlvbi50eXBlID09IFwiY2hpbGRMaXN0XCIgJiYgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vLiBydW4gaW5pdCBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5fX2luaXRDYWxsYmFjayhtdXRhdGlvbilcbiAgICAgIH1cblxuICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gXCJhdHRyaWJ1dGVzXCIpIHtcbiAgICAgICAgLy8uIHJ1biBhdHRyaWJ1dGVzIGZ1bmN0aW9uc1xuICAgICAgICB0aGlzLl9fYXR0ckNhbGxiYWNrKG11dGF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgX19pbml0Q2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG4gICAgbGV0IGFkZGVkTm9kZXMgPSBBcnJheS5mcm9tKG11dGF0aW9uLmFkZGVkTm9kZXMpO1xuXG4gICAgdGhpcy5pbml0VGFza3MuZm9yRWFjaCgoeyBvYnNlcnZlLCBpbmNsdWRlLCBleGNsdWRlLCBhdHRyaWJ1dGVzLCBuYW1lIH0sIGNhbGxiYWNrKSA9PiB7XG5cbiAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgaWYgKCFlbC50YWdOYW1lKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGluY2x1ZGUgJiYgIShlbC5tYXRjaGVzKGluY2x1ZGUpIHx8IGVsLnF1ZXJ5U2VsZWN0b3IoaW5jbHVkZSkpKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4Y2x1ZGUgJiYgKGVsLm1hdGNoZXMoZXhjbHVkZSkgfHwgZWwucXVlcnlTZWxlY3RvcihleGNsdWRlKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWwuY3JlYXRlZCkgcmV0dXJuO1xuICAgICAgICB3aW5kb3cuY291bnRlcjIrKztcbiAgICAgICAgd2luZG93LnByb2ZpbGVyW25hbWVdID0gd2luZG93LnByb2ZpbGVyW25hbWVdICE9IHVuZGVmaW5lZCA/IHdpbmRvdy5wcm9maWxlcltuYW1lXSArIDEgOiAwO1xuICAgICAgICB3aW5kb3cudGFyZ2V0c1ttdXRhdGlvbi50YXJnZXQuaWQgfHwgbXV0YXRpb24udGFyZ2V0LnRhZ05hbWVdID1cbiAgICAgICAgICB3aW5kb3cudGFyZ2V0c1ttdXRhdGlvbi50YXJnZXQuaWQgfHwgbXV0YXRpb24udGFyZ2V0LnRhZ05hbWVdICE9IHVuZGVmaW5lZCA/XG4gICAgICAgICAgd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSArIDEgOlxuICAgICAgICAgIDA7XG5cbiAgICAgICAgd2luZG93LmF0dHJpYnV0ZU5hbWVbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0gPVxuICAgICAgICAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdICE9IHVuZGVmaW5lZCA/XG4gICAgICAgICAgd2luZG93LmF0dHJpYnV0ZU5hbWVbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0gKyAxIDpcbiAgICAgICAgICAwO1xuICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBbeyB0eXBlOiBtdXRhdGlvbi50eXBlLCB0YXJnZXQ6IGVsIH1dKTtcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBhZGRlZE5vZGVzLm1hcChlbCA9PiBlbC5jcmVhdGVkID0gdHJ1ZSk7XG4gIH0sXG5cbiAgX19hdHRyQ2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG4gICAgZm9yIChsZXQgW25hbWUsIHsgaW5jbHVkZSwgZXhjbHVkZSB9XSBvZiB0aGlzLnJ1bGVzQXJyYXkpIHtcbiAgICAgIGlmIChpbmNsdWRlICYmICFtdXRhdGlvbi50YXJnZXQubWF0Y2hlcyhpbmNsdWRlKSkgcmV0dXJuO1xuICAgICAgaWYgKGV4Y2x1ZGUgJiYgbXV0YXRpb24udGFyZ2V0Lm1hdGNoZXMoZXhjbHVkZSkpIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hdHRyVGFza3MuZm9yRWFjaCgoeyBvYnNlcnZlLCBpbmNsdWRlLCBleGNsdWRlLCBhdHRyaWJ1dGVzLCBuYW1lIH0sIGNhbGxiYWNrKSA9PiB7XG4gICAgICBpZiAoYXR0cmlidXRlcyAmJiBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lICYmICFhdHRyaWJ1dGVzLmluY2x1ZGVzKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpbmNsdWRlICYmICFtdXRhdGlvbi50YXJnZXQubWF0Y2hlcyhpbmNsdWRlKSkgcmV0dXJuO1xuICAgICAgaWYgKGV4Y2x1ZGUgJiYgbXV0YXRpb24udGFyZ2V0Lm1hdGNoZXMoZXhjbHVkZSkpIHJldHVybjtcblxuICAgICAgaWYgKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgbGV0IG5ld1ZhbHVlID0gbXV0YXRpb24udGFyZ2V0LmdldEF0dHJpYnV0ZShtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9IG11dGF0aW9uLm9sZFZhbHVlKSB7XG4gICAgICAgICAgd2luZG93LmNvdW50ZXIyKys7XG4gICAgICAgICAgd2luZG93LnByb2ZpbGVyW25hbWVdID0gd2luZG93LnByb2ZpbGVyW25hbWVdICE9IHVuZGVmaW5lZCA/IHdpbmRvdy5wcm9maWxlcltuYW1lXSArIDEgOiAwO1xuICAgICAgICAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gPVxuICAgICAgICAgICAgd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSArIDEgOlxuICAgICAgICAgICAgMDtcblxuICAgICAgICAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdID1cbiAgICAgICAgICAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdICE9IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSArIDEgOlxuICAgICAgICAgICAgMDtcbiAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBbbXV0YXRpb25dKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSlcbiAgfSxcblxuICBzZXRJbml0aWFsaXplZDogZnVuY3Rpb24oZWxlbWVudCwgdHlwZSkge1xuICAgIC8vIGVsZW1lbnQuc2V0QXR0cmlidXRlKGBpbml0aWFsaXplZF8ke3R5cGV9YCwgXCJ0cnVlXCIpO1xuICAgIHR5cGUgPSB0eXBlIHx8IFwiXCI7XG4gICAgbGV0IGtleSA9IFwiY29faW5pdGlhbGl6ZWRfXCIgKyB0eXBlO1xuICAgIGVsZW1lbnRba2V5XSA9IHRydWU7XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUpIHtcbiAgICB0eXBlID0gdHlwZSB8fCBcIlwiO1xuICAgIGxldCBrZXkgPSBcImNvX2luaXRpYWxpemVkX1wiICsgdHlwZTtcbiAgICBpZiAoIWVsZW1lbnRba2V5XSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5Db0NyZWF0ZU9ic2VydmVyLl9faW5pdCgpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlT2JzZXJ2ZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-observer/src/index.js\n')},"../CoCreate-select/src/adapter.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _select = _interopRequireDefault(__webpack_require__(/*! ./select.js */ \"../CoCreate-select/src/select.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../CoCreate-crud/src/index.js\"));\n\nvar _form = _interopRequireDefault(__webpack_require__(/*! @cocreate/form */ \"../CoCreate-form/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SelectAdapter = {\n  init: function () {\n    this.initElement();\n\n    this.__initEvents();\n  },\n  initElement: function (container) {\n    const mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    let containerList = mainContainer.querySelectorAll('cocreate-select, div.select--field');\n\n    for (let i = 0; i < containerList.length; i++) {\n      _select.default.__initSelect(containerList[i]);\n\n      this.__initElementEvent(containerList[i]);\n    }\n  },\n  __initEvents: function () {\n    const self = this;\n    document.addEventListener('dndsuccess', function (e) {\n      const {\n        dropedEl,\n        dragedEl\n      } = e.detail;\n\n      if (typeof dropedEl.tagName != 'undefined' && dropedEl.tagName.toLowerCase() == 'cocreate-select' || dropedEl.classList.contains('select--field')) {\n        self.save(dropedEl);\n        dropedEl.dispatchEvent(new CustomEvent('selectedValue'));\n      }\n    });\n    document.addEventListener('CoCreateSelect-save', function (e) {\n      const {\n        detail: {\n          element\n        }\n      } = e;\n\n      if (!element) {\n        return;\n      }\n\n      self.save(element);\n    });\n\n    _crud.default.listen('readDocument', function (data) {\n      if (data.metadata == 'cocreate-select') {\n        _select.default.setValue(data);\n      }\n    });\n\n    _crud.default.listen('updateDocument', function (data) {\n      if (data.metadata == 'cocreate-select') {\n        _select.default.setValue(data);\n      }\n    });\n\n    document.addEventListener('CoCreate-selected', function (e) {\n      const {\n        detail: {\n          element,\n          value\n        }\n      } = e;\n      console.log(e.detail);\n    });\n  },\n  __initElementEvent: function (selectContainer) {\n    const self = this;\n    selectContainer.addEventListener('set-document_id', function () {\n      self.save(this);\n    }); //. fetch logic\n\n    let collection = selectContainer.getAttribute('data-collection') || 'module_activity';\n    let id = selectContainer.getAttribute('data-document_id');\n\n    if (collection && id) {\n      _crud.default.readDocument({\n        'collection': collection,\n        'document_id': id,\n        'metadata': 'cocreate-select'\n      });\n    }\n  },\n  __sendRequest: function (selectContainer) {\n    let collection = selectContainer.getAttribute('data-collection') || 'module_activity';\n    let id = selectContainer.getAttribute('data-document_id');\n\n    if (collection && id) {\n      _crud.default.readDocument({\n        'collection': collection,\n        'document_id': id,\n        'metadata': 'cocreate-select'\n      });\n    }\n  },\n  save: function (element, isStore = true) {\n    let value = _select.default.getValue(element);\n\n    let collection = element.getAttribute('data-collection') || 'module_activity';\n    let id = element.getAttribute('data-document_id');\n    let name = element.getAttribute('name');\n    let realtime = element.getAttribute('data-realtime') || \"true\";\n    if (!name) return;\n    if (realtime != \"true\" && !isStore) return;\n\n    if (element.getAttribute('data-save_value') == 'false') {\n      return;\n    }\n\n    if (!_form.default.checkID(element)) {\n      _form.default.request({\n        element,\n        value,\n        nameAttr: \"name\"\n      });\n\n      element.setAttribute('data-document_id', 'pending');\n    } else if (id) {\n      _crud.default.updateDocument({\n        'collection': collection,\n        'document_id': id,\n        'data': {\n          [name]: value\n        },\n        'upsert': true,\n        'metadata': 'cocreate-select'\n      });\n    }\n  }\n};\nvar _default = SelectAdapter;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvYWRhcHRlci5qcz9kMDIzIl0sIm5hbWVzIjpbIlNlbGVjdEFkYXB0ZXIiLCJpbml0IiwiaW5pdEVsZW1lbnQiLCJfX2luaXRFdmVudHMiLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGFpbmVyTGlzdCIsImkiLCJsZW5ndGgiLCJDb0NyZWF0ZVNlbGVjdCIsIl9faW5pdFNlbGVjdCIsIl9faW5pdEVsZW1lbnRFdmVudCIsInNlbGYiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRyb3BlZEVsIiwiZHJhZ2VkRWwiLCJkZXRhaWwiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNhdmUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJlbGVtZW50IiwiY3J1ZCIsImxpc3RlbiIsImRhdGEiLCJtZXRhZGF0YSIsInNldFZhbHVlIiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwic2VsZWN0Q29udGFpbmVyIiwiY29sbGVjdGlvbiIsImdldEF0dHJpYnV0ZSIsImlkIiwicmVhZERvY3VtZW50IiwiX19zZW5kUmVxdWVzdCIsImlzU3RvcmUiLCJnZXRWYWx1ZSIsIm5hbWUiLCJyZWFsdGltZSIsImZvcm0iLCJjaGVja0lEIiwicmVxdWVzdCIsIm5hbWVBdHRyIiwic2V0QXR0cmlidXRlIiwidXBkYXRlRG9jdW1lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLGFBQWEsR0FBRztBQUVyQkMsTUFBSSxFQUFFLFlBQVc7QUFDaEIsU0FBS0MsV0FBTDs7QUFDQSxTQUFLQyxZQUFMO0FBQ0EsR0FMb0I7QUFPckJELGFBQVcsRUFBRSxVQUFTRSxTQUFULEVBQW9CO0FBQ2hDLFVBQU1DLGFBQWEsR0FBR0QsU0FB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T0FBYixDQUFMLEVBQTRCO0FBQzNCbUIsb0JBQUtFLE9BQUwsQ0FBYTtBQUFDckIsZUFBRDtBQUFVTSxhQUFWO0FBQWlCZ0IsZ0JBQVEsRUFBRTtBQUEzQixPQUFiOztBQUNBdEIsYUFBTyxDQUFDdUIsWUFBUixDQUFxQixrQkFBckIsRUFBeUMsU0FBekM7QUFDQSxLQUhELE1BR08sSUFBSVgsRUFBSixFQUFRO0FBQ2RYLG9CQUFLdUIsY0FBTCxDQUFvQjtBQUNuQixzQkFBY2QsVUFESztBQUVuQix1QkFBZUUsRUFGSTtBQUduQixnQkFBUztBQUNSLFdBQUNLLElBQUQsR0FBU1g7QUFERCxTQUhVO0FBTW5CLGtCQUFVLElBTlM7QUFPbkIsb0JBQVk7QUFQTyxPQUFwQjtBQVNBO0FBRUQ7QUE5SG9CLENBQXRCO2VBaUllakMsYSIsImZpbGUiOiIuLi9Db0NyZWF0ZS1zZWxlY3Qvc3JjL2FkYXB0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29DcmVhdGVTZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCJcbmltcG9ydCBjcnVkIGZyb20gJ0Bjb2NyZWF0ZS9jcnVkJztcbmltcG9ydCBmb3JtIGZyb20gJ0Bjb2NyZWF0ZS9mb3JtJ1xuXG5cbmNvbnN0IFNlbGVjdEFkYXB0ZXIgPSB7XG5cdFxuXHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmluaXRFbGVtZW50KCk7XG5cdFx0dGhpcy5fX2luaXRFdmVudHMoKVxuXHR9LFxuXHRcblx0aW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdGNvbnN0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0aWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdGxldCBjb250YWluZXJMaXN0ID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdjb2NyZWF0ZS1zZWxlY3QsIGRpdi5zZWxlY3QtLWZpZWxkJyk7XG5cdFx0Zm9yKGxldCBpID0gMCA7IGkgPCBjb250YWluZXJMaXN0Lmxlbmd0aCA7IGkrKyl7XG5cdFx0XHRDb0NyZWF0ZVNlbGVjdC5fX2luaXRTZWxlY3QoY29udGFpbmVyTGlzdFtpXSk7XG5cdFx0XHR0aGlzLl9faW5pdEVsZW1lbnRFdmVudChjb250YWluZXJMaXN0W2ldKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2luaXRFdmVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RuZHN1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRjb25zdCB7ZHJvcGVkRWwsIGRyYWdlZEVsfSA9IGUuZGV0YWlsO1xuXHRcdFx0aWYgKCh0eXBlb2YgZHJvcGVkRWwudGFnTmFtZSAhPSAndW5kZWZpbmVkJyAmJiBkcm9wZWRFbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2NvY3JlYXRlLXNlbGVjdCcpIFxuXHRcdFx0XHRcdHx8IGRyb3BlZEVsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LS1maWVsZCcpKSBcblx0XHRcdHtcblx0XHRcdFx0c2VsZi5zYXZlKGRyb3BlZEVsKVxuXHRcdFx0XHRkcm9wZWRFbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2VsZWN0ZWRWYWx1ZScpKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0NvQ3JlYXRlU2VsZWN0LXNhdmUnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRjb25zdCB7ZGV0YWlsOiB7ZWxlbWVudH19ID0gZTtcblx0XHRcdGlmICghZWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHNlbGYuc2F2ZShlbGVtZW50KTtcblx0XHR9KVxuXHRcdFxuXHRcdGNydWQubGlzdGVuKCdyZWFkRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRpZiAoZGF0YS5tZXRhZGF0YSA9PSAnY29jcmVhdGUtc2VsZWN0Jykge1xuXHRcdFx0XHRDb0NyZWF0ZVNlbGVjdC5zZXRWYWx1ZShkYXRhKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGNydWQubGlzdGVuKCd1cGRhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGlmIChkYXRhLm1ldGFkYXRhID09ICdjb2NyZWF0ZS1zZWxlY3QnKSB7XG5cdFx0XHRcdENvQ3JlYXRlU2VsZWN0LnNldFZhbHVlKGRhdGEpO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignQ29DcmVhdGUtc2VsZWN0ZWQnLCBmdW5jdGlvbihlKXtcblx0XHRcdGNvbnN0IHtkZXRhaWw6IHtlbGVtZW50LCB2YWx1ZX19ID0gZTtcblx0XHRcdGNvbnNvbGUubG9nKGUuZGV0YWlsKVxuXHRcdFx0XG5cdFx0fSlcblx0fSxcblx0XG5cdF9faW5pdEVsZW1lbnRFdmVudDogZnVuY3Rpb24oc2VsZWN0Q29udGFpbmVyKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cblx0XHRzZWxlY3RDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2V0LWRvY3VtZW50X2lkJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLnNhdmUodGhpcylcblx0XHR9KVxuXHRcdFxuXHRcdC8vLiBmZXRjaCBsb2dpY1xuXHRcdGxldCBjb2xsZWN0aW9uID0gc2VsZWN0Q29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykgfHwgJ21vZHVsZV9hY3Rpdml0eSc7XG5cdFx0bGV0IGlkID0gc2VsZWN0Q29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuXHRcdFxuXHRcdGlmIChjb2xsZWN0aW9uICYmIGlkKSB7XG5cdFx0XHRjcnVkLnJlYWREb2N1bWVudCh7XG5cdFx0XHRcdCdjb2xsZWN0aW9uJzogY29sbGVjdGlvbiwgXG5cdFx0XHRcdCdkb2N1bWVudF9pZCc6IGlkLFxuXHRcdFx0XHQnbWV0YWRhdGEnOiAnY29jcmVhdGUtc2VsZWN0J1xuXHRcdFx0fSlcblx0XHR9XG5cdH0sXG5cdFxuXHRfX3NlbmRSZXF1ZXN0OiBmdW5jdGlvbihzZWxlY3RDb250YWluZXIpIHtcblx0XHRsZXQgY29sbGVjdGlvbiA9IHNlbGVjdENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpIHx8ICdtb2R1bGVfYWN0aXZpdHknO1xuXHRcdGxldCBpZCA9IHNlbGVjdENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRcblx0XHRpZiAoY29sbGVjdGlvbiAmJiBpZCkge1xuXHRcdFx0Y3J1ZC5yZWFkRG9jdW1lbnQoe1xuXHRcdFx0XHQnY29sbGVjdGlvbic6IGNvbGxlY3Rpb24sIFxuXHRcdFx0XHQnZG9jdW1lbnRfaWQnOiBpZCxcblx0XHRcdFx0J21ldGFkYXRhJzogJ2NvY3JlYXRlLXNlbGVjdCdcblx0XHRcdH0pXG5cdFx0fVxuXHR9LFxuXG5cdHNhdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGlzU3RvcmUgPSB0cnVlKSB7XG5cdFxuXHRcdGxldCB2YWx1ZSA9IENvQ3JlYXRlU2VsZWN0LmdldFZhbHVlKGVsZW1lbnQpO1xuXHRcdFxuXHRcdGxldCBjb2xsZWN0aW9uID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpIHx8ICdtb2R1bGVfYWN0aXZpdHknO1xuXHRcdFxuXHRcdGxldCBpZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyk7XG5cdFx0bGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuXHRcdGxldCByZWFsdGltZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlYWx0aW1lJykgfHwgXCJ0cnVlXCI7XG5cdFx0aWYgKCFuYW1lKSByZXR1cm47XG5cdFx0XG5cdFx0aWYgKHJlYWx0aW1lICE9IFwidHJ1ZVwiICYmICFpc1N0b3JlKSByZXR1cm47XG5cdFx0XG5cdFx0aWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNhdmVfdmFsdWUnKSA9PSAnZmFsc2UnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGlmICghZm9ybS5jaGVja0lEKGVsZW1lbnQpKSB7XG5cdFx0XHRmb3JtLnJlcXVlc3Qoe2VsZW1lbnQsIHZhbHVlLCBuYW1lQXR0cjogXCJuYW1lXCJ9KTtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJywgJ3BlbmRpbmcnKTtcblx0XHR9IGVsc2UgaWYgKGlkKSB7XG5cdFx0XHRjcnVkLnVwZGF0ZURvY3VtZW50KHtcblx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLCBcblx0XHRcdFx0J2RvY3VtZW50X2lkJzogaWQsIFxuXHRcdFx0XHQnZGF0YScgOiB7IFxuXHRcdFx0XHRcdFtuYW1lXSA6IHZhbHVlIFxuXHRcdFx0XHR9LFxuXHRcdFx0XHQndXBzZXJ0JzogdHJ1ZSxcblx0XHRcdFx0J21ldGFkYXRhJzogJ2NvY3JlYXRlLXNlbGVjdCdcblx0XHRcdH0pXG5cdFx0fVxuXHRcdFxuXHR9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RBZGFwdGVyOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-select/src/adapter.js\n")},"../CoCreate-select/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _select = _interopRequireDefault(__webpack_require__(/*! ./select.js */ \"../CoCreate-select/src/select.js\"));\n\nvar _adapter = _interopRequireDefault(__webpack_require__(/*! ./adapter.js */ \"../CoCreate-select/src/adapter.js\"));\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nvar _form = _interopRequireDefault(__webpack_require__(/*! @cocreate/form */ \"../CoCreate-form/src/index.js\"));\n\n__webpack_require__(/*! ./CoCreate-select.css */ \"../CoCreate-select/src/CoCreate-select.css\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_adapter.default.init();\n\n_select.default.adapter = _adapter.default;\n\n_observer.default.init({\n  name: 'CoCreateSelectAttributes',\n  observe: ['attributes'],\n  attributes: ['data-document_id'],\n  include: 'cocreate-select',\n  callback: function (mutation) {\n    _adapter.default.__sendRequest(mutation.target);\n  }\n});\n\n_observer.default.init({\n  name: 'CoCreateSelect',\n  observe: ['subtree', 'childList'],\n  include: 'cocreate-select',\n  callback: function (mutation) {\n    _adapter.default.initElement(mutation.target);\n  }\n});\n\n_form.default.init({\n  name: 'CoCreateSelect',\n  selector: \"cocreate-select\",\n  callback: function (el) {\n    _adapter.default.save(el);\n  }\n});\n\nvar _default = _select.default;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvaW5kZXguanM/ZTBlMSJdLCJuYW1lcyI6WyJTZWxlY3RBZGFwdGVyIiwiaW5pdCIsIkNvQ3JlYXRlU2VsZWN0IiwiYWRhcHRlciIsIkNvQ3JlYXRlT2JzZXJ2ZXIiLCJuYW1lIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJpbmNsdWRlIiwiY2FsbGJhY2siLCJtdXRhdGlvbiIsIl9fc2VuZFJlcXVlc3QiLCJ0YXJnZXQiLCJpbml0RWxlbWVudCIsImZvcm0iLCJzZWxlY3RvciIsImVsIiwic2F2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUFBLGlCQUFjQyxJQUFkOztBQUNBQyxnQkFBZUMsT0FBZixHQUF5QkgsZ0JBQXpCOztBQUVBSSxrQkFBaUJILElBQWpCLENBQXNCO0FBQ3JCSSxNQUFJLEVBQUUsMEJBRGU7QUFFckJDLFNBQU8sRUFBRSxDQUFDLFlBQUQsQ0FGWTtBQUdyQkMsWUFBVSxFQUFFLENBQUMsa0JBQUQsQ0FIUztBQUlyQkMsU0FBTyxFQUFFLGlCQUpZO0FBS3JCQyxVQUFRLEVBQUUsVUFBU0MsUUFBVCxFQUFtQjtBQUM1QlYscUJBQWNXLGFBQWQsQ0FBNEJELFFBQVEsQ0FBQ0UsTUFBckM7QUFDQTtBQVBvQixDQUF0Qjs7QUFVQVIsa0JBQWlCSCxJQUFqQixDQUFzQjtBQUNyQkksTUFBSSxFQUFFLGdCQURlO0FBRXJCQyxTQUFPLEVBQUUsQ0FBQyxTQUFELEVBQVksV0FBWixDQUZZO0FBR3JCRSxTQUFPLEVBQUUsaUJBSFk7QUFJckJDLFVBQVEsRUFBRSxVQUFTQyxRQUFULEVBQW1CO0FBQzVCVixxQkFBY2EsV0FBZCxDQUEwQkgsUUFBUSxDQUFDRSxNQUFuQztBQUNBO0FBTm9CLENBQXRCOztBQVNBRSxjQUFLYixJQUFMLENBQVU7QUFDVEksTUFBSSxFQUFFLGdCQURHO0FBRVRVLFVBQVEsRUFBRSxpQkFGRDtBQUdUTixVQUFRLEVBQUUsVUFBU08sRUFBVCxFQUFhO0FBQ3RCaEIscUJBQWNpQixJQUFkLENBQW1CRCxFQUFuQjtBQUNBO0FBTFEsQ0FBVjs7ZUFPZWQsZSIsImZpbGUiOiIuLi9Db0NyZWF0ZS1zZWxlY3Qvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvQ3JlYXRlU2VsZWN0IGZyb20gXCIuL3NlbGVjdC5qc1wiXG5pbXBvcnQgU2VsZWN0QWRhcHRlciBmcm9tIFwiLi9hZGFwdGVyLmpzXCJcbmltcG9ydCBDb0NyZWF0ZU9ic2VydmVyIGZyb20gJ0Bjb2NyZWF0ZS9vYnNlcnZlcic7XG5pbXBvcnQgZm9ybSBmcm9tICdAY29jcmVhdGUvZm9ybSdcbmltcG9ydCAnLi9Db0NyZWF0ZS1zZWxlY3QuY3NzJztcblxuU2VsZWN0QWRhcHRlci5pbml0KCk7XG5Db0NyZWF0ZVNlbGVjdC5hZGFwdGVyID0gU2VsZWN0QWRhcHRlcjtcblxuQ29DcmVhdGVPYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZVNlbGVjdEF0dHJpYnV0ZXMnLCBcblx0b2JzZXJ2ZTogWydhdHRyaWJ1dGVzJ10sXG5cdGF0dHJpYnV0ZXM6IFsnZGF0YS1kb2N1bWVudF9pZCddLFxuXHRpbmNsdWRlOiAnY29jcmVhdGUtc2VsZWN0JywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdFNlbGVjdEFkYXB0ZXIuX19zZW5kUmVxdWVzdChtdXRhdGlvbi50YXJnZXQpXG5cdH1cbn0pO1xuXG5Db0NyZWF0ZU9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlU2VsZWN0JywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ2NvY3JlYXRlLXNlbGVjdCcsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRTZWxlY3RBZGFwdGVyLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbmZvcm0uaW5pdCh7XG5cdG5hbWU6ICdDb0NyZWF0ZVNlbGVjdCcsXG5cdHNlbGVjdG9yOiBcImNvY3JlYXRlLXNlbGVjdFwiLFxuXHRjYWxsYmFjazogZnVuY3Rpb24oZWwpIHtcblx0XHRTZWxlY3RBZGFwdGVyLnNhdmUoZWwpO1xuXHR9XG59KTtcbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlU2VsZWN0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../CoCreate-select/src/index.js\n")},"../CoCreate-select/src/select.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateSelect = {\n  init: function () {\n    this.initElement(); // this.__initEvents()\n  },\n  initElement: function (container) {\n    const mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    let containerList = mainContainer.querySelectorAll('cocreate-select, div.select--field');\n\n    for (let i = 0; i < containerList.length; i++) {\n      let selectContainer = containerList[i];\n\n      this.__initSelect(selectContainer);\n    }\n  },\n  __initEvents: function () {\n    const self = this;\n    document.addEventListener('dndsuccess', function (e) {\n      const {\n        dropedEl,\n        dragedEl\n      } = e.detail;\n\n      if (typeof dropedEl.tagName != 'undefined' && dropedEl.tagName.toLowerCase() == 'cocreate-select' || dropedEl.classList.contains('select--field')) {\n        self.save(dropedEl);\n\n        self.__fireSelectedEvent(dropedEl);\n      }\n    });\n  },\n  __initSelect: function (selectContainer) {\n    if (_observer.default.getInitialized(selectContainer, \"cocreate-select\")) {\n      return;\n    }\n\n    _observer.default.setInitialized(selectContainer, \"cocreate-select\");\n\n    let input = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n    const self = this;\n\n    if (input) {\n      input.addEventListener('keydown', function (e) {\n        let keyCode = e.keyCode;\n\n        if (keyCode == 13) {\n          e.preventDefault();\n        }\n\n        if (keyCode == 13 && this.value.length > 0) {\n          self.__selectValue(this.value, selectContainer);\n\n          self.save(selectContainer);\n\n          self.__fireSelectedEvent(selectContainer);\n\n          this.value = '';\n        } else if (keyCode == 8 && !this.value.length) {\n          let selectedItems = selectContainer.querySelectorAll('[selected]');\n\n          if (selectedItems.length > 0) {\n            selectedItems[selectedItems.length - 1].remove();\n            self.save(selectContainer);\n\n            self.__fireSelectedEvent(selectContainer);\n          }\n        }\n      });\n    }\n\n    document.addEventListener('click', function (event) {\n      var isClickInside = selectContainer.contains(event.target);\n\n      if (!isClickInside) {\n        self.__closeDropDown(selectContainer);\n      }\n    });\n    ul_selector.addEventListener('click', function (e) {\n      if (!e.target.matches('li')) {\n        let li = e.target;\n\n        while (typeof li.tagName != 'undefined' && li.tagName.toLowerCase() != 'li') {\n          li = li.parentNode;\n        }\n\n        if (li.classList && li.classList.contains('selectable')) {\n          // check if data exist\n          let value = li.getAttribute('value');\n          let selectValue = self.getValue(selectContainer);\n          if (value == selectValue || selectValue.indexOf(value) > -1) return; /// here emit event\n\n          self.__selectItem(li, selectContainer);\n\n          self.save(selectContainer);\n\n          self.__fireSelectedEvent(selectContainer);\n        }\n      }\n    });\n    selectContainer.addEventListener('click', function (e) {\n      if (e.target.matches('.remove')) {\n        e.target.parentNode.remove();\n        self.save(selectContainer);\n\n        self.__fireSelectedEvent(selectContainer);\n\n        return;\n      }\n\n      if (!ul_selector.classList.contains('open')) {\n        self.__openDropDown(selectContainer);\n      }\n\n      let input = selectContainer.querySelector('input');\n\n      if (input) {\n        input.focus();\n      }\n    }, true);\n  },\n  __openDropDown: function (selectContainer, focus = true) {\n    if (focus) {\n      let input = selectContainer.querySelector('input');\n      let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n      if (input) {\n        input.classList.add('open');\n        input.focus();\n      }\n\n      if (ul_selector && ul_selector) {\n        ul_selector.classList.add('open');\n      }\n\n      selectContainer.dispatchEvent(new CustomEvent('CoCreateSelect-open'));\n    }\n  },\n  __closeDropDown: function (selectContainer) {\n    let input = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n    if (input && input.classList.contains('open')) {\n      input.classList.remove('open');\n    }\n\n    if (ul_selector && ul_selector.classList.contains('open')) {\n      ul_selector.classList.remove('open');\n      selectContainer.dispatchEvent(new CustomEvent('CoCreateSelect-close'));\n    }\n  },\n  setValue: function (data) {\n    const self = this;\n    let selectContainers = document.querySelectorAll('cocreate-select,.select--field');\n    selectContainers.forEach(selectEl => {\n      const collection = selectEl.getAttribute('data-collection') || 'module_activity';\n      const id = selectEl.getAttribute('data-document_id');\n      const name = selectEl.getAttribute('name');\n\n      if (data['collection'] == collection && data['document_id'] == id && name) {\n        self.__renderValue(selectEl, data['data'][name]);\n      }\n    });\n  },\n  renderValue: function (target, value) {\n    this.__renderValue(target, value);\n  },\n  __renderValue: function (selectContainer, values) {\n    if (!values) {\n      return;\n    }\n\n    let selectedItems = selectContainer.querySelectorAll('[selected]');\n    selectedItems.forEach(item => item.remove());\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n    if (values && typeof values === 'string') {\n      values = [values];\n    }\n\n    for (let i = 0; i < values.length; i++) {\n      const selectedItem = ul_selector.querySelector(\"li[value='\" + values[i] + \"']\");\n\n      if (selectedItem) {\n        this.__selectItem(selectedItem, selectContainer, false);\n      } else {\n        this.__selectValue(values[i], selectContainer, false);\n      }\n    }\n\n    try {\n      if (CoCreateFloatLabel) {\n        CoCreateFloatLabel.update(selectContainer, values && values.length > 0);\n      }\n    } catch (err) {}\n  },\n  __selectValue: function (value, selectContainer) {\n    let currentValue = this.getValue(selectContainer);\n    if (currentValue == value || currentValue.indexOf(value) > -1) return;\n    let searchInput = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n    let span = document.createElement('span');\n    span.innerHTML = 'x';\n    span.classList.add('remove');\n    let li = document.createElement('li');\n    li.setAttribute('value', value); // li.setAttribute('data-value', value);\n\n    li.innerHTML = value;\n    li.setAttribute('selected', \"\"); // li.classList.add('selected');\n\n    li.classList.remove('selectable');\n    li.appendChild(span);\n    selectContainer.insertBefore(li, searchInput ? searchInput : ul_selector);\n  },\n  __selectItem: function (li, selectContainer, focus = true) {\n    let type = selectContainer.hasAttribute('multiple') ? 'multiple' : 'single';\n    let searchInput = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n    if (type == 'single') {\n      let selectedItems = selectContainer.querySelectorAll('[selected]');\n      selectedItems.forEach(item => item.remove());\n\n      if (searchInput) {\n        searchInput.value = '';\n      }\n    }\n\n    let span = document.createElement('span');\n    span.innerHTML = 'x';\n    span.classList.add('remove');\n    let selectedItem = li.cloneNode(true); // selectedItem.classList.add('selected');\n\n    selectedItem.setAttribute(\"selected\", \"\");\n    selectedItem.classList.remove('selectable');\n    selectedItem.appendChild(span);\n    selectContainer.insertBefore(selectedItem, searchInput ? searchInput : ul_selector);\n\n    if (type == 'single') {\n      this.__closeDropDown(selectContainer);\n    }\n  },\n  getValue: function (node) {\n    let type = node.hasAttribute('multiple') ? 'multiple' : 'single';\n    let selectedItems = node.querySelectorAll('[selected]');\n    let value = [];\n\n    if (selectedItems.length > 0) {\n      selectedItems.forEach(item => value.push(item.getAttribute('value')));\n    }\n\n    value = type === 'multiple' ? value : value[0] || '';\n    return value;\n  },\n  save: function (selectEl) {\n    if (!selectEl) {\n      return;\n    }\n\n    let event = new CustomEvent('CoCreateSelect-save', {\n      detail: {\n        element: selectEl\n      }\n    });\n    document.dispatchEvent(event);\n  },\n  __fireSelectedEvent: function (element) {\n    element.dispatchEvent(new CustomEvent('selectedValue'));\n    element.dispatchEvent(new CustomEvent('input', {\n      bubbles: true\n    }));\n    let value = this.getValue(element);\n    document.dispatchEvent(new CustomEvent('CoCreate-selected', {\n      detail: {\n        element: element,\n        value: value\n      }\n    }));\n  }\n};\nvar _default = CoCreateSelect;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvc2VsZWN0LmpzPzU1NjIiXSwibmFtZXMiOlsiQ29DcmVhdGVTZWxlY3QiLCJpbml0IiwiaW5pdEVsZW1lbnQiLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGFpbmVyTGlzdCIsImkiLCJsZW5ndGgiLCJzZWxlY3RDb250YWluZXIiLCJfX2luaXRTZWxlY3QiLCJfX2luaXRFdmVudHMiLCJzZWxmIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJkcm9wZWRFbCIsImRyYWdlZEVsIiwiZGV0YWlsIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzYXZlIiwiX19maXJlU2VsZWN0ZWRFdmVudCIsIkNvQ3JlYXRlT2JzZXJ2ZXIiLCJnZXRJbml0aWFsaXplZCIsInNldEluaXRpYWxpemVkIiwiaW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwidWxfc2VsZWN0b3IiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJ2YWx1ZSIsIl9fc2VsZWN0VmFsdWUiLCJzZWxlY3RlZEl0ZW1zIiwicmVtb3ZlIiwiZXZlbnQiLCJpc0NsaWNrSW5zaWRlIiwidGFyZ2V0IiwiX19jbG9zZURyb3BEb3duIiwibWF0Y2hlcyIsImxpIiwicGFyZW50Tm9kZSIsImdldEF0dHJpYnV0ZSIsInNlbGVjdFZhbHVlIiwiZ2V0VmFsdWUiLCJpbmRleE9mIiwiX19zZWxlY3RJdGVtIiwiX19vcGVuRHJvcERvd24iLCJmb2N1cyIsImFkZCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsInNldFZhbHVlIiwiZGF0YSIsInNlbGVjdENvbnRhaW5lcnMiLCJmb3JFYWNoIiwic2VsZWN0RWwiLCJjb2xsZWN0aW9uIiwiaWQiLCJuYW1lIiwiX19yZW5kZXJWYWx1ZSIsInJlbmRlclZhbHVlIiwidmFsdWVzIiwiaXRlbSIsInNlbGVjdGVkSXRlbSIsIkNvQ3JlYXRlRmxvYXRMYWJlbCIsInVwZGF0ZSIsImVyciIsImN1cnJlbnRWYWx1ZSIsInNlYXJjaElucHV0Iiwic3BhbiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsInR5cGUiLCJoYXNBdHRyaWJ1dGUiLCJjbG9uZU5vZGUiLCJub2RlIiwicHVzaCIsImVsZW1lbnQiLCJidWJibGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxjQUFjLEdBQUc7QUFFckJDLE1BQUksRUFBRSxZQUFXO0FBQ2YsU0FBS0MsV0FBTCxHQURlLENBRWY7QUFDRCxHQUxvQjtBQU9yQkEsYUFBVyxFQUFFLFVBQVNDLFNBQVQsRUFBb0I7QUFDL0IsVUFBTUMsYUFBYSxHQUFHRCxTQUFTLElBQUlFLFFBQW5DOztBQUVBLFFBQUksQ0FBQ0QsYUFBYSxDQUFDRSxnQkFBbkIsRUFBcUM7QUFDbkM7QUFDRDs7QUFFRCxRQUFJQyxhQUFhLEdBQUdILGFBQWEsQ0FBQ0UsZ0JBQWQsQ0FBK0Isb0NBQS9CLENBQXBCOztBQUVBLFNBQUksSUFBSUUsQ0FBQyxHQUFHLENBQVosRUFBZ0JBLENBQUMsR0FBR0QsYUFBYSxDQUFDRSxNQUFsQyxFQUEyQ0QsQ0FBQyxFQUE1QyxFQUErQztBQUM3QyxVQUFJRSxlQUFlLEdBQUdILGFBQWEsQ0FBQ0MsQ0FBRCxDQUFuQzs7QUFDQSxXQUFLRyxZQUFMLENBQWtCRCxlQUFsQjtBQUNEO0FBQ0YsR0FwQm9CO0FBc0JyQkUsY0FBWSxFQUFFLFlBQVc7QUFDdkIsVUFBTUMsSUFBSSxHQUFHLElBQWI7QUFDQVIsWUFBUSxDQUFDUyxnQkFBVCxDQUEwQixZQUExQixFQUF3QyxVQUFTQyxDQUFULEVBQVk7QUFDckQsWUFBTTtBQUFDQyxnQkFBRDtBQUFXQztBQUFYLFVBQXVCRixDQUFDLENBQUNHLE1BQS9COztBQUNHLFVBQUssT0FBT0Ys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QWQsQ0FBWjtBQUNBOUUsWUFBUSxDQUFDK0MsYUFBVCxDQUF1QixJQUFJQyxXQUFKLENBQWdCLG1CQUFoQixFQUFxQztBQUMxRG5DLFlBQU0sRUFBRTtBQUNOaUUsZUFBTyxFQUFFQSxPQURIO0FBRU5sRCxhQUFLLEVBQUVBO0FBRkQ7QUFEa0QsS0FBckMsQ0FBdkI7QUFNRDtBQTFSb0IsQ0FBdkI7ZUE2UmVqQyxjIiwiZmlsZSI6Ii4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvc2VsZWN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvQ3JlYXRlT2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJztcblxuY29uc3QgQ29DcmVhdGVTZWxlY3QgPSB7XG4gIFxuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXRFbGVtZW50KCk7XG4gICAgLy8gdGhpcy5fX2luaXRFdmVudHMoKVxuICB9LFxuICBcbiAgaW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG4gICAgXG4gICAgaWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIFxuICAgIGxldCBjb250YWluZXJMaXN0ID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdjb2NyZWF0ZS1zZWxlY3QsIGRpdi5zZWxlY3QtLWZpZWxkJyk7XG4gICAgXG4gICAgZm9yKGxldCBpID0gMCA7IGkgPCBjb250YWluZXJMaXN0Lmxlbmd0aCA7IGkrKyl7XG4gICAgICBsZXQgc2VsZWN0Q29udGFpbmVyID0gY29udGFpbmVyTGlzdFtpXTtcbiAgICAgIHRoaXMuX19pbml0U2VsZWN0KHNlbGVjdENvbnRhaW5lcik7XG4gICAgfVxuICB9LFxuICBcbiAgX19pbml0RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkbmRzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0Y29uc3Qge2Ryb3BlZEVsLCBkcmFnZWRFbH0gPSBlLmRldGFpbDtcbiAgICAgIGlmICgodHlwZW9mIGRyb3BlZEVsLnRhZ05hbWUgIT0gJ3VuZGVmaW5lZCcgJiYgZHJvcGVkRWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdjb2NyZWF0ZS1zZWxlY3QnKSBcbiAgICAgICAgICB8fCBkcm9wZWRFbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC0tZmllbGQnKSkgXG4gICAgICB7XG4gICAgICAgIHNlbGYuc2F2ZShkcm9wZWRFbClcbiAgICAgICAgc2VsZi5fX2ZpcmVTZWxlY3RlZEV2ZW50KGRyb3BlZEVsLCApXG4gICAgICB9XG5cdFx0fSlcbiAgfSxcblxuICBfX2luaXRTZWxlY3Q6IGZ1bmN0aW9uKHNlbGVjdENvbnRhaW5lcikge1xuICBcbiAgXHRpZiAoQ29DcmVhdGVPYnNlcnZlci5nZXRJbml0aWFsaXplZChzZWxlY3RDb250YWluZXIsIFwiY29jcmVhdGUtc2VsZWN0XCIpKSB7XG4gIFx0XHRyZXR1cm47XG4gIFx0fVxuICBcdENvQ3JlYXRlT2JzZXJ2ZXIuc2V0SW5pdGlhbGl6ZWQoc2VsZWN0Q29udGFpbmVyLCBcImNvY3JlYXRlLXNlbGVjdFwiKVxuICBcdFxuICAgIFxuICAgIGxldCBpbnB1dCA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgIGxldCB1bF9zZWxlY3RvciA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1bC5zZWxlY3RhYmxlLS1saXN0Jyk7XG5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBcbiAgICBpZiAoaW5wdXQpIHtcblxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbGV0IGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgICAgIGlmIChrZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChrZXlDb2RlID09IDEzICYmIHRoaXMudmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNlbGYuX19zZWxlY3RWYWx1ZSh0aGlzLnZhbHVlLCBzZWxlY3RDb250YWluZXIpO1xuICAgICAgICAgIHNlbGYuc2F2ZShzZWxlY3RDb250YWluZXIpXG4gICAgICAgICAgc2VsZi5fX2ZpcmVTZWxlY3RlZEV2ZW50KHNlbGVjdENvbnRhaW5lcilcbiAgICAgICAgICB0aGlzLnZhbHVlID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PSA4ICYmICF0aGlzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGxldCBzZWxlY3RlZEl0ZW1zID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzZWxlY3RlZF0nKTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW1zW3NlbGVjdGVkSXRlbXMubGVuZ3RoIC0xXS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHNlbGYuc2F2ZShzZWxlY3RDb250YWluZXIpXG4gICAgICAgICAgICBzZWxmLl9fZmlyZVNlbGVjdGVkRXZlbnQoc2VsZWN0Q29udGFpbmVyKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGlzQ2xpY2tJbnNpZGUgPSBzZWxlY3RDb250YWluZXIuY29udGFpbnMoZXZlbnQudGFyZ2V0KTtcbiAgICAgIGlmICghaXNDbGlja0luc2lkZSkge1xuICAgICAgICBzZWxmLl9fY2xvc2VEcm9wRG93bihzZWxlY3RDb250YWluZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHVsX3NlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghZS50YXJnZXQubWF0Y2hlcygnbGknKSkge1xuICAgICAgICBsZXQgbGkgPSBlLnRhcmdldDtcbiAgICAgICAgd2hpbGUodHlwZW9mIGxpLnRhZ05hbWUgIT0gJ3VuZGVmaW5lZCcgJiYgbGkudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdsaScpIHtcbiAgICAgICAgICBsaSA9IGxpLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChsaS5jbGFzc0xpc3QgJiYgbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RhYmxlJykpIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGV4aXN0XG4gICAgICAgICAgbGV0IHZhbHVlID0gbGkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICAgIGxldCBzZWxlY3RWYWx1ZSA9IHNlbGYuZ2V0VmFsdWUoc2VsZWN0Q29udGFpbmVyKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodmFsdWUgPT0gc2VsZWN0VmFsdWUgfHwgc2VsZWN0VmFsdWUuaW5kZXhPZih2YWx1ZSkgPiAtMSkgcmV0dXJuO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vLyBoZXJlIGVtaXQgZXZlbnRcbiAgICAgICAgICBzZWxmLl9fc2VsZWN0SXRlbShsaSwgc2VsZWN0Q29udGFpbmVyKVxuICAgICAgICAgIHNlbGYuc2F2ZShzZWxlY3RDb250YWluZXIpXG4gICAgICAgICAgc2VsZi5fX2ZpcmVTZWxlY3RlZEV2ZW50KHNlbGVjdENvbnRhaW5lcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICBzZWxlY3RDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5yZW1vdmUnKSkge1xuICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpO1xuICAgICAgICBzZWxmLnNhdmUoc2VsZWN0Q29udGFpbmVyKVxuICAgICAgICBzZWxmLl9fZmlyZVNlbGVjdGVkRXZlbnQoc2VsZWN0Q29udGFpbmVyKVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXVsX3NlbGVjdG9yLmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XG4gICAgICAgIHNlbGYuX19vcGVuRHJvcERvd24oc2VsZWN0Q29udGFpbmVyKVxuICAgICAgfVxuICAgICAgbGV0IGlucHV0ID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgaW5wdXQuZm9jdXMoKVxuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9LFxuICBcbiAgX19vcGVuRHJvcERvd246IGZ1bmN0aW9uKHNlbGVjdENvbnRhaW5lciwgZm9jdXM9dHJ1ZSkge1xuICAgIGlmKGZvY3VzKXtcbiAgICAgIGxldCBpbnB1dCA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgbGV0IHVsX3NlbGVjdG9yID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsLnNlbGVjdGFibGUtLWxpc3QnKTtcbiAgICAgIFxuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHVsX3NlbGVjdG9yICYmIHVsX3NlbGVjdG9yKSB7XG4gICAgICAgIHVsX3NlbGVjdG9yLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgIH1cbiAgICAgIHNlbGVjdENvbnRhaW5lci5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGVTZWxlY3Qtb3BlbicpKTtcbiAgICB9XG4gIH0sXG4gIFxuICBfX2Nsb3NlRHJvcERvd246IGZ1bmN0aW9uKHNlbGVjdENvbnRhaW5lcikge1xuICAgICAgbGV0IGlucHV0ID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICBsZXQgdWxfc2VsZWN0b3IgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcigndWwuc2VsZWN0YWJsZS0tbGlzdCcpO1xuICAgICAgaWYgKGlucHV0ICYmIGlucHV0LmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHVsX3NlbGVjdG9yICYmIHVsX3NlbGVjdG9yLmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XG4gICAgICAgIHVsX3NlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgc2VsZWN0Q29udGFpbmVyLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZVNlbGVjdC1jbG9zZScpKTtcbiAgICAgIH1cbiAgfSxcblxuICBzZXRWYWx1ZTogZnVuY3Rpb24oZGF0YSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBzZWxlY3RDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY29jcmVhdGUtc2VsZWN0LC5zZWxlY3QtLWZpZWxkJyk7XG4gICAgc2VsZWN0Q29udGFpbmVycy5mb3JFYWNoKChzZWxlY3RFbCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IHNlbGVjdEVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykgfHwgJ21vZHVsZV9hY3Rpdml0eSc7XG4gICAgICBjb25zdCBpZCA9IHNlbGVjdEVsLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuICAgICAgY29uc3QgbmFtZSA9IHNlbGVjdEVsLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgaWYgKGRhdGFbJ2NvbGxlY3Rpb24nXSA9PSBjb2xsZWN0aW9uICYmIGRhdGFbJ2RvY3VtZW50X2lkJ10gPT0gaWQgJiYgbmFtZSkge1xuICAgICAgICBzZWxmLl9fcmVuZGVyVmFsdWUoc2VsZWN0RWwsIGRhdGFbJ2RhdGEnXVtuYW1lXSk7XG4gICAgICB9IFxuICAgIH0pXG4gIH0sXG4gIFxuICByZW5kZXJWYWx1ZTogZnVuY3Rpb24odGFyZ2V0LCB2YWx1ZSkge1xuICAgIHRoaXMuX19yZW5kZXJWYWx1ZSh0YXJnZXQsIHZhbHVlKTtcbiAgfSwgXG4gIFxuICBfX3JlbmRlclZhbHVlOiBmdW5jdGlvbihzZWxlY3RDb250YWluZXIsIHZhbHVlcykge1xuICAgIGlmICghdmFsdWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzZWxlY3RlZEl0ZW1zID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzZWxlY3RlZF0nKTtcbiAgICBzZWxlY3RlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0ucmVtb3ZlKCkpXG5cbiAgICBsZXQgdWxfc2VsZWN0b3IgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcigndWwuc2VsZWN0YWJsZS0tbGlzdCcpO1xuICAgIGlmICh2YWx1ZXMgJiYgdHlwZW9mIHZhbHVlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlcyA9IFt2YWx1ZXNdO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSB1bF9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwibGlbdmFsdWU9J1wiICsgdmFsdWVzW2ldICsgXCInXVwiKTtcbiAgICAgIGlmIChzZWxlY3RlZEl0ZW0pe1xuICAgICAgICB0aGlzLl9fc2VsZWN0SXRlbShzZWxlY3RlZEl0ZW0sIHNlbGVjdENvbnRhaW5lcixmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fc2VsZWN0VmFsdWUodmFsdWVzW2ldLCBzZWxlY3RDb250YWluZXIsZmFsc2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChDb0NyZWF0ZUZsb2F0TGFiZWwpIHtcbiAgICAgICAgQ29DcmVhdGVGbG9hdExhYmVsLnVwZGF0ZShzZWxlY3RDb250YWluZXIsIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoID4gMClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgXG4gIF9fc2VsZWN0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBzZWxlY3RDb250YWluZXIpIHtcbiAgICBsZXQgY3VycmVudFZhbHVlID0gdGhpcy5nZXRWYWx1ZShzZWxlY3RDb250YWluZXIpO1xuICAgIGlmIChjdXJyZW50VmFsdWUgPT0gdmFsdWUgfHwgY3VycmVudFZhbHVlLmluZGV4T2YodmFsdWUpID4gLTEpIHJldHVybjtcbiAgICBcbiAgICBsZXQgc2VhcmNoSW5wdXQgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBsZXQgdWxfc2VsZWN0b3IgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcigndWwuc2VsZWN0YWJsZS0tbGlzdCcpO1xuICAgIFxuICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW4uaW5uZXJIVE1MPSd4JztcbiAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3JlbW92ZScpO1xuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbGkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlKTtcbiAgICAvLyBsaS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCB2YWx1ZSk7XG4gICAgbGkuaW5uZXJIVE1MID0gdmFsdWU7XG5cbiAgICBsaS5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgXCJcIik7XG4gICAgLy8gbGkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBsaS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RhYmxlJyk7XG4gICAgbGkuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cbiAgICBzZWxlY3RDb250YWluZXIuaW5zZXJ0QmVmb3JlKGxpLCBzZWFyY2hJbnB1dCA/IHNlYXJjaElucHV0IDogdWxfc2VsZWN0b3IpO1xuXG4gIH0sXG4gIFxuICBfX3NlbGVjdEl0ZW06IGZ1bmN0aW9uKGxpLCBzZWxlY3RDb250YWluZXIsIGZvY3VzPXRydWUpIHtcbiAgICBsZXQgdHlwZSA9IHNlbGVjdENvbnRhaW5lci5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZSc7XG4gICAgbGV0IHNlYXJjaElucHV0ID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgbGV0IHVsX3NlbGVjdG9yID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsLnNlbGVjdGFibGUtLWxpc3QnKTtcbiAgICBcbiAgICBpZiAodHlwZSA9PSAnc2luZ2xlJykge1xuICAgICAgbGV0IHNlbGVjdGVkSXRlbXMgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW3NlbGVjdGVkXScpO1xuICAgICAgc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLnJlbW92ZSgpKVxuICAgICAgaWYgKHNlYXJjaElucHV0KSB7XG4gICAgICAgIHNlYXJjaElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfSBcbiAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBzcGFuLmlubmVySFRNTD0neCc7XG4gICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdyZW1vdmUnKTtcbiAgICBsZXQgc2VsZWN0ZWRJdGVtID0gbGkuY2xvbmVOb2RlKHRydWUpO1xuICAgIFxuICAgIC8vIHNlbGVjdGVkSXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIHNlbGVjdGVkSXRlbS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLCBcIlwiKTtcbiAgICBzZWxlY3RlZEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0YWJsZScpO1xuICAgIHNlbGVjdGVkSXRlbS5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICBzZWxlY3RDb250YWluZXIuaW5zZXJ0QmVmb3JlKHNlbGVjdGVkSXRlbSwgc2VhcmNoSW5wdXQgPyBzZWFyY2hJbnB1dCA6IHVsX3NlbGVjdG9yKTtcbiAgICBcbiAgICBpZiAodHlwZSA9PSAnc2luZ2xlJykge1xuICAgICAgdGhpcy5fX2Nsb3NlRHJvcERvd24oc2VsZWN0Q29udGFpbmVyKTtcbiAgICB9XG4gIH0sXG4gIFxuICBnZXRWYWx1ZTpmdW5jdGlvbihub2RlKSB7XG4gICAgbGV0IHR5cGUgPSBub2RlLmhhc0F0dHJpYnV0ZSgnbXVsdGlwbGUnKSA/ICdtdWx0aXBsZScgOidzaW5nbGUnXG4gICAgbGV0IHNlbGVjdGVkSXRlbXMgPSBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzZWxlY3RlZF0nKTtcbiAgICBcbiAgICBsZXQgdmFsdWUgPSBbXTtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICBzZWxlY3RlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHZhbHVlLnB1c2goaXRlbS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpKVxuICAgIH0gXG4gICAgdmFsdWUgPSAodHlwZSA9PT0gJ211bHRpcGxlJykgPyB2YWx1ZSA6ICh2YWx1ZVswXSB8fCAnJylcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIFxuICBzYXZlOiBmdW5jdGlvbihzZWxlY3RFbCkge1xuICAgIGlmICghc2VsZWN0RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZVNlbGVjdC1zYXZlJywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGVsZW1lbnQ6IHNlbGVjdEVsLFxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH0sXG4gIFxuICBfX2ZpcmVTZWxlY3RlZEV2ZW50OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2VsZWN0ZWRWYWx1ZScpKTtcbiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdpbnB1dCcseyBidWJibGVzOiB0cnVlfSkpO1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoZWxlbWVudClcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGUtc2VsZWN0ZWQnLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9XG4gICAgfSkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlU2VsZWN0O1xuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-select/src/select.js\n")},"../CoCreate-socket/src/index.js":(__unused_webpack_module,exports)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nclass CoCreateSocket {\n  constructor(prefix = \"crud\") {\n    this.prefix = prefix || \"crud\";\n    this.sockets = new Map();\n    this.listeners = new Map();\n    this.messageQueue = new Map();\n    this.saveFileName = '';\n    this.globalScope = \"\";\n  }\n\n  setGlobalScope(scope) {\n    this.globalScope = `${this.prefix}/${scope}`;\n  }\n\n  getGlobalScope() {\n    return this.globalScope;\n  }\n  /**\n   * config: {namespace, room, host}\n   */\n\n\n  create(config) {\n    const {\n      namespace,\n      room\n    } = config;\n    const key = this.getKey(namespace, room);\n\n    let _this = this;\n\n    let socket;\n\n    if (this.sockets.get(key)) {\n      socket = this.sockets.get(key);\n      console.log('SOcket already has been register');\n      return;\n    }\n\n    let w_protocol = window.location.protocol;\n\n    if (window.location.protocol === \"about:\") {\n      w_protocol = window.parent.location.protocol;\n    }\n\n    let protocol = w_protocol === 'http:' ? 'ws' : 'wss';\n    const port = config.port ? config.port : 8088;\n    let socket_url = `${protocol}://${window.location.host}:${port}/${key}`;\n\n    if (config.host) {\n      if (config.host.includes(\"://\")) {\n        socket_url = `${config.host}/${key}`;\n      } else {\n        socket_url = `${protocol}://${config.host}:${port}/${key}`;\n      }\n    }\n\n    socket = new WebSocket(socket_url);\n\n    socket.onopen = function (event) {\n      console.log('created socket: ' + key);\n      const messages = _this.messageQueue.get(key) || [];\n      console.log(messages);\n      messages.forEach(msg => socket.send(JSON.stringify(msg)));\n\n      _this.sockets.set(key, socket);\n\n      _this.messageQueue.set(key, []);\n    };\n\n    socket.onclose = function (event) {\n      switch (event.code) {\n        case 1000:\n          // close normal\n          console.log(\"websocket: closed\");\n          break;\n\n        default:\n          _this.destroy(socket, key);\n\n          _this.reconnect(socket, config);\n\n          break;\n      }\n    };\n\n    socket.onerror = function (err) {\n      console.log('Socket error');\n\n      _this.destroy(socket, key);\n\n      _this.reconnect(socket, config);\n    };\n\n    socket.onmessage = function (data) {\n      try {\n        if (data.data instanceof Blob) {\n          _this.saveFile(data.data);\n\n          return;\n        }\n\n        let rev_data = JSON.parse(data.data);\n\n        if (rev_data.data.event) {\n          var event = new CustomEvent(rev_data.data.event, {\n            detail: rev_data.data\n          });\n          document.dispatchEvent(event);\n          return;\n        }\n\n        let action = rev_data.action;\n\n        const listeners = _this.listeners.get(rev_data.action);\n\n        if (!listeners) {\n          return;\n        }\n\n        listeners.forEach(listener => {\n          listener(rev_data.data, key);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n  }\n  /**\n   * \n   */\n\n\n  send(action, data, room) {\n    const obj = {\n      action: action,\n      data: data\n    };\n    const key = this.getKeyByRoom(room);\n    const socket = this.getByRoom(room);\n\n    if (socket) {\n      socket.send(JSON.stringify(obj));\n    } else {\n      if (this.messageQueue.get(key)) {\n        this.messageQueue.get(key).push(obj);\n      } else {\n        this.messageQueue.set(key, [obj]);\n      }\n    }\n  }\n\n  sendFile(file, room) {\n    const socket = this.getByRoom(room);\n\n    if (socket) {\n      socket.send(file);\n    }\n  }\n  /**\n   * scope: ns/room\n   */\n\n\n  listen(type, callback) {\n    if (!this.listeners.get(type)) {\n      this.listeners.set(type, [callback]);\n    } else {\n      this.listeners.get(type).push(callback);\n    }\n  }\n\n  reconnect(socket, config) {\n    let _this = this;\n\n    setTimeout(function () {\n      _this.create(config);\n    }, 1000);\n  }\n\n  destroy(socket, key) {\n    if (socket) {\n      socket.onerror = socket.onopen = socket.onclose = null;\n      socket.close();\n      socket = null;\n    }\n\n    if (this.sockets.get(key)) {\n      this.sockets.delete(key);\n    }\n  }\n\n  getKey(namespace, room) {\n    let key = `${this.prefix}`;\n\n    if (namespace && namespace != '') {\n      if (room && room != '') {\n        key += `/${namespace}/${room}`;\n      } else {\n        key += `/${namespace}`;\n      }\n    }\n\n    return key;\n  }\n\n  getByRoom(room) {\n    let key = this.getKeyByRoom(room);\n    return this.sockets.get(key);\n  }\n\n  getKeyByRoom(room) {\n    let key = this.globalScope;\n\n    if (room) {\n      key = `${this.prefix}/${room}`;\n    }\n\n    return key;\n  }\n\n  saveFile(blob) {\n    // const {filename} = window.saveFileInfo;\n    const file_name = this.saveFileName || 'downloadFile';\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.style = \"display: none\";\n    let url = window.URL.createObjectURL(blob);\n    a.href = url;\n    a.download = file_name;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    this.saveFileName = '';\n  }\n\n  listenAsync(eventname) {\n    return new Promise(resolve => {\n      document.addEventListener(eventname, function (event) {\n        resolve(event.detail);\n      }, {\n        once: true\n      });\n    });\n  }\n\n}\n\nvar _default = CoCreateSocket;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXNvY2tldC9zcmMvaW5kZXguanM/MGU0OSJdLCJuYW1lcyI6WyJDb0NyZWF0ZVNvY2tldCIsImNvbnN0cnVjdG9yIiwicHJlZml4Iiwic29ja2V0cyIsIk1hcCIsImxpc3RlbmVycyIsIm1lc3NhZ2VRdWV1ZSIsInNhdmVGaWxlTmFtZSIsImdsb2JhbFNjb3BlIiwic2V0R2xvYmFsU2NvcGUiLCJzY29wZSIsImdldEdsb2JhbFNjb3BlIiwiY3JlYXRlIiwiY29uZmlnIiwibmFtZXNwYWNlIiwicm9vbSIsImtleSIsImdldEtleSIsIl90aGlzIiwic29ja2V0IiwiZ2V0IiwiY29uc29sZSIsImxvZyIsIndfcHJvdG9jb2wiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInByb3RvY29sIiwicGFyZW50IiwicG9ydCIsInNvY2tldF91cmwiLCJob3N0IiwiaW5jbHVkZXMiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJldmVudCIsIm1lc3NhZ2VzIiwiZm9yRWFjaCIsIm1zZyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0Iiwib25jbG9zZSIsImNvZGUiLCJkZXN0cm95IiwicmVjb25uZWN0Iiwib25lcnJvciIsImVyciIsIm9ubWVzc2FnZSIsImRhdGEiLCJCbG9iIiwic2F2ZUZpbGUiLCJyZXZfZGF0YSIsInBhcnNlIiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJkb2N1bWVudCIsImRpc3BhdGNoRXZlbnQiLCJhY3Rpb24iLCJsaXN0ZW5lciIsImUiLCJvYmoiLCJnZXRLZXlCeVJvb20iLCJnZXRCeVJvb20iLCJwdXNoIiwic2VuZEZpbGUiLCJmaWxlIiwibGlzdGVuIiwidHlwZSIsImNhbGxiYWNrIiwic2V0VGltZW91dCIsImNsb3NlIiwiZGVsZXRlIiwiYmxvYiIsImZpbGVfbmFtZSIsImEiLCJjcmVhdGVFbGVtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwic3R5bGUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsImxpc3RlbkFzeW5jIiwiZXZlbnRuYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLGNBQU4sQ0FDQTtBQUNDQyxhQUFXLENBQUNDLE1BQU0sR0FBRyxNQUFWLEVBQWtCO0FBQzVCLFNBQUtBLE1BQUwsR0FBY0EsTUFBTSxJQUFJLE1BQXhCO0FBQ0EsU0FBS0MsT0FBTCxHQUFlLElBQUlDLEdBQUosRUFBZjtBQUNBLFNBQUtDLFNBQUwsR0FBaUIsSUFBSUQsR0FBSixFQUFqQjtBQUNBLFNBQUtFLFlBQUwsR0FBcUIsSUFBSUYsR0FBSixFQUFyQjtBQUNBLFNBQUtHLFlBQUwsR0FBcUIsRUFBckI7QUFDQSxTQUFLQyxXQUFMLEdBQW9CLEVBQXBCO0FBQ0E7O0FBRURDLGdCQUFjLENBQUNDLEtBQUQsRUFBUTtBQUNyQixTQUFLRixXQUFMLEdBQW9CLEdBQUUsS0FBS04sTUFBTyxJQUFHUSxLQUFNLEVBQTNDO0FBQ0E7O0FBRURDLGdCQUFjLEdBQUc7QUFDaEIsV0FBTyxLQUFLSCxXQUFaO0FBQ0E7QUFFRDtBQUNEO0FBQ0E7OztBQUNDSSxRQUFNLENBQUVDLE1BQUYsRUFBVTtBQUNmLFVBQU07QUFBQ0MsZUFBRDtBQUFZQztBQUFaLFFBQW9CRixNQUExQjtBQUNBLFVBQU1HLEdBQUcsR0FBRyxLQUFLQyxNQUFMLENBQVlILFNBQVosRUFBdUJDLElBQXZCLENBQVo7O0FBQ0EsUUFBSUcsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSUMsTUFBSjs7QUFDQSxRQUFJLEtBQUtoQixPQUFMLENBQWFpQixHQUFiLENBQWlCSixHQUFqQixDQUFKLEVBQTJCO0FBQzFCRyxZQUFNLEdBQUcsS0FBS2hCLE9BQUwsQ0FBYWlCLEdBQWIsQ0FBaUJKLEdBQWpCLENBQVQ7QUFDQUssYUFBTyxDQUFDQyxHQUFSLENBQVksa0NBQVo7QUFDQTtBQUNBOztBQUVELFFBQUlDLFVBQVUsR0FBR0MsTUFBTSxDQUFDQyxRQUFQLENBQWdCQyxRQUFqQzs7QUFDQSxRQUFJRixNQUFNLENBQUNDLFFBQVAsQ0FBZ0JDLFFBQWhCLEtBQTZCLFFBQWpDLEVBQTJDO0FBQzFDSCxnQkFBVSxHQUFHQyxNQUFNLENBQUNHLE1BQVAsQ0FBY0YsUUFBZCxDQUF1QkMsUUFBcEM7QUFDQTs7QUFDRCxRQUFJQSxRQUFRLEdBQUdILFVBQVUsS0FBSyxPQUFmLEdBQXlCLElBQXpCLEdBQWdDLEtBQS9DO0FBRUEsVUFBTUssSUFBSSxHQUFHZixNQUFNLENBQUNlLElBQVAsR0FBY2YsTUFBTSxDQUFDZSxJQUFyQixHQUE0QixJQUF6QztBQUVBLFFBQUlDLFVBQVUsR0FBSSxHQUFFSCxRQUFTLE1BQUtGLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkssSUFBSyxJQUFHRixJQUFLLElBQUdaLEdBQUksRUFBdEU7O0FBRUEsUUFBSUgsTUFBTSxDQUFDaUIsSUFBWCxFQUFpQjtBQUNoQixVQUFJakIsTUFBTSxDQUFDaUIsSUFBUCxDQUFZQyxRQUFaLENBQXFCLEtBQXJCLENBQUosRUFBaUM7QUFDaENGLGtCQUFVLEdBQUksR0FBRWhCLE1BQU0sQ0FBQ2lCLElBQUssSUFBR2QsR0FBSSxFQUFuQztBQUNBLE9BRkQsTUFFTztBQUNOYSxrQkFBVSxHQUFJLEdBQUVILFFBQVMsTUFBS2IsTUFBTSxDQUFDaUIsSUFBSyxJQUFHRixJQUFLLElBQUdaLEdBQUksRUFBekQ7QUFDQTtBQUNEOztBQUVERyxVQUFNLEdBQUcsSUFBSWEsU0FBSixDQUFjSCxVQUFkLENBQVQ7O0FBRUFWLFVBQU0sQ0FBQ2MsTUFBUCxHQUFnQixVQUFTQyxLQUFULEVBQWdCO0FBQy9CYixhQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBcUJOLEdBQWpDO0FBQ0EsWUFBTW1CLFFBQVEsR0FBR2pCLEtBQUssQ0FBQ1osWUFBTixDQUFtQmMsR0FBbkIsQ0FBdUJKLEdBQXZCLEtBQStCLEVBQWhEO0FBQ0FLLGFBQU8sQ0FBQ0MsR0FBUixDQUFZYSxRQUFaO0FBQ0FBLGNBQVEsQ0FBQ0MsT0FBVCxDQUFpQkMsR0FBRyxJQUFJbEIsTUFBTSxDQUFDbUIsSUFBUCxDQUFZQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUgsR0FBZixDQUFaLENBQXhCOztBQUVBbkIsV0FBSyxDQUFDZixPQUFOLENBQWNzQyxHQUFkLENBQWtCekIsR0FBbEIsRUFBdUJHLE1BQXZCOztBQUNBRCxXQUFLLENBQUNaLFlBQU4sQ0FBbUJtQyxHQUFuQixDQUF1QnpCLEdBQXZCLEVBQTRCLEVBQTVCO0FBQ0EsS0FSRDs7QUFVQUcsVUFBTSxDQUFDdUIsT0FBUCxHQUFpQixVQUFTUixLQUFULEVBQWdCO0FBQ2hDLGNBQU9BLEtBQUssQ0FBQ1MsSUFBYjtBQUNDLGFBQUssSUFBTDtBQUFXO0FBQ1Z0QixpQkFBTyxDQUFDQyxHQUFSLENBQVksbUJBQVo7QUFDQTs7QUFDRDtBQUNDSixlQUFLLENBQUMwQixPQUFOLENBQWN6QixNQUFkLEVBQXNCSCxHQUF0Qjs7QUFDQUUsZUFBSyxDQUFDMkIsU0FBTixDQUFnQjFCLE1BQWhCLEVBQXdCTixNQUF4Qjs7QUFDQTtBQVBGO0FBU0EsS0FWRDs7QUFZQU0sVUFBTSxDQUFDMkIsT0FBUCxHQUFpQixVQUFTQyxHQUFULEVBQWM7QUFDOUIxQixhQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaOztBQUNBSixXQUFLLENBQUMwQixPQUFOLENBQWN6QixNQUFkLEVBQXNCSCxHQUF0Qjs7QUFDQUUsV0FBSyxDQUFDMkIsU0FBTixDQUFnQjFCLE1BQWhCLEVBQXdCTixNQUF4QjtBQUNBLEtBSkQ7O0FBTUFNLFVBQU0sQ0FBQzZCLFNBQVAsR0FBbUIsVUFBU0MsSUFBVCxFQUFlO0FBRWpDLFVBQUk7QUFDSCxZQUFJQSxJQUFJLENBQUNBLElBQUwsWUFBcUJDLElBQXpCLEVBQStCO0FBQzlCaEMsZUFBSyxDQUFDaUMsUUFBTixDQUFlRixJQUFJLENBQUNBLElBQXBCOztBQUNBO0FBQ0E7O0FBQ0QsWUFBSUcsUUFBUSxHQUFHYixJQUFJLENBQUNjLEtBQUwsQ0FBV0osSUFBSSxDQUFDQSxJQUFoQixDQUFmOztBQUNBLFlBQUlHLFFBQVEsQ0FBQ0gsSUFBVCxDQUFjZixLQUFsQixFQUF5QjtBQUV4QixjQUFJQSxLQUFLLEdBQUcsSUFBSW9CLFdBQUosQ0FBZ0JGLFFBQVEsQ0FBQ0gsSUFBVCxDQUFjZixLQUE5QixFQUFxQztBQUNoRHFCLGtCQUFNLEVBQUVILFFBQVEsQ0FBQ0g7QUFEK0IsV0FBckMsQ0FBWjtBQUdBTyxrQkFBUSxDQUFDQyxhQUFULENBQXVCdkIsS0FBdkI7QUFDQTtBQUNBOztBQUNELFlBQUl3QixNQUFNLEdBQUdOLFFBQVEsQ0FBQ00sTUFBdEI7O0FBQ0EsY0FBTXJELFNBQVMsR0FBR2EsS0FBSyxDQUFDYixTQUFOLENBQWdCZSxHQUFoQixDQUFvQmdDLFFBQVEsQ0FBQ00sTUFBN0IsQ0FBbEI7O0FBQ0EsWUFBSSxDQUFDckQsU0FBTCxFQUFnQjtBQUNmO0FBQ0E7O0FBQ0RBLGlCQUFTLENBQUMrQixPQUFWLENBQWtCdUIsUUFBUSxJQUFJO0FBQzdCQSxrQkFBUSxDQUFDUCxRQUFRLENBQUNILElBQVYsRUFBZ0JqQyxHQUFoQixDQUFSO0FBQ0EsU0FGRDtBQUdBLE9BdEJELENBc0JFLE9BQU80QyxDQUFQLEVBQVU7QUFDWHZDLGVBQU8sQ0FBQ0MsR0FBUixDQUFZc0MsQ0FBWjtBQUNBO0FBQ0QsS0EzQkQ7QUE0QkE7QUFFRDtBQUNEO0FBQ0E7OztBQUNDdEIsTUFBSSxDQUFFb0IsTUFBRixFQUFVVCxJQUFWLEVBQWdCbEMsSUFBaEIsRUFBc0I7QUFDekIsVUFBTThDLEdBQUcsR0FBRztBQUNYSCxZQUFNLEVBQUVBLE1BREc7QUFFWFQsVUFBSSxFQUFFQTtBQUZLLEtBQVo7QUFJQSxVQUFNakMsR0FBRyxHQUFHLEtBQUs4QyxZQUFMLENBQWtCL0MsSUFBbEIsQ0FBWjtBQUNBLFVBQU1JLE1BQU0sR0FBRyxLQUFLNEMsU0FBTCxDQUFlaEQsSUFBZixDQUFmOztBQUVBLFFBQUlJLE1BQUosRUFBWTtBQUNYQSxZQUFNLENBQUNtQixJQUFQLENBQVlDLElBQUksQ0FBQ0MsU0FBTCxDQUFlcUIsR0FBZixDQUFaO0FBQ0EsS0FGRCxNQUVPO0FBQ04sVUFBSSxLQUFLdkQsWUFBTCxDQUFrQmMsR0FBbEIsQ0FBc0JKLEdBQXRCLENBQUosRUFBZ0M7QUFDL0IsYUFBS1YsWUFBTCxDQUFrQmMsR0FBbEIsQ0FBc0JKLEdBQXRCLEVBQTJCZ0QsSUFBM0IsQ0FBZ0NILEdBQWhDO0FBQ0EsT0FGRCxNQUVPO0FBQ04sYUFBS3ZELFlBQUwsQ0FBa0JtQyxHQUFsQixDQUFzQnpCLEdBQXRCLEVBQTJCLENBQUM2QyxHQUFELENBQTNCO0FBQ0E7QUFDRDtBQUNEOztBQUVESSxVQUFRLENBQUVDLElBQUYsRUFBUW5ELElBQVIsRUFBYztBQUNyQixVQUFNSSxNQUFNLEdBQUcsS0FBSzRDLFNBQUwsQ0FBZWhELElBQWYsQ0FBZjs7QUFDQSxRQUFJSSxNQUFKLEVBQVk7QUFDWEEsWUFBTSxDQUFDbUIsSUFBUCxDQUFZNEIsSUFBWjtBQUNBO0FBQ0Q7QUFFRDtBQUNEO0FBQ0E7OztBQUNDQyxRQUFNLENBQUNDLElBQUQsRUFBT0MsUUFBUCxFQUFpQjtBQUN0QixRQUFJLENBQUMsS0FBS2hFLFNBQUwsQ0FBZWUsR0FBZixDQUFtQmdELElBQW5CLENBQUwsRUFBK0I7QUFDOUIsV0FBSy9ELFNBQUwsQ0FBZW9DLEdBQWYsQ0FBbUIyQixJQUFuQixFQUF5QixDQUFDQyxRQUFELENBQXpCO0FBQ0EsS0FGRCxNQUVPO0FBQ04sV0FBS2hFLFNBQUwsQ0FBZWUsR0FBZixDQUFtQmdELElBQW5CLEVBQXlCSixJQUF6QixDQUE4QkssUUFBOUI7QUFDQTtBQUNEOztBQUVEeEIsV0FBUyxDQUFDMUIsTUFBRCxFQUFTTixNQUFULEVBQWlCO0FBQ3pCLFFBQUlLLEtBQUssR0FBRyxJQUFaOztBQUNBb0QsY0FBVSxDQUFDLFlBQVc7QUFDckJwRCxXQUFLLENBQUNOLE1BQU4sQ0FBYUMsTUFBYjtBQUNBLEtBRlMsRUFFUCxJQUZPLENBQVY7QUFHQTs7QUFFRCtCLFNBQU8sQ0FBQ3pCLE1BQUQsRUFBU0gsR0FBVCxFQUFjO0FBQ3BCLFFBQUlHLE1BQUosRUFBWTtBQUNYQSxZQUFNLENBQUMyQixPQUFQLEdBQWlCM0IsTUFBTSxDQUFDYyxNQUFQLEdBQWdCZCxNQUFNLENBQUN1QixPQUFQLEdBQWlCLElBQWxEO0FBQ0F2QixZQUFNLENBQUNvRCxLQUFQO0FBQ0FwRCxZQUFNLEdBQUcsSUFBVDtBQUNBOztBQUVELFFBQUksS0FBS2hCLE9BQUwsQ0FBYWlCLEdBQWIsQ0FBaUJKLEdBQWpCLENBQUosRUFBMkI7QUFDMUIsV0FBS2IsT0FBTCxDQUFhcUUsTUFBYixDQUFvQnhELEdBQXBCO0FBQ0E7QUFDRDs7QUFFREMsUUFBTSxDQUFDSCxTQUFELEVBQVlDLElBQVosRUFBa0I7QUFDdkIsUUFBSUMsR0FBRyxHQUFJLEdBQUUsS0FBS2QsTUFBTyxFQUF6Qjs7QUFDQSxRQUFJWSxTQUFTLElBQUlBLFNBQVMsSUFBSSxFQUE5QixFQUFrQztBQUNqQyxVQUFJQyxJQUFJLElBQUtBLElBQUksSUFBSSxFQUFyQixFQUF5QjtBQUN4QkMsV0FBRyxJQUFLLElBQUdGLFNBQVUsSUFBR0MsSUFBSyxFQUE3QjtBQUNBLE9BRkQsTUFFTztBQUNOQyxXQUFHLElBQUksSUFBR0YsU0FBVSxFQUFwQjtBQUNBO0FBQ0Q7O0FBQ0QsV0FBT0UsR0FBUDtBQUNBOztBQUVEK0MsV0FBUyxDQUFDaEQsSUFBRCxFQUFPO0FBQ2YsUUFBSUMsR0FBRyxHQUFHLEtBQUs4QyxZQUFMLENBQWtCL0MsSUFBbEIsQ0FBVjtBQUNBLFdBQU8sS0FBS1osT0FBTCxDQUFhaUIsR0FBYixDQUFpQkosR0FBakIsQ0FBUDtBQUNBOztBQUVEOEMsY0FBWSxDQUFDL0MsSUFBRCxFQUFPO0FBQ2xCLFFBQUlDLEdBQUcsR0FBRyxLQUFLUixXQUFmOztBQUNBLFFBQUlPLElBQUosRUFBVTtBQUNUQyxTQUFHLEdBQUksR0FBRSxLQUFLZCxNQUFPLElBQUdhLElBQUssRUFBN0I7QUFDQTs7QUFDRCxXQUFPQyxHQUFQO0FBQ0E7O0FBR0RtQyxVQUFRLENBQUNzQixJQUFELEVBQU87QUFDZDtBQUVBLFVBQU1DLFNBQVMsR0FBRyxLQUFLbkUsWUFBTCxJQUFxQixjQUF2QztBQUNBLFFBQUlvRSxDQUFDLEdBQUduQixRQUFRLENBQUNvQixhQUFULENBQXVCLEdBQXZCLENBQVI7QUFDTXBCLFlBQVEsQ0FBQ3FCLElBQVQsQ0FBY0MsV0FBZCxDQUEwQkgsQ0FBMUI7QUFDQUEsS0FBQyxDQUFDSSxLQUFGLEdBQVUsZUFBVjtBQUVBLFFBQUlDLEdBQUcsR0FBR3hELE1BQU0sQ0FBQ3lELEdBQVAsQ0FBV0MsZUFBWCxDQUEyQlQsSUFBM0IsQ0FBVjtBQUNBRSxLQUFDLENBQUNRLElBQUYsR0FBU0gsR0FBVDtBQUNBTCxLQUFDLENBQUNTLFFBQUYsR0FBYVYsU0FBYjtBQUNBQyxLQUFDLENBQUNVLEtBQUY7QUFDQTdELFVBQU0sQ0FBQ3lELEdBQVAsQ0FBV0ssZUFBWCxDQUEyQk4sR0FBM0I7QUFFQSxTQUFLekUsWUFBTCxHQUFvQixFQUFwQjtBQUNOOztBQUVEZ0YsYUFBVyxDQUFDQyxTQUFELEVBQVk7QUFDdEIsV0FBTyxJQUFJQyxPQUFKLENBQWFDLE9BQUQsSUFBYTtBQUMvQmxDLGNBQVEsQ0FBQ21DLGdCQUFULENBQTBCSCxTQUExQixFQUFxQyxVQUFTdEQsS0FBVCxFQUFnQjtBQUNqRHdELGVBQU8sQ0FBQ3hELEtBQUssQ0FBQ3FCLE1BQVAsQ0FBUDtBQUNILE9BRkQsRUFFRztBQUFFcUMsWUFBSSxFQUFFO0FBQVIsT0FGSDtBQUlBLEtBTE0sQ0FBUDtBQU1BOztBQTNORjs7ZUErTmU1RixjIiwiZmlsZSI6Ii4uL0NvQ3JlYXRlLXNvY2tldC9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDb0NyZWF0ZVNvY2tldFxue1xuXHRjb25zdHJ1Y3RvcihwcmVmaXggPSBcImNydWRcIikge1xuXHRcdHRoaXMucHJlZml4ID0gcHJlZml4IHx8IFwiY3J1ZFwiO1xuXHRcdHRoaXMuc29ja2V0cyA9IG5ldyBNYXAoKTtcblx0XHR0aGlzLmxpc3RlbmVycyA9IG5ldyBNYXAoKTtcblx0XHR0aGlzLm1lc3NhZ2VRdWV1ZSA9ICBuZXcgTWFwKCk7XG5cdFx0dGhpcy5zYXZlRmlsZU5hbWUgPSAgJyc7XG5cdFx0dGhpcy5nbG9iYWxTY29wZSA9ICBcIlwiO1xuXHR9XG5cblx0c2V0R2xvYmFsU2NvcGUoc2NvcGUpIHtcblx0XHR0aGlzLmdsb2JhbFNjb3BlID0gYCR7dGhpcy5wcmVmaXh9LyR7c2NvcGV9YDtcblx0fVxuXHRcblx0Z2V0R2xvYmFsU2NvcGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2xvYmFsU2NvcGU7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjb25maWc6IHtuYW1lc3BhY2UsIHJvb20sIGhvc3R9XG5cdCAqL1xuXHRjcmVhdGUgKGNvbmZpZykge1xuXHRcdGNvbnN0IHtuYW1lc3BhY2UsIHJvb219ID0gY29uZmlnO1xuXHRcdGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KG5hbWVzcGFjZSwgcm9vbSk7XG5cdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRsZXQgc29ja2V0O1xuXHRcdGlmICh0aGlzLnNvY2tldHMuZ2V0KGtleSkpIHtcblx0XHRcdHNvY2tldCA9IHRoaXMuc29ja2V0cy5nZXQoa2V5KTtcblx0XHRcdGNvbnNvbGUubG9nKCdTT2NrZXQgYWxyZWFkeSBoYXMgYmVlbiByZWdpc3RlcicpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRsZXQgd19wcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcdFx0XG5cdFx0aWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJhYm91dDpcIikge1xuXHRcdFx0d19wcm90b2NvbCA9IHdpbmRvdy5wYXJlbnQubG9jYXRpb24ucHJvdG9jb2w7XG5cdFx0fVxuXHRcdGxldCBwcm90b2NvbCA9IHdfcHJvdG9jb2wgPT09ICdodHRwOicgPyAnd3MnIDogJ3dzcyc7XG5cdFx0XG5cdFx0Y29uc3QgcG9ydCA9IGNvbmZpZy5wb3J0ID8gY29uZmlnLnBvcnQgOiA4MDg4O1xuXHRcdFxuXHRcdGxldCBzb2NrZXRfdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH06JHtwb3J0fS8ke2tleX1gO1xuXHRcdFxuXHRcdGlmIChjb25maWcuaG9zdCkge1xuXHRcdFx0aWYgKGNvbmZpZy5ob3N0LmluY2x1ZGVzKFwiOi8vXCIpKSB7XG5cdFx0XHRcdHNvY2tldF91cmwgPSBgJHtjb25maWcuaG9zdH0vJHtrZXl9YDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNvY2tldF91cmwgPSBgJHtwcm90b2NvbH06Ly8ke2NvbmZpZy5ob3N0fToke3BvcnR9LyR7a2V5fWA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoc29ja2V0X3VybCk7XG5cdFx0XG5cdFx0c29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRjb25zb2xlLmxvZygnY3JlYXRlZCBzb2NrZXQ6ICcgKyBrZXkpO1xuXHRcdFx0Y29uc3QgbWVzc2FnZXMgPSBfdGhpcy5tZXNzYWdlUXVldWUuZ2V0KGtleSkgfHwgW107XG5cdFx0XHRjb25zb2xlLmxvZyhtZXNzYWdlcylcblx0XHRcdG1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpKTtcblx0XHRcdFxuXHRcdFx0X3RoaXMuc29ja2V0cy5zZXQoa2V5LCBzb2NrZXQpO1xuXHRcdFx0X3RoaXMubWVzc2FnZVF1ZXVlLnNldChrZXksIFtdKTtcblx0XHR9XG5cdFx0XG5cdFx0c29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0c3dpdGNoKGV2ZW50LmNvZGUpIHtcblx0XHRcdFx0Y2FzZSAxMDAwOiAvLyBjbG9zZSBub3JtYWxcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIndlYnNvY2tldDogY2xvc2VkXCIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OiBcblx0XHRcdFx0XHRfdGhpcy5kZXN0cm95KHNvY2tldCwga2V5KTtcblx0XHRcdFx0XHRfdGhpcy5yZWNvbm5lY3Qoc29ja2V0LCBjb25maWcpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRzb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uKGVycikge1xuXHRcdFx0Y29uc29sZS5sb2coJ1NvY2tldCBlcnJvcicpO1xuXHRcdFx0X3RoaXMuZGVzdHJveShzb2NrZXQsIGtleSk7XG5cdFx0XHRfdGhpcy5yZWNvbm5lY3Qoc29ja2V0LCBjb25maWcpO1xuXHRcdH1cblxuXHRcdHNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChkYXRhLmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG5cdFx0XHRcdFx0X3RoaXMuc2F2ZUZpbGUoZGF0YS5kYXRhKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IHJldl9kYXRhID0gSlNPTi5wYXJzZShkYXRhLmRhdGEpO1xuXHRcdFx0XHRpZiAocmV2X2RhdGEuZGF0YS5ldmVudCkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChyZXZfZGF0YS5kYXRhLmV2ZW50LCB7XG5cdFx0XHRcdFx0XHRkZXRhaWw6IHJldl9kYXRhLmRhdGFcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgYWN0aW9uID0gcmV2X2RhdGEuYWN0aW9uO1xuXHRcdFx0XHRjb25zdCBsaXN0ZW5lcnMgPSBfdGhpcy5saXN0ZW5lcnMuZ2V0KHJldl9kYXRhLmFjdGlvbik7XG5cdFx0XHRcdGlmICghbGlzdGVuZXJzKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcblx0XHRcdFx0XHRsaXN0ZW5lcihyZXZfZGF0YS5kYXRhLCBrZXkpO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBcblx0ICovXG5cdHNlbmQgKGFjdGlvbiwgZGF0YSwgcm9vbSkge1xuXHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdGFjdGlvbjogYWN0aW9uLFxuXHRcdFx0ZGF0YTogZGF0YVxuXHRcdH1cblx0XHRjb25zdCBrZXkgPSB0aGlzLmdldEtleUJ5Um9vbShyb29tKTtcblx0XHRjb25zdCBzb2NrZXQgPSB0aGlzLmdldEJ5Um9vbShyb29tKTtcblx0XHRcblx0XHRpZiAoc29ja2V0KSB7XG5cdFx0XHRzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShvYmopKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpKSB7XG5cdFx0XHRcdHRoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpLnB1c2gob2JqKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubWVzc2FnZVF1ZXVlLnNldChrZXksIFtvYmpdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHNlbmRGaWxlIChmaWxlLCByb29tKSB7XG5cdFx0Y29uc3Qgc29ja2V0ID0gdGhpcy5nZXRCeVJvb20ocm9vbSk7XG5cdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0c29ja2V0LnNlbmQoZmlsZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIHNjb3BlOiBucy9yb29tXG5cdCAqL1xuXHRsaXN0ZW4odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIXRoaXMubGlzdGVuZXJzLmdldCh0eXBlKSkge1xuXHRcdFx0dGhpcy5saXN0ZW5lcnMuc2V0KHR5cGUsIFtjYWxsYmFja10pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmxpc3RlbmVycy5nZXQodHlwZSkucHVzaChjYWxsYmFjayk7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZWNvbm5lY3Qoc29ja2V0LCBjb25maWcpIHtcblx0XHRsZXQgX3RoaXMgPSB0aGlzO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRfdGhpcy5jcmVhdGUoY29uZmlnKTtcblx0XHR9LCAxMDAwKVxuXHR9XG5cdFxuXHRkZXN0cm95KHNvY2tldCwga2V5KSB7XG5cdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0c29ja2V0Lm9uZXJyb3IgPSBzb2NrZXQub25vcGVuID0gc29ja2V0Lm9uY2xvc2UgPSBudWxsO1xuXHRcdFx0c29ja2V0LmNsb3NlKCk7XG5cdFx0XHRzb2NrZXQgPSBudWxsO1xuXHRcdH1cblx0XHRcblx0XHRpZiAodGhpcy5zb2NrZXRzLmdldChrZXkpKSB7XG5cdFx0XHR0aGlzLnNvY2tldHMuZGVsZXRlKGtleSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRnZXRLZXkobmFtZXNwYWNlLCByb29tKSB7XG5cdFx0bGV0IGtleSA9IGAke3RoaXMucHJlZml4fWA7XG5cdFx0aWYgKG5hbWVzcGFjZSAmJiBuYW1lc3BhY2UgIT0gJycpIHtcblx0XHRcdGlmIChyb29tICYmICByb29tICE9ICcnKSB7XG5cdFx0XHRcdGtleSArPSBgLyR7bmFtZXNwYWNlfS8ke3Jvb219YDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGtleSArPWAvJHtuYW1lc3BhY2V9YDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGtleTtcblx0fVxuXHRcblx0Z2V0QnlSb29tKHJvb20pIHtcblx0XHRsZXQga2V5ID0gdGhpcy5nZXRLZXlCeVJvb20ocm9vbSlcblx0XHRyZXR1cm4gdGhpcy5zb2NrZXRzLmdldChrZXkpO1x0XG5cdH1cblx0XG5cdGdldEtleUJ5Um9vbShyb29tKSB7XG5cdFx0bGV0IGtleSA9IHRoaXMuZ2xvYmFsU2NvcGU7XG5cdFx0aWYgKHJvb20pIHtcblx0XHRcdGtleSA9IGAke3RoaXMucHJlZml4fS8ke3Jvb219YDtcblx0XHR9XG5cdFx0cmV0dXJuIGtleTtcdFx0XG5cdH1cblx0XG5cdFxuXHRzYXZlRmlsZShibG9iKSB7XG5cdFx0Ly8gY29uc3Qge2ZpbGVuYW1lfSA9IHdpbmRvdy5zYXZlRmlsZUluZm87XG5cdFx0XG5cdFx0Y29uc3QgZmlsZV9uYW1lID0gdGhpcy5zYXZlRmlsZU5hbWUgfHwgJ2Rvd25sb2FkRmlsZSc7XG5cdFx0dmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgYS5zdHlsZSA9IFwiZGlzcGxheTogbm9uZVwiO1xuXG4gICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gZmlsZV9uYW1lO1xuICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cbiAgICAgICAgdGhpcy5zYXZlRmlsZU5hbWUgPSAnJ1xuXHR9XG5cdFxuXHRsaXN0ZW5Bc3luYyhldmVudG5hbWUpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0ICAgIHJlc29sdmUoZXZlbnQuZGV0YWlsKTtcblx0XHRcdH0sIHsgb25jZTogdHJ1ZSB9KVxuXHRcdFx0XG5cdFx0fSlcblx0fVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlU29ja2V0O1xuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-socket/src/index.js\n")},"../CoCreate-utils/src/index.js":(__unused_webpack_module,exports)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.generateUUID = generateUUID;\nexports.isRealTime = isRealTime;\nexports.getParentFromElement = getParentFromElement;\nexports.isReadValue = isReadValue;\nexports.isUpdateValue = isUpdateValue;\nexports.isJsonString = isJsonString;\nexports.getAttributes = getAttributes;\nexports.checkValue = checkValue;\nexports.allFrame = allFrame;\nexports.cssPath = cssPath;\nexports.getTopMostWindow = getTopMostWindow;\nexports.findIframeFromElement = findIframeFromElement;\nexports.getIframeFromPath = getIframeFromPath;\nexports.configMatch = configMatch;\nexports.configExecuter = configExecuter;\nexports.UUID = UUID;\nexports.parseTextToHtml = parseTextToHtml;\nexports.splitBydelimiter = splitBydelimiter;\nexports.joinBydelimiter = joinBydelimiter;\nexports.isValidSelector = isValidSelector;\nexports.getElementPath = getElementPath;\nexports.isUsageY = isUsageY;\nexports.default = void 0;\n\n/**\n * Created by jin\n * 2020-04-03\n */\nfunction generateUUID(length = 36) {\n  // if (length == 10) {\n  //   var result           = \'\';\n  //   var characters       = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\';\n  //   var charactersLength = characters.length;\n  //   for ( var i = 0; i < length; i++ ) {\n  //     result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  //   }\n  //   var dd = new Date().toTimeString();\n  //   var random = dd.replace(/[\\W_]+/g, "").substr(0,6);\n  //   result += random;\n  //   return result;\n  // }\n  let d = new Date().getTime();\n  let d2 = window.performance && window.performance.now && window.performance.now() * 1000 || 0;\n  let pattern = "uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";\n\n  if (length <= pattern.length) {\n    pattern = pattern.substr(0, length);\n  } else {\n    let add_len = length - pattern.length;\n    let sub_pattern = "-xxxyyxxx";\n    let group_n = Math.floor(add_len / sub_pattern.length);\n\n    for (let i = 0; i < group_n; i++) {\n      pattern += sub_pattern;\n    }\n\n    group_n = add_len - group_n * sub_pattern.length;\n    pattern += sub_pattern.substr(0, group_n);\n  }\n\n  let uuid = pattern.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16;\n\n    if (d > 0) {\n      var r = (d + r) % 16 | 0;\n      d = Math.floor(d / 16);\n    } else {\n      var r = (d2 + r) % 16 | 0;\n      d2 = Math.floor(d2 / 16);\n    }\n\n    return (c == "x" ? r : r & 0x7 | 0x8).toString(16);\n  });\n  return uuid;\n}\n\nfunction isRealTime(element, parent_realTime) {\n  let realtime = element.getAttribute("data-realtime") || parent_realTime;\n\n  if (realtime === "false") {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getParentFromElement(element, parent_class, attributes) {\n  if (parent_class) {\n    if (element.classList.contains(parent_class)) {\n      return element;\n    }\n\n    let node = element.parentNode;\n\n    while (node != null && node.classList) {\n      if (node.classList.contains(parent_class)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n  } else if (attributes) {\n    if (attributes.every(attr => element.attributes.hasOwnProperty(attr))) {\n      return element;\n    }\n\n    let node = element.parentNode;\n\n    while (node != null && node.attributes) {\n      if (attributes.every(attr => node.attributes.hasOwnProperty(attr))) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n  }\n\n  return false;\n}\n\nfunction isReadValue(element) {\n  return element.getAttribute("data-read_value") != "false";\n}\n\nfunction isUpdateValue(element) {\n  return element.getAttribute("data-update_value") != "false";\n}\n\nfunction isJsonString(str_data) {\n  try {\n    let json_data = JSON.parse(str_data);\n\n    if (typeof json_data === "object" && json_data != null) {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getAttributes(element) {\n  return element.getAttributeNames().reduce((attrMap, name) => {\n    attrMap[name] = element.getAttribute(name);\n    return attrMap;\n  }, {});\n}\n\nfunction checkValue(value) {\n  if (!value) return false;\n\n  if (/{{\\s*([\\w\\W]+)\\s*}}/g.test(value)) {\n    return false;\n  }\n\n  return true;\n} // hosseins utills\n// function to go through all frames\n\n\nfunction allFrame(callback) {\n  let allFrames = [{\n    document,\n    window\n  }];\n\n  for (let frame of document.querySelectorAll("iframe")) {\n    let frameDocument = frame.contentDocument || frame.contentWindow.document;\n    let frameWindow = frame.contentWindow;\n    allFrames.push({\n      document: frameDocument,\n      window: frameWindow,\n      frameElement: frame\n    });\n  }\n\n  let result = new Set();\n\n  for (let frame of allFrames) {\n    let callbackResult = callback(frame);\n    if (callbackResult && typeof callbackResult[Symbol.iterator] === "function") callbackResult.forEach(el => result.add(el));else if (callbackResult) result.add(callbackResult);\n  }\n\n  return Array.from(result);\n}\n\nfunction cssPath(node) {\n  let pathSplits = [];\n\n  do {\n    if (!node || !node.tagName) return false;\n    let pathSplit = node.tagName.toLowerCase();\n    if (node.id && node.tagName !== "BODY") pathSplit += "#" + node.id;\n\n    if (node.classList.length && node.tagName !== "BODY") {\n      node.classList.forEach(item => {\n        if (item.indexOf(":") === -1) pathSplit += "." + item;\n      });\n    }\n\n    if (node.tagName !== "BODY" && node.parentNode) {\n      let index = Array.prototype.indexOf.call(node.parentNode.children, node);\n      pathSplit += `:nth-child(${index + 1})`;\n    }\n\n    pathSplits.unshift(pathSplit);\n    node = node.parentNode;\n  } while (node.tagName !== "HTML");\n\n  return pathSplits.join(" > ");\n}\n\nfunction getTopMostWindow() {\n  let parentWindow = window;\n\n  while (parentWindow !== window.parent) parentWindow = window.parent;\n\n  return parentWindow;\n}\n\nfunction findIframeFromElement(windowObject, element) {\n  let frameElement;\n  allFrame(frame => {\n    if (frame.document.contains(element)) frameElement = frame.frameElement; // window.cc.findIframeFromElement(frame.window, element);\n  });\n  return frameElement;\n}\n\nfunction getIframeFromPath(path) {\n  let topWindow = getTopMostWindow;\n  path.forEach(selector => {\n    if (topWindow) topWindow = topWindow.querySelector(selector);\n  });\n  return topWindow;\n} // DO NOT REMOVE\n\n\nfunction* configMatch(elementConfig, element) {\n  for (let config of elementConfig) {\n    // if (!Array.isArray(config.selector))\n    //   config.selector = [config.selector];\n    if (config.selector && element.matches(config.selector)) yield config;\n  }\n\n  return;\n} // export function configMatch2(elementConfig, element) {\n//   let result = [];\n//   for (let config of elementConfig) {\n//     if (config.selector && element.matches(config.selector)) result.push(config);\n//   }\n//   return result;\n// }\n// DO NOT REMOVE\n// an opiniated function uses configMatch2 to read configs\n// WARNING: the config iterated from top to bottom. for deseired effect elementConfig should be reveresed\n// typeof elementConfig: array of objects and every objects containing keys as false, true or a selector \n// element: the element to read attributes\n// key: the key in which is in elementConfig and on match onSuccess callback will be called\n\n\nfunction configExecuter(element, key, onSuccess, elementConfig) {\n  for (let config of configMatch(elementConfig || window.elementConfig, element)) if (config[key] === true) return onSuccess(element, config);else if (config[key] === false) return false;else if (config[key] === undefined) continue;else if (isValidSelector(config[key])) return onSuccess(element, config, true);else console.warn("builder: wrong element config ", config);\n\n  return false;\n}\n\nfunction UUID(length = 10) {\n  var result = "";\n  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  var d = new Date().toTimeString();\n  var random = d.replace(/[\\W_]+/g, "").substr(0, 6);\n  result += random;\n  return result;\n}\n\nfunction parseTextToHtml(text) {\n  let doc = new DOMParser().parseFromString(text, "text/html");\n  if (doc.head.children[0]) return doc.head.children[0];else return doc.body.children[0];\n}\n\nfunction splitBydelimiter(str, delimiter) {\n  return str.split(delimiter).map(s => s.trim());\n}\n\nfunction joinBydelimiter(str, delimiter) {\n  return str.map(s => s.trim()).join(delimiter);\n}\n\nfunction isValidSelector(selector) {\n  try {\n    document.createDocumentFragment().querySelector(selector);\n  } catch (error) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getElementPath(element, returnContext) {\n  let path = [];\n  let topWindow = window;\n  let iframeElement = findIframeFromElement(topWindow, element);\n  let p = cssPath(iframeElement);\n  if (p) path.unshift(p);\n  return returnContext ? {\n    path,\n    document: iframeElement || document\n  } : path; //todo: support for nested iframe\n  // while(iframeElement !== findIframeFromElement(topWindow,iframeElement))\n  // {\n  //   iframeElement = findIframeFromElement(topWindow,iframeElement);\n  //   path.unshift(cssPath(iframeElement))\n  // }\n}\n\nfunction isUsageY(input) {\n  if (this.isJsonString(input.getAttribute(\'data-collection\'))) {\n    return false;\n  }\n\n  if (this.isJsonString(input.getAttribute(\'name\'))) {\n    return false;\n  }\n\n  if (input.tagName === "INPUT" && ["text", "email", "tel", "url"].includes(input.type) || input.tagName === "TEXTAREA") {\n    if (!input.getAttribute(\'name\')) {\n      return false;\n    }\n\n    if (input.getAttribute("data-realtime") == "false") {\n      return false;\n    }\n\n    if (input.getAttribute("data-unique") === "true") {\n      return false;\n    }\n\n    if (input.type === \'password\') {\n      return false;\n    }\n\n    if (!this.isReadValue(input)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nvar _default = {\n  isUsageY,\n  getElementPath,\n  isValidSelector,\n  joinBydelimiter,\n  splitBydelimiter,\n  parseTextToHtml,\n  UUID,\n  configExecuter,\n  configMatch,\n  getIframeFromPath,\n  findIframeFromElement,\n  getTopMostWindow,\n  cssPath,\n  allFrame,\n  checkValue,\n  getAttributes,\n  isJsonString,\n  isUpdateValue,\n  isReadValue,\n  getParentFromElement,\n  isRealTime,\n  generateUUID\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXV0aWxzL3NyYy9pbmRleC5qcz9iMGQxIl0sIm5hbWVzIjpbImdlbmVyYXRlVVVJRCIsImxlbmd0aCIsImQiLCJEYXRlIiwiZ2V0VGltZSIsImQyIiwid2luZG93IiwicGVyZm9ybWFuY2UiLCJub3ciLCJwYXR0ZXJuIiwic3Vic3RyIiwiYWRkX2xlbiIsInN1Yl9wYXR0ZXJuIiwiZ3JvdXBfbiIsIk1hdGgiLCJmbG9vciIsImkiLCJ1dWlkIiwicmVwbGFjZSIsImMiLCJyIiwicmFuZG9tIiwidG9TdHJpbmciLCJpc1JlYWxUaW1lIiwiZWxlbWVudCIsInBhcmVudF9yZWFsVGltZSIsInJlYWx0aW1lIiwiZ2V0QXR0cmlidXRlIiwiZ2V0UGFyZW50RnJvbUVsZW1lbnQiLCJwYXJlbnRfY2xhc3MiLCJhdHRyaWJ1dGVzIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJub2RlIiwicGFyZW50Tm9kZSIsImV2ZXJ5IiwiYXR0ciIsImhhc093blByb3BlcnR5IiwiaXNSZWFkVmFsdWUiLCJpc1VwZGF0ZVZhbHVlIiwiaXNKc29uU3RyaW5nIiwic3RyX2RhdGEiLCJqc29uX2RhdGEiLCJKU09OIiwicGFyc2UiLCJlIiwiZ2V0QXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZU5hbWVzIiwicmVkdWNlIiwiYXR0ck1hcCIsIm5hbWUiLCJjaGVja1ZhbHVlIiwidmFsdWUiLCJ0ZXN0IiwiYWxsRnJhbWUiLCJjYWxsYmFjayIsImFsbEZyYW1lcyIsImRvY3VtZW50IiwiZnJhbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZnJhbWVEb2N1bWVudCIsImNvbnRlbnREb2N1bWVudCIsImNvbnRlbnRXaW5kb3ciLCJmcmFtZVdpbmRvdyIsInB1c2giLCJmcmFtZUVsZW1lbnQiLCJyZXN1bHQiLCJTZXQiLCJjYWxsYmFja1Jlc3VsdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZm9yRWFjaCIsImVsIiwiYWRkIiwiQXJyYXkiLCJmcm9tIiwiY3NzUGF0aCIsInBhdGhTcGxpdHMiLCJ0YWdOYW1lIiwicGF0aFNwbGl0IiwidG9Mb3dlckNhc2UiLCJpZCIsIml0ZW0iLCJpbmRleE9mIiwiaW5kZXgiLCJwcm90b3R5cGUiLCJjYWxsIiwiY2hpbGRyZW4iLCJ1bnNoaWZ0Iiwiam9pbiIsImdldFRvcE1vc3RXaW5kb3ciLCJwYXJlbnRXaW5kb3ciLCJwYXJlbnQiLCJmaW5kSWZyYW1lRnJvbUVsZW1lbnQiLCJ3aW5kb3dPYmplY3QiLCJnZXRJZnJhbWVGcm9tUGF0aCIsInBhdGgiLCJ0b3BXaW5kb3ciLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJjb25maWdNYXRjaCIsImVsZW1lbnRDb25maWciLCJjb25maWciLCJtYXRjaGVzIiwiY29uZmlnRXhlY3V0ZXIiLCJrZXkiLCJvblN1Y2Nlc3MiLCJ1bmRlZmluZWQiLCJpc1ZhbGlkU2VsZWN0b3IiLCJjb25zb2xlIiwid2FybiIsIlVVSUQiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsImNoYXJBdCIsInRvVGltZVN0cmluZyIsInBhcnNlVGV4dFRvSHRtbCIsInRleHQiLCJkb2MiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJoZWFkIiwiYm9keSIsInNwbGl0QnlkZWxpbWl0ZXIiLCJzdHIiLCJkZWxpbWl0ZXIiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiam9pbkJ5ZGVsaW1pdGVyIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImVycm9yIiwiZ2V0RWxlbWVudFBhdGgiLCJyZXR1cm5Db250ZXh0IiwiaWZyYW1lRWxlbWVudCIsInAiLCJpc1VzYWdlWSIsImlucHV0IiwiaW5jbHVkZXMiLCJ0eXBlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR08sU0FBU0EsWUFBVCxDQUFzQkMsTUFBTSxHQUFHLEVBQS9CLEVBQW1DO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBSWJzQixpQkFKYTtBQUtiUCxrQkFMYTtBQU1iUCxpQkFOYTtBQU9iTCxNQVBhO0FBUWJQLGdCQVJhO0FBU2JKLGFBVGE7QUFVYkwsbUJBVmE7QUFXYkYsdUJBWGE7QUFZYkgsa0JBWmE7QUFhYmQsU0FiYTtBQWNidEIsVUFkYTtBQWViSCxZQWZhO0FBZ0JiTCxlQWhCYTtBQWlCYk4sY0FqQmE7QUFrQmJELGVBbEJhO0FBbUJiRCxhQW5CYTtBQW9CYlYsc0JBcEJhO0FBcUJiTCxZQXJCYTtBQXNCYnZCO0FBdEJhLEMiLCJmaWxlIjoiLi4vQ29DcmVhdGUtdXRpbHMvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGppblxuICogMjAyMC0wNC0wM1xuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRChsZW5ndGggPSAzNikge1xuICAvLyBpZiAobGVuZ3RoID09IDEwKSB7XG4gIC8vICAgdmFyIHJlc3VsdCAgICAgICAgICAgPSAnJztcbiAgLy8gICB2YXIgY2hhcmFjdGVycyAgICAgICA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gIC8vICAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgLy8gICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgLy8gICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG4gIC8vICAgfVxuXG4gIC8vICAgdmFyIGRkID0gbmV3IERhdGUoKS50b1RpbWVTdHJpbmcoKTtcbiAgLy8gICB2YXIgcmFuZG9tID0gZGQucmVwbGFjZSgvW1xcV19dKy9nLCBcIlwiKS5zdWJzdHIoMCw2KTtcbiAgLy8gICByZXN1bHQgKz0gcmFuZG9tO1xuICAvLyAgIHJldHVybiByZXN1bHQ7XG4gIC8vIH1cblxuICBsZXQgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBsZXQgZDIgPVxuICAgICh3aW5kb3cucGVyZm9ybWFuY2UgJiZcbiAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgJiZcbiAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAqIDEwMDApIHx8XG4gICAgMDtcbiAgbGV0IHBhdHRlcm4gPSBcInV4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiO1xuXG4gIGlmIChsZW5ndGggPD0gcGF0dGVybi5sZW5ndGgpIHtcbiAgICBwYXR0ZXJuID0gcGF0dGVybi5zdWJzdHIoMCwgbGVuZ3RoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBsZXQgYWRkX2xlbiA9IGxlbmd0aCAtIHBhdHRlcm4ubGVuZ3RoO1xuICAgIGxldCBzdWJfcGF0dGVybiA9IFwiLXh4eHl5eHh4XCI7XG5cbiAgICBsZXQgZ3JvdXBfbiA9IE1hdGguZmxvb3IoYWRkX2xlbiAvIHN1Yl9wYXR0ZXJuLmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwX247IGkrKykge1xuICAgICAgcGF0dGVybiArPSBzdWJfcGF0dGVybjtcbiAgICB9XG5cbiAgICBncm91cF9uID0gYWRkX2xlbiAtIGdyb3VwX24gKiBzdWJfcGF0dGVybi5sZW5ndGg7XG4gICAgcGF0dGVybiArPSBzdWJfcGF0dGVybi5zdWJzdHIoMCwgZ3JvdXBfbik7XG4gIH1cblxuICBsZXQgdXVpZCA9IHBhdHRlcm4ucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTY7XG4gICAgaWYgKGQgPiAwKSB7XG4gICAgICB2YXIgciA9IChkICsgcikgJSAxNiB8IDA7XG4gICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciByID0gKGQyICsgcikgJSAxNiB8IDA7XG4gICAgICBkMiA9IE1hdGguZmxvb3IoZDIgLyAxNik7XG4gICAgfVxuICAgIHJldHVybiAoYyA9PSBcInhcIiA/IHIgOiAociAmIDB4NykgfCAweDgpLnRvU3RyaW5nKDE2KTtcbiAgfSk7XG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWFsVGltZShlbGVtZW50LCBwYXJlbnRfcmVhbFRpbWUpIHtcbiAgbGV0IHJlYWx0aW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXJlYWx0aW1lXCIpIHx8IHBhcmVudF9yZWFsVGltZTtcbiAgaWYgKHJlYWx0aW1lID09PSBcImZhbHNlXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudEZyb21FbGVtZW50KGVsZW1lbnQsIHBhcmVudF9jbGFzcywgYXR0cmlidXRlcykge1xuICBpZiAocGFyZW50X2NsYXNzKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKHBhcmVudF9jbGFzcykpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGxldCBub2RlID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChub2RlICE9IG51bGwgJiYgbm9kZS5jbGFzc0xpc3QpIHtcbiAgICAgIGlmIChub2RlLmNsYXNzTGlzdC5jb250YWlucyhwYXJlbnRfY2xhc3MpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoYXR0cmlidXRlcykge1xuICAgIGlmIChhdHRyaWJ1dGVzLmV2ZXJ5KChhdHRyKSA9PiBlbGVtZW50LmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0cikpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBsZXQgbm9kZSA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAobm9kZSAhPSBudWxsICYmIG5vZGUuYXR0cmlidXRlcykge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMuZXZlcnkoKGF0dHIpID0+IG5vZGUuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSkpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZFZhbHVlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1yZWFkX3ZhbHVlXCIpICE9IFwiZmFsc2VcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVXBkYXRlVmFsdWUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVwZGF0ZV92YWx1ZVwiKSAhPSBcImZhbHNlXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25TdHJpbmcoc3RyX2RhdGEpIHtcbiAgdHJ5IHtcbiAgICBsZXQganNvbl9kYXRhID0gSlNPTi5wYXJzZShzdHJfZGF0YSk7XG4gICAgaWYgKHR5cGVvZiBqc29uX2RhdGEgPT09IFwib2JqZWN0XCIgJiYganNvbl9kYXRhICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZXMoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcygpLnJlZHVjZSgoYXR0ck1hcCwgbmFtZSkgPT4ge1xuICAgIGF0dHJNYXBbbmFtZV0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICByZXR1cm4gYXR0ck1hcDtcbiAgfSwge30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tWYWx1ZSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gZmFsc2U7XG4gIGlmICgve3tcXHMqKFtcXHdcXFddKylcXHMqfX0vZy50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuLy8gaG9zc2VpbnMgdXRpbGxzXG5cbi8vIGZ1bmN0aW9uIHRvIGdvIHRocm91Z2ggYWxsIGZyYW1lc1xuZXhwb3J0IGZ1bmN0aW9uIGFsbEZyYW1lKGNhbGxiYWNrKSB7XG4gIGxldCBhbGxGcmFtZXMgPSBbeyBkb2N1bWVudCwgd2luZG93IH1dO1xuICBmb3IgKGxldCBmcmFtZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaWZyYW1lXCIpKSB7XG4gICAgbGV0IGZyYW1lRG9jdW1lbnQgPSBmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgICBsZXQgZnJhbWVXaW5kb3cgPSBmcmFtZS5jb250ZW50V2luZG93O1xuICAgIGFsbEZyYW1lcy5wdXNoKHtcbiAgICAgIGRvY3VtZW50OiBmcmFtZURvY3VtZW50LFxuICAgICAgd2luZG93OiBmcmFtZVdpbmRvdyxcbiAgICAgIGZyYW1lRWxlbWVudDogZnJhbWUsXG4gICAgfSk7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IG5ldyBTZXQoKTtcbiAgZm9yIChsZXQgZnJhbWUgb2YgYWxsRnJhbWVzKSB7XG4gICAgbGV0IGNhbGxiYWNrUmVzdWx0ID0gY2FsbGJhY2soZnJhbWUpO1xuICAgIGlmIChcbiAgICAgIGNhbGxiYWNrUmVzdWx0ICYmXG4gICAgICB0eXBlb2YgY2FsbGJhY2tSZXN1bHRbU3ltYm9sLml0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiXG4gICAgKVxuICAgICAgY2FsbGJhY2tSZXN1bHQuZm9yRWFjaCgoZWwpID0+IHJlc3VsdC5hZGQoZWwpKTtcbiAgICBlbHNlIGlmIChjYWxsYmFja1Jlc3VsdCkgcmVzdWx0LmFkZChjYWxsYmFja1Jlc3VsdCk7XG4gIH1cblxuICByZXR1cm4gQXJyYXkuZnJvbShyZXN1bHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3NzUGF0aChub2RlKSB7XG4gIGxldCBwYXRoU3BsaXRzID0gW107XG4gIGRvIHtcbiAgICBpZiAoIW5vZGUgfHwgIW5vZGUudGFnTmFtZSkgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBwYXRoU3BsaXQgPSBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9kZS5pZCAmJiBub2RlLnRhZ05hbWUgIT09IFwiQk9EWVwiKSBwYXRoU3BsaXQgKz0gXCIjXCIgKyBub2RlLmlkO1xuXG4gICAgaWYgKG5vZGUuY2xhc3NMaXN0Lmxlbmd0aCAmJiBub2RlLnRhZ05hbWUgIT09IFwiQk9EWVwiKSB7XG4gICAgICBub2RlLmNsYXNzTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpdGVtLmluZGV4T2YoXCI6XCIpID09PSAtMSkgcGF0aFNwbGl0ICs9IFwiLlwiICsgaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChub2RlLnRhZ05hbWUgIT09IFwiQk9EWVwiICYmIG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgbGV0IGluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuLFxuICAgICAgICBub2RlXG4gICAgICApO1xuICAgICAgcGF0aFNwbGl0ICs9IGA6bnRoLWNoaWxkKCR7aW5kZXggKyAxfSlgO1xuICAgIH1cblxuICAgIHBhdGhTcGxpdHMudW5zaGlmdChwYXRoU3BsaXQpO1xuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH0gd2hpbGUgKG5vZGUudGFnTmFtZSAhPT0gXCJIVE1MXCIpO1xuXG4gIHJldHVybiBwYXRoU3BsaXRzLmpvaW4oXCIgPiBcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BNb3N0V2luZG93KCkge1xuICBsZXQgcGFyZW50V2luZG93ID0gd2luZG93O1xuICB3aGlsZSAocGFyZW50V2luZG93ICE9PSB3aW5kb3cucGFyZW50KSBwYXJlbnRXaW5kb3cgPSB3aW5kb3cucGFyZW50O1xuICByZXR1cm4gcGFyZW50V2luZG93O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZElmcmFtZUZyb21FbGVtZW50KHdpbmRvd09iamVjdCwgZWxlbWVudCkge1xuICBsZXQgZnJhbWVFbGVtZW50O1xuICBhbGxGcmFtZSgoZnJhbWUpID0+IHtcbiAgICBpZiAoZnJhbWUuZG9jdW1lbnQuY29udGFpbnMoZWxlbWVudCkpIGZyYW1lRWxlbWVudCA9IGZyYW1lLmZyYW1lRWxlbWVudDtcbiAgICAvLyB3aW5kb3cuY2MuZmluZElmcmFtZUZyb21FbGVtZW50KGZyYW1lLndpbmRvdywgZWxlbWVudCk7XG4gIH0pO1xuICByZXR1cm4gZnJhbWVFbGVtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWZyYW1lRnJvbVBhdGgocGF0aCkge1xuICBsZXQgdG9wV2luZG93ID0gZ2V0VG9wTW9zdFdpbmRvdztcblxuICBwYXRoLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgaWYgKHRvcFdpbmRvdykgdG9wV2luZG93ID0gdG9wV2luZG93LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9KTtcbiAgcmV0dXJuIHRvcFdpbmRvdztcbn1cbi8vIERPIE5PVCBSRU1PVkVcblxuZXhwb3J0IGZ1bmN0aW9uKiBjb25maWdNYXRjaChlbGVtZW50Q29uZmlnLCBlbGVtZW50KSB7XG4gIGZvciAobGV0IGNvbmZpZyBvZiBlbGVtZW50Q29uZmlnKSB7XG4gICAgLy8gaWYgKCFBcnJheS5pc0FycmF5KGNvbmZpZy5zZWxlY3RvcikpXG4gICAgLy8gICBjb25maWcuc2VsZWN0b3IgPSBbY29uZmlnLnNlbGVjdG9yXTtcblxuICAgIGlmIChjb25maWcuc2VsZWN0b3IgJiYgZWxlbWVudC5tYXRjaGVzKGNvbmZpZy5zZWxlY3RvcikpIHlpZWxkIGNvbmZpZztcbiAgfVxuICByZXR1cm47XG59XG5cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ01hdGNoMihlbGVtZW50Q29uZmlnLCBlbGVtZW50KSB7XG4vLyAgIGxldCByZXN1bHQgPSBbXTtcbi8vICAgZm9yIChsZXQgY29uZmlnIG9mIGVsZW1lbnRDb25maWcpIHtcbi8vICAgICBpZiAoY29uZmlnLnNlbGVjdG9yICYmIGVsZW1lbnQubWF0Y2hlcyhjb25maWcuc2VsZWN0b3IpKSByZXN1bHQucHVzaChjb25maWcpO1xuLy8gICB9XG4vLyAgIHJldHVybiByZXN1bHQ7XG4vLyB9XG5cbi8vIERPIE5PVCBSRU1PVkVcblxuLy8gYW4gb3BpbmlhdGVkIGZ1bmN0aW9uIHVzZXMgY29uZmlnTWF0Y2gyIHRvIHJlYWQgY29uZmlnc1xuLy8gV0FSTklORzogdGhlIGNvbmZpZyBpdGVyYXRlZCBmcm9tIHRvcCB0byBib3R0b20uIGZvciBkZXNlaXJlZCBlZmZlY3QgZWxlbWVudENvbmZpZyBzaG91bGQgYmUgcmV2ZXJlc2VkXG4vLyB0eXBlb2YgZWxlbWVudENvbmZpZzogYXJyYXkgb2Ygb2JqZWN0cyBhbmQgZXZlcnkgb2JqZWN0cyBjb250YWluaW5nIGtleXMgYXMgZmFsc2UsIHRydWUgb3IgYSBzZWxlY3RvciBcbi8vIGVsZW1lbnQ6IHRoZSBlbGVtZW50IHRvIHJlYWQgYXR0cmlidXRlc1xuLy8ga2V5OiB0aGUga2V5IGluIHdoaWNoIGlzIGluIGVsZW1lbnRDb25maWcgYW5kIG9uIG1hdGNoIG9uU3VjY2VzcyBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZFxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ0V4ZWN1dGVyKGVsZW1lbnQsIGtleSwgb25TdWNjZXNzLCBlbGVtZW50Q29uZmlnKSB7XG4gIGZvciAobGV0IGNvbmZpZyBvZiBjb25maWdNYXRjaChlbGVtZW50Q29uZmlnIHx8IHdpbmRvdy5lbGVtZW50Q29uZmlnLCBlbGVtZW50KSlcbiAgICBpZiAoY29uZmlnW2tleV0gPT09IHRydWUpIHJldHVybiBvblN1Y2Nlc3MoZWxlbWVudCwgY29uZmlnKTtcbiAgICBlbHNlIGlmIChjb25maWdba2V5XSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgZWxzZSBpZiAoY29uZmlnW2tleV0gPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gIGVsc2UgaWYgKGlzVmFsaWRTZWxlY3Rvcihjb25maWdba2V5XSkpXG4gICAgcmV0dXJuIG9uU3VjY2VzcyhlbGVtZW50LCBjb25maWcsIHRydWUpO1xuICBlbHNlIGNvbnNvbGUud2FybihcImJ1aWxkZXI6IHdyb25nIGVsZW1lbnQgY29uZmlnIFwiLCBjb25maWcpO1xuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVVSUQobGVuZ3RoID0gMTApIHtcbiAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gIHZhciBjaGFyYWN0ZXJzID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCI7XG5cbiAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG4gIH1cblxuICB2YXIgZCA9IG5ldyBEYXRlKCkudG9UaW1lU3RyaW5nKCk7XG4gIHZhciByYW5kb20gPSBkLnJlcGxhY2UoL1tcXFdfXSsvZywgXCJcIikuc3Vic3RyKDAsIDYpO1xuICByZXN1bHQgKz0gcmFuZG9tO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUZXh0VG9IdG1sKHRleHQpIHtcbiAgbGV0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcodGV4dCwgXCJ0ZXh0L2h0bWxcIik7XG4gIGlmIChkb2MuaGVhZC5jaGlsZHJlblswXSkgcmV0dXJuIGRvYy5oZWFkLmNoaWxkcmVuWzBdO1xuICBlbHNlIHJldHVybiBkb2MuYm9keS5jaGlsZHJlblswXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0QnlkZWxpbWl0ZXIoc3RyLCBkZWxpbWl0ZXIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdChkZWxpbWl0ZXIpLm1hcCgocykgPT4gcy50cmltKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gam9pbkJ5ZGVsaW1pdGVyKHN0ciwgZGVsaW1pdGVyKSB7XG4gIHJldHVybiBzdHIubWFwKChzKSA9PiBzLnRyaW0oKSkuam9pbihkZWxpbWl0ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRQYXRoKGVsZW1lbnQsIHJldHVybkNvbnRleHQpIHtcbiAgbGV0IHBhdGggPSBbXTtcblxuICBsZXQgdG9wV2luZG93ID0gd2luZG93O1xuICBsZXQgaWZyYW1lRWxlbWVudCA9IGZpbmRJZnJhbWVGcm9tRWxlbWVudCh0b3BXaW5kb3csIGVsZW1lbnQpO1xuICBsZXQgcCA9IGNzc1BhdGgoaWZyYW1lRWxlbWVudCk7XG4gIGlmIChwKSBwYXRoLnVuc2hpZnQocCk7XG5cbiAgcmV0dXJuIHJldHVybkNvbnRleHQgPyB7IHBhdGgsIGRvY3VtZW50OiBpZnJhbWVFbGVtZW50IHx8IGRvY3VtZW50IH0gOiBwYXRoO1xuICAvL3RvZG86IHN1cHBvcnQgZm9yIG5lc3RlZCBpZnJhbWVcbiAgLy8gd2hpbGUoaWZyYW1lRWxlbWVudCAhPT0gZmluZElmcmFtZUZyb21FbGVtZW50KHRvcFdpbmRvdyxpZnJhbWVFbGVtZW50KSlcbiAgLy8ge1xuICAvLyAgIGlmcmFtZUVsZW1lbnQgPSBmaW5kSWZyYW1lRnJvbUVsZW1lbnQodG9wV2luZG93LGlmcmFtZUVsZW1lbnQpO1xuICAvLyAgIHBhdGgudW5zaGlmdChjc3NQYXRoKGlmcmFtZUVsZW1lbnQpKVxuICAvLyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1VzYWdlWShpbnB1dCkge1xuICBpZiAodGhpcy5pc0pzb25TdHJpbmcoaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5pc0pzb25TdHJpbmcoaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJykpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKChpbnB1dC50YWdOYW1lID09PSBcIklOUFVUXCIgJiYgW1widGV4dFwiLCBcImVtYWlsXCIsIFwidGVsXCIsIFwidXJsXCJdLmluY2x1ZGVzKGlucHV0LnR5cGUpKSB8fCBpbnB1dC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcblxuICAgIGlmICghaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtcmVhbHRpbWVcIikgPT0gXCJmYWxzZVwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtdW5pcXVlXCIpID09PSBcInRydWVcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpbnB1dC50eXBlID09PSAncGFzc3dvcmQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzUmVhZFZhbHVlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNVc2FnZVksXG4gIGdldEVsZW1lbnRQYXRoLFxuICBpc1ZhbGlkU2VsZWN0b3IsXG4gIGpvaW5CeWRlbGltaXRlcixcbiAgc3BsaXRCeWRlbGltaXRlcixcbiAgcGFyc2VUZXh0VG9IdG1sLFxuICBVVUlELFxuICBjb25maWdFeGVjdXRlcixcbiAgY29uZmlnTWF0Y2gsXG4gIGdldElmcmFtZUZyb21QYXRoLFxuICBmaW5kSWZyYW1lRnJvbUVsZW1lbnQsXG4gIGdldFRvcE1vc3RXaW5kb3csXG4gIGNzc1BhdGgsXG4gIGFsbEZyYW1lLFxuICBjaGVja1ZhbHVlLFxuICBnZXRBdHRyaWJ1dGVzLFxuICBpc0pzb25TdHJpbmcsXG4gIGlzVXBkYXRlVmFsdWUsXG4gIGlzUmVhZFZhbHVlLFxuICBnZXRQYXJlbnRGcm9tRWxlbWVudCxcbiAgaXNSZWFsVGltZSxcbiAgZ2VuZXJhdGVVVUlEXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-utils/src/index.js\n')},"../../CoCreate-plugins/CoCreate-pickr/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _pickr = _interopRequireDefault(__webpack_require__(/*! @simonwep/pickr */ \"../../CoCreate-plugins/CoCreate-pickr/node_modules/@simonwep/pickr/dist/pickr.min.js\"));\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../CoCreate-observer/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Simple example, see optional options for more configuration.\nlet config = {\n  el: null,\n  // will be replaced in observer\n  theme: 'monolith',\n  // or 'monolith', or 'nano'\n  position: 'bottom-start',\n  defaultRepresentation: 'HEX',\n  inline: false,\n  comparison: true,\n  default: '#999999',\n  swatches: ['rgba(244, 67, 54, 1)', 'rgba(233, 30, 99, 0.95)', 'rgba(156, 39, 176, 0.9)', 'rgba(103, 58, 183, 0.85)', 'rgba(63, 81, 181, 0.8)', 'rgba(33, 150, 243, 0.75)', 'rgba(3, 169, 244, 0.7)', 'rgba(0, 188, 212, 0.7)', 'rgba(0, 150, 136, 0.75)', 'rgba(76, 175, 80, 0.8)', 'rgba(139, 195, 74, 0.85)', 'rgba(205, 220, 57, 0.9)', 'rgba(255, 235, 59, 0.95)', 'rgba(255, 193, 7, 1)'],\n  components: {\n    // Main components\n    preview: true,\n    opacity: true,\n    hue: true,\n    // Input / output Options\n    interaction: {\n      hex: true,\n      rgba: true,\n      hsla: true,\n      hsva: true,\n      cmyk: true,\n      input: true,\n      clear: false,\n      save: false\n    }\n  }\n};\n\nconst eventHandler = root => (instance, e, pickr) => {\n  //todofix: what is pickr.disabledEvent??\n  if (instance && !CoCreate.pickr.disabledEvent) {\n    let event = new CustomEvent(\"input\", {\n      bubbles: true,\n      detail: {\n        color: instance.toHEXA().toString()\n      }\n    });\n    pickr.setColor(instance.toHEXA().toString());\n    root.dispatchEvent(event);\n  }\n};\n\nlet refs = new Map();\nconst CoCreatePickr = {\n  refs\n};\n\n_observer.default.init({\n  name: \"pickr\",\n  observe: [\"childList\"],\n  include: \".color-picker\",\n  callback: mutation => {\n    // let colorPickers = mutation.target.querySelectorAll('.color-picker');\n    // if (colorPickers.length)\n    //     colorPickers.forEach(p => createPickr(p))\n    createPickr(mutation.target);\n  }\n});\n\nwindow.addEventListener('load', () => {\n  let colorPickers = document.querySelectorAll('.color-picker');\n  if (colorPickers.length) colorPickers.forEach(p => createPickr(p));\n});\n\nfunction createPickr(p) {\n  // pick attributes\n  let ccAttributes = Array.from(p.attributes).filter(att => att.name.startsWith('data-style')); // if not for cocreate\n\n  if (!ccAttributes.length) return; // set element\n\n  config.el = p; // init and get root\n\n  let pickr = _pickr.default.create(config);\n\n  let root = pickr.getRoot().root; // write attributes\n\n  ccAttributes.forEach(att => {\n    root.setAttribute(att.name, att.value);\n  }); //set ref\n\n  refs.set(root, pickr); //set events\n  // pickr.on('save', eventHandler(root))\n\n  pickr.on('change', eventHandler(root));\n}\n\nvar _default = CoCreatePickr;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXBsdWdpbnMvQ29DcmVhdGUtcGlja3Ivc3JjL2luZGV4LmpzPzg5MzIiXSwibmFtZXMiOlsiY29uZmlnIiwiZWwiLCJ0aGVtZSIsInBvc2l0aW9uIiwiZGVmYXVsdFJlcHJlc2VudGF0aW9uIiwiaW5saW5lIiwiY29tcGFyaXNvbiIsImRlZmF1bHQiLCJzd2F0Y2hlcyIsImNvbXBvbmVudHMiLCJwcmV2aWV3Iiwib3BhY2l0eSIsImh1ZSIsImludGVyYWN0aW9uIiwiaGV4IiwicmdiYSIsImhzbGEiLCJoc3ZhIiwiY215ayIsImlucHV0IiwiY2xlYXIiLCJzYXZlIiwiZXZlbnRIYW5kbGVyIiwicm9vdCIsImluc3RhbmNlIiwiZSIsInBpY2tyIiwiQ29DcmVhdGUiLCJkaXNhYmxlZEV2ZW50IiwiZXZlbnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJkZXRhaWwiLCJjb2xvciIsInRvSEVYQSIsInRvU3RyaW5nIiwic2V0Q29sb3IiLCJkaXNwYXRjaEV2ZW50IiwicmVmcyIsIk1hcCIsIkNvQ3JlYXRlUGlja3IiLCJvYnNlcnZlciIsImluaXQiLCJuYW1lIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJjYWxsYmFjayIsIm11dGF0aW9uIiwiY3JlYXRlUGlja3IiLCJ0YXJnZXQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY29sb3JQaWNrZXJzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiZm9yRWFjaCIsInAiLCJjY0F0dHJpYnV0ZXMiLCJBcnJheSIsImZyb20iLCJhdHRyaWJ1dGVzIiwiZmlsdGVyIiwiYXR0Iiwic3RhcnRzV2l0aCIsIlBpY2tyIiwiY3JlYXRlIiwiZ2V0Um9vdCIsInNldEF0dHJpYnV0ZSIsInZhbHVlIiwic2V0Iiwib24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBO0FBQ0EsSUFBSUEsTUFBTSxH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QVRvQixDQVdwQjs7QUFDQSxNQUFJL0IsS0FBSyxHQUFHdUMsZUFBTUMsTUFBTixDQUFhbEUsTUFBYixDQUFaOztBQUNBLE1BQUl1QixJQUFJLEdBQUdHLEtBQUssQ0FBQ3lDLE9BQU4sR0FBZ0I1QyxJQUEzQixDQWJvQixDQWVwQjs7QUFDQW1DLGNBQVksQ0FBQ0YsT0FBYixDQUFxQk8sR0FBRyxJQUFJO0FBQ3hCeEMsUUFBSSxDQUFDNkMsWUFBTCxDQUFrQkwsR0FBRyxDQUFDcEIsSUFBdEIsRUFBNEJvQixHQUFHLENBQUNNLEtBQWhDO0FBQ0gsR0FGRCxFQWhCb0IsQ0FvQnBCOztBQUNBL0IsTUFBSSxDQUFDZ0MsR0FBTCxDQUFTL0MsSUFBVCxFQUFlRyxLQUFmLEVBckJvQixDQXVCcEI7QUFDQTs7QUFDQUEsT0FBSyxDQUFDNkMsRUFBTixDQUFTLFFBQVQsRUFBbUJqRCxZQUFZLENBQUNDLElBQUQsQ0FBL0I7QUFFSDs7ZUFFY2lCLGEiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtcGx1Z2lucy9Db0NyZWF0ZS1waWNrci9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGlja3IgZnJvbSAnQHNpbW9ud2VwL3BpY2tyJztcbmltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInXG5cbi8vIFNpbXBsZSBleGFtcGxlLCBzZWUgb3B0aW9uYWwgb3B0aW9ucyBmb3IgbW9yZSBjb25maWd1cmF0aW9uLlxubGV0IGNvbmZpZyA9IHtcbiAgICBlbDogbnVsbCwgLy8gd2lsbCBiZSByZXBsYWNlZCBpbiBvYnNlcnZlclxuICAgIHRoZW1lOiAnbW9ub2xpdGgnLCAvLyBvciAnbW9ub2xpdGgnLCBvciAnbmFubydcbiAgICBwb3NpdGlvbjogJ2JvdHRvbS1zdGFydCcsXG4gICAgZGVmYXVsdFJlcHJlc2VudGF0aW9uOiAnSEVYJyxcbiAgICBpbmxpbmU6IGZhbHNlLFxuICAgIGNvbXBhcmlzb246IHRydWUsXG4gICAgZGVmYXVsdDogJyM5OTk5OTknLFxuICAgIHN3YXRjaGVzOiBbXG4gICAgICAgICdyZ2JhKDI0NCwgNjcsIDU0LCAxKScsXG4gICAgICAgICdyZ2JhKDIzMywgMzAsIDk5LCAwLjk1KScsXG4gICAgICAgICdyZ2JhKDE1NiwgMzksIDE3NiwgMC45KScsXG4gICAgICAgICdyZ2JhKDEwMywgNTgsIDE4MywgMC44NSknLFxuICAgICAgICAncmdiYSg2MywgODEsIDE4MSwgMC44KScsXG4gICAgICAgICdyZ2JhKDMzLCAxNTAsIDI0MywgMC43NSknLFxuICAgICAgICAncmdiYSgzLCAxNjksIDI0NCwgMC43KScsXG4gICAgICAgICdyZ2JhKDAsIDE4OCwgMjEyLCAwLjcpJyxcbiAgICAgICAgJ3JnYmEoMCwgMTUwLCAxMzYsIDAuNzUpJyxcbiAgICAgICAgJ3JnYmEoNzYsIDE3NSwgODAsIDAuOCknLFxuICAgICAgICAncmdiYSgxMzksIDE5NSwgNzQsIDAuODUpJyxcbiAgICAgICAgJ3JnYmEoMjA1LCAyMjAsIDU3LCAwLjkpJyxcbiAgICAgICAgJ3JnYmEoMjU1LCAyMzUsIDU5LCAwLjk1KScsXG4gICAgICAgICdyZ2JhKDI1NSwgMTkzLCA3LCAxKSdcbiAgICBdLFxuXG4gICAgY29tcG9uZW50czoge1xuXG4gICAgICAgIC8vIE1haW4gY29tcG9uZW50c1xuICAgICAgICBwcmV2aWV3OiB0cnVlLFxuICAgICAgICBvcGFjaXR5OiB0cnVlLFxuICAgICAgICBodWU6IHRydWUsXG5cbiAgICAgICAgLy8gSW5wdXQgLyBvdXRwdXQgT3B0aW9uc1xuICAgICAgICBpbnRlcmFjdGlvbjoge1xuICAgICAgICAgICAgaGV4OiB0cnVlLFxuICAgICAgICAgICAgcmdiYTogdHJ1ZSxcbiAgICAgICAgICAgIGhzbGE6IHRydWUsXG4gICAgICAgICAgICBoc3ZhOiB0cnVlLFxuICAgICAgICAgICAgY215azogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0OiB0cnVlLFxuICAgICAgICAgICAgY2xlYXI6IGZhbHNlLFxuICAgICAgICAgICAgc2F2ZTogZmFsc2VcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgZXZlbnRIYW5kbGVyID0gcm9vdCA9PiAoaW5zdGFuY2UsIGUsIHBpY2tyKSA9PiB7XG4gICAgLy90b2RvZml4OiB3aGF0IGlzIHBpY2tyLmRpc2FibGVkRXZlbnQ/P1xuICAgIGlmIChpbnN0YW5jZSAmJiAhQ29DcmVhdGUucGlja3IuZGlzYWJsZWRFdmVudCkge1xuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGluc3RhbmNlLnRvSEVYQSgpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcGlja3Iuc2V0Q29sb3IoaW5zdGFuY2UudG9IRVhBKCkudG9TdHJpbmcoKSlcbiAgICAgICAgcm9vdC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG59XG5sZXQgcmVmcyA9IG5ldyBNYXAoKTtcbmNvbnN0IENvQ3JlYXRlUGlja3IgPSB7IHJlZnMgfTtcblxub2JzZXJ2ZXIuaW5pdCh7XG4gICAgbmFtZTogXCJwaWNrclwiLFxuICAgIG9ic2VydmU6IFtcImNoaWxkTGlzdFwiXSxcbiAgICBpbmNsdWRlOiBcIi5jb2xvci1waWNrZXJcIixcbiAgICBjYWxsYmFjazogKG11dGF0aW9uKSA9PiB7XG4gICAgICAgIC8vIGxldCBjb2xvclBpY2tlcnMgPSBtdXRhdGlvbi50YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnLmNvbG9yLXBpY2tlcicpO1xuICAgICAgICAvLyBpZiAoY29sb3JQaWNrZXJzLmxlbmd0aClcbiAgICAgICAgLy8gICAgIGNvbG9yUGlja2Vycy5mb3JFYWNoKHAgPT4gY3JlYXRlUGlja3IocCkpXG4gICAgICAgIGNyZWF0ZVBpY2tyKG11dGF0aW9uLnRhcmdldClcbiAgICAgICBcbiAgICB9LFxufSlcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgbGV0IGNvbG9yUGlja2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xvci1waWNrZXInKTtcbiAgICBpZiAoY29sb3JQaWNrZXJzLmxlbmd0aClcbiAgICAgICAgY29sb3JQaWNrZXJzLmZvckVhY2gocCA9PiBjcmVhdGVQaWNrcihwKSlcbn0pXG5cblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVBpY2tyKHApIHtcblxuICAgIC8vIHBpY2sgYXR0cmlidXRlc1xuICAgIGxldCBjY0F0dHJpYnV0ZXMgPSBBcnJheS5mcm9tKHAuYXR0cmlidXRlcykuZmlsdGVyKGF0dCA9PiBhdHQubmFtZS5zdGFydHNXaXRoKCdkYXRhLXN0eWxlJykpXG5cbiAgICAvLyBpZiBub3QgZm9yIGNvY3JlYXRlXG4gICAgaWYgKCFjY0F0dHJpYnV0ZXMubGVuZ3RoKSByZXR1cm47XG5cbiAgICAvLyBzZXQgZWxlbWVudFxuICAgIGNvbmZpZy5lbCA9IHA7XG5cbiAgICAvLyBpbml0IGFuZCBnZXQgcm9vdFxuICAgIGxldCBwaWNrciA9IFBpY2tyLmNyZWF0ZShjb25maWcpO1xuICAgIGxldCByb290ID0gcGlja3IuZ2V0Um9vdCgpLnJvb3Q7XG5cbiAgICAvLyB3cml0ZSBhdHRyaWJ1dGVzXG4gICAgY2NBdHRyaWJ1dGVzLmZvckVhY2goYXR0ID0+IHtcbiAgICAgICAgcm9vdC5zZXRBdHRyaWJ1dGUoYXR0Lm5hbWUsIGF0dC52YWx1ZSk7XG4gICAgfSlcblxuICAgIC8vc2V0IHJlZlxuICAgIHJlZnMuc2V0KHJvb3QsIHBpY2tyKVxuXG4gICAgLy9zZXQgZXZlbnRzXG4gICAgLy8gcGlja3Iub24oJ3NhdmUnLCBldmVudEhhbmRsZXIocm9vdCkpXG4gICAgcGlja3Iub24oJ2NoYW5nZScsIGV2ZW50SGFuZGxlcihyb290KSlcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZVBpY2tyOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-plugins/CoCreate-pickr/src/index.js\n")},"../../CoCreateJS/src/core.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(__webpack_require__(/*! @cocreate/socket */ \"../../CoCreateJS/node_modules/@cocreate/socket/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// ***********   define variables end ***************** /// \nlet socket = new _socket.default('ws');\nconst CoCreateCore = {\n  socketInitFuncs: [],\n  moduleSelectors: [],\n  socket: null,\n  host: 'server.cocreate.app',\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n  init: function (host, namespace) {\n    if (host) {\n      this.host = host;\n    }\n\n    this.__setConfig();\n\n    this.createGeneralSocket(host, namespace || config.organization_Id);\n    this.initSocketListener();\n    this.createUserSocket(host);\n  },\n  __setConfig: function () {\n    let orgId = window.localStorage.getItem('organization_id');\n    let securityKey = window.localStorage.getItem('securityKey');\n    let apiKey = window.localStorage.getItem('apiKey');\n    if (orgId) config['organization_Id'] = orgId;\n    if (apiKey) config['apiKey'] = apiKey;\n    if (securityKey) config['securityKey'] = securityKey;\n  },\n  initSocketListener: function () {\n    const self = this;\n    this.socket.listen('connect', function (data, room) {\n      if (room == self.socket.getGlobalScope()) {\n        self.socketInitFuncs.forEach(func => {\n          func.initFunc.call(func.instance);\n        });\n      }\n    });\n    this.socket.listen('downloadFileInfo', function (data) {\n      self.socket.saveFileName = data.file_name;\n    });\n  },\n  createUserSocket: function (host) {\n    var user_id = window.localStorage.getItem('user_id');\n\n    if (user_id) {\n      this.socket.create({\n        namespace: 'users',\n        room: user_id,\n        host: host\n      });\n    }\n  },\n  createGeneralSocket: function (host, namespace) {\n    if (namespace) {\n      this.socket.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      this.socket.setGlobalScope(namespace);\n    } else {\n      this.socket.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  },\n  registerInit: function (initFunc, instance) {\n    this.socketInitFuncs.push({\n      initFunc,\n      instance: instance || window\n    });\n  },\n  // registerSelector: function(selector) {\n  //   if (this.moduleSelectors.indexOf(selector) === -1) {\n  //     this.moduleSelectors.push(selector);\n  //   }\n  // },\n  // getSelectors: function(selector) {\n  //   return this.moduleSelectors.join(\",\");\n  // },\n  // listenMessage: function(message, fun) {\n  //   this.socket.listen(message, fun);\n  // },\n  createSocket: function (config) {\n    this.socket.create(config);\n  },\n  destroySocket: function (config) {\n    const {\n      namespace,\n      room\n    } = config;\n    const key = this.socket.getKey(namespace, room);\n    let socket = this.socket.sockets.get(key);\n\n    if (!socket) {\n      return;\n    }\n\n    this.socket.destroy(socket, key);\n  }\n};\nCoCreateCore.setSocket(socket);\nCoCreateCore.init(window.config.host ? window.config.host : 'server.cocreate.app');\nvar _default = CoCreateCore;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlSlMvc3JjL2NvcmUuanM/Y2QxYSJdLCJuYW1lcyI6WyJzb2NrZXQiLCJDb0NyZWF0ZVNvY2tldCIsIkNvQ3JlYXRlQ29yZSIsInNvY2tldEluaXRGdW5jcyIsIm1vZHVsZVNlbGVjdG9ycyIsImhvc3QiLCJzZXRTb2NrZXQiLCJpbml0IiwibmFtZXNwYWNlIiwiX19zZXRDb25maWciLCJjcmVhdGVHZW5lcmFsU29ja2V0IiwiY29uZmlnIiwib3JnYW5pemF0aW9uX0lkIiwiaW5pdFNvY2tldExpc3RlbmVyIiwiY3JlYXRlVXNlclNvY2tldCIsIm9yZ0lkIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNlY3VyaXR5S2V5IiwiYXBpS2V5Iiwic2VsZiIsImxpc3RlbiIsImRhdGEiLCJyb29tIiwiZ2V0R2xvYmFsU2NvcGUiLCJmb3JFYWNoIiwiZnVuYyIsImluaXRGdW5jIiwiY2FsbCIsImluc3RhbmNlIiwic2F2ZUZpbGVOYW1lIiwiZmlsZV9uYW1lIiwidXNlcl9pZCIsImNyZWF0ZSIsInNldEdsb2JhbFNjb3BlIiwicmVnaXN0ZXJJbml0IiwicHVzaCIsImNyZWF0ZVNvY2tldCIsImRlc3Ryb3lTb2NrZXQiLCJrZXkiLCJnZXRLZXkiLCJzb2NrZXRzIiwiZ2V0IiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOzs7O0FBREE7QUFHQSxJQUFJQSxNQUFNLEdBQUcsSUFBSUMsZUFBSixDQUFtQixJQUFuQixDQUFiO0FBRUEsTUFBTUMsWUFBWSxHQUFHO0FBQ25CQyxpQkFBZSxFQUFFLEVBREU7QUFFbkJDLGlCQUFlLEVBQUUsRUFGRTtBQUduQkosUUFBTSxFQUFFLElBSFc7QUFJbkJLLE1BQUksRUFBRSxxQkFKYTtBQU1uQkMsV0FBUyxFQUFFLFVBQVNOLE1BQVQsRUFBaUI7QUFDMUIsU0FBS0EsTUFBTCxHQUFjQSxNQUFkO0FBQ0QsR0FSa0I7QUFX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QTZCO0FBQ3pDLFNBQUszQixlQUFMLENBQXFCa0MsSUFBckIsQ0FBMEI7QUFDeEJULGNBRHdCO0FBRXhCRSxjQUFRLEVBQUdBLFFBQVEsSUFBSWQ7QUFGQyxLQUExQjtBQUlELEdBbkZrQjtBQW9GbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVEc0IsY0FBWSxFQUFFLFVBQVMzQixNQUFULEVBQWlCO0FBQzdCLFNBQUtYLE1BQUwsQ0FBWWtDLE1BQVosQ0FBbUJ2QixNQUFuQjtBQUNELEdBcEdtQjtBQXNHcEI0QixlQUFhLEVBQUUsVUFBUzVCLE1BQVQsRUFBaUI7QUFDOUIsVUFBTTtBQUFDSCxlQUFEO0FBQVlnQjtBQUFaLFFBQW9CYixNQUExQjtBQUNBLFVBQU02QixHQUFHLEdBQUcsS0FBS3hDLE1BQUwsQ0FBWXlDLE1BQVosQ0FBbUJqQyxTQUFuQixFQUE4QmdCLElBQTlCLENBQVo7QUFDQSxRQUFJeEIsTUFBTSxHQUFHLEtBQUtBLE1BQUwsQ0FBWTBDLE9BQVosQ0FBb0JDLEdBQXBCLENBQXdCSCxHQUF4QixDQUFiOztBQUVBLFFBQUksQ0FBQ3hDLE1BQUwsRUFBYTtBQUNYO0FBQ0Q7O0FBQ0QsU0FBS0EsTUFBTCxDQUFZNEMsT0FBWixDQUFvQjVDLE1BQXBCLEVBQTRCd0MsR0FBNUI7QUFDRDtBQS9HbUIsQ0FBckI7QUFrSEF0QyxZQUFZLENBQUNJLFNBQWIsQ0FBdUJOLE1BQXZCO0FBQ0FFLFlBQVksQ0FBQ0ssSUFBYixDQUFrQlMsTUFBTSxDQUFDTCxNQUFQLENBQWNOLElBQWQsR0FBcUJXLE1BQU0sQ0FBQ0wsTUFBUCxDQUFjTixJQUFuQyxHQUEwQyxxQkFBNUQ7ZUFFZUgsWSIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL3NyYy9jb3JlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gKioqKioqKioqKiogICBkZWZpbmUgdmFyaWFibGVzIGVuZCAqKioqKioqKioqKioqKioqKiAvLy8gXG5pbXBvcnQgQ29DcmVhdGVTb2NrZXQgZnJvbSBcIkBjb2NyZWF0ZS9zb2NrZXRcIlxuXG5sZXQgc29ja2V0ID0gbmV3IENvQ3JlYXRlU29ja2V0KCd3cycpO1xuXG5jb25zdCBDb0NyZWF0ZUNvcmUgPSB7XG4gIHNvY2tldEluaXRGdW5jczogW10sXG4gIG1vZHVsZVNlbGVjdG9yczogW10sXG4gIHNvY2tldDogbnVsbCxcbiAgaG9zdDogJ3NlcnZlci5jb2NyZWF0ZS5hcHAnLFxuICBcbiAgc2V0U29ja2V0OiBmdW5jdGlvbihzb2NrZXQpIHtcbiAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgfSxcblxuICBcbiAgaW5pdDogZnVuY3Rpb24oaG9zdCwgbmFtZXNwYWNlKSB7XG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuX19zZXRDb25maWcoKVxuICAgIHRoaXMuY3JlYXRlR2VuZXJhbFNvY2tldChob3N0LCBuYW1lc3BhY2UgfHwgY29uZmlnLm9yZ2FuaXphdGlvbl9JZCk7XG4gICAgdGhpcy5pbml0U29ja2V0TGlzdGVuZXIoKTtcbiAgICB0aGlzLmNyZWF0ZVVzZXJTb2NrZXQoaG9zdCk7XG4gIH0sXG4gIFxuICBfX3NldENvbmZpZzogZnVuY3Rpb24oKSB7XG5cdFx0bGV0IG9yZ0lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmdhbml6YXRpb25faWQnKTtcblx0XHRsZXQgc2VjdXJpdHlLZXkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlY3VyaXR5S2V5Jyk7XG5cdFx0bGV0IGFwaUtleSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXBpS2V5Jyk7XG5cdFx0XG5cdFx0aWYgKG9yZ0lkKSAgICAgICAgY29uZmlnWydvcmdhbml6YXRpb25fSWQnXSA9IG9yZ0lkXG5cdFx0aWYgKGFwaUtleSkgICAgICAgY29uZmlnWydhcGlLZXknXSA9IGFwaUtleVxuXHRcdGlmIChzZWN1cml0eUtleSkgIGNvbmZpZ1snc2VjdXJpdHlLZXknXSA9IHNlY3VyaXR5S2V5O1xuICB9LFxuICBcbiAgaW5pdFNvY2tldExpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoZGF0YSwgcm9vbSkge1xuICAgICAgXG4gICAgICBpZiAocm9vbSA9PSBzZWxmLnNvY2tldC5nZXRHbG9iYWxTY29wZSgpKSB7XG4gICAgICAgIHNlbGYuc29ja2V0SW5pdEZ1bmNzLmZvckVhY2goKGZ1bmMpID0+IHtcbiAgICAgICAgICBmdW5jLmluaXRGdW5jLmNhbGwoZnVuYy5pbnN0YW5jZSk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4oJ2Rvd25sb2FkRmlsZUluZm8nLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBzZWxmLnNvY2tldC5zYXZlRmlsZU5hbWUgPSBkYXRhLmZpbGVfbmFtZTtcbiAgICB9KVxuICAgIFxuICB9LFxuICBcbiAgY3JlYXRlVXNlclNvY2tldDogZnVuY3Rpb24oaG9zdCkge1xuICAgIHZhciB1c2VyX2lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJyk7XG4gICAgaWYgKHVzZXJfaWQpIHtcbiAgICAgIHRoaXMuc29ja2V0LmNyZWF0ZSh7XG4gICAgICAgIG5hbWVzcGFjZTogJ3VzZXJzJyxcbiAgICAgICAgcm9vbTogdXNlcl9pZCxcbiAgICAgICAgaG9zdDogaG9zdFxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIFxuICBjcmVhdGVHZW5lcmFsU29ja2V0OiBmdW5jdGlvbihob3N0LCBuYW1lc3BhY2UpIHtcbiAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgXHR0aGlzLnNvY2tldC5jcmVhdGUoe1xuICAgIFx0ICBuYW1lc3BhY2U6IG5hbWVzcGFjZSwgXG4gICAgXHQgIHJvb206IG51bGwsXG4gICAgXHQgIGhvc3Q6IGhvc3RcbiAgICBcdH0pO1xuICAgIFx0dGhpcy5zb2NrZXQuc2V0R2xvYmFsU2NvcGUobmFtZXNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgIFx0dGhpcy5zb2NrZXQuY3JlYXRlKHtcbiAgICBcdCAgbmFtZXNwYWNlOiBudWxsLCBcbiAgICBcdCAgcm9vbTogbnVsbCxcbiAgICBcdCAgaG9zdDogaG9zdFxuICAgIFx0fSk7XG4gICAgfVxuICB9LFxuICBcbiAgcmVnaXN0ZXJJbml0OiBmdW5jdGlvbihpbml0RnVuYywgaW5zdGFuY2UpIHtcbiAgICB0aGlzLnNvY2tldEluaXRGdW5jcy5wdXNoKHtcbiAgICAgIGluaXRGdW5jLFxuICAgICAgaW5zdGFuY2UgOiBpbnN0YW5jZSB8fCB3aW5kb3dcbiAgICB9KTtcbiAgfSxcbiAgLy8gcmVnaXN0ZXJTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgLy8gICBpZiAodGhpcy5tb2R1bGVTZWxlY3RvcnMuaW5kZXhPZihzZWxlY3RvcikgPT09IC0xKSB7XG4gIC8vICAgICB0aGlzLm1vZHVsZVNlbGVjdG9ycy5wdXNoKHNlbGVjdG9yKTtcbiAgLy8gICB9XG4gIC8vIH0sXG4gIFxuICAvLyBnZXRTZWxlY3RvcnM6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIC8vICAgcmV0dXJuIHRoaXMubW9kdWxlU2VsZWN0b3JzLmpvaW4oXCIsXCIpO1xuICAvLyB9LFxuXG4gIC8vIGxpc3Rlbk1lc3NhZ2U6IGZ1bmN0aW9uKG1lc3NhZ2UsIGZ1bikge1xuICAvLyAgIHRoaXMuc29ja2V0Lmxpc3RlbihtZXNzYWdlLCBmdW4pO1xuICAvLyB9LFxuIFxuIGNyZWF0ZVNvY2tldDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICB0aGlzLnNvY2tldC5jcmVhdGUoY29uZmlnKTtcbiB9LFxuIFxuIGRlc3Ryb3lTb2NrZXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgY29uc3Qge25hbWVzcGFjZSwgcm9vbX0gPSBjb25maWc7XG4gICBjb25zdCBrZXkgPSB0aGlzLnNvY2tldC5nZXRLZXkobmFtZXNwYWNlLCByb29tKTtcbiAgIGxldCBzb2NrZXQgPSB0aGlzLnNvY2tldC5zb2NrZXRzLmdldChrZXkpO1xuICAgXG4gICBpZiAoIXNvY2tldCkge1xuICAgICByZXR1cm5cbiAgIH1cbiAgIHRoaXMuc29ja2V0LmRlc3Ryb3koc29ja2V0LCBrZXkpO1xuIH0sXG59XG5cbkNvQ3JlYXRlQ29yZS5zZXRTb2NrZXQoc29ja2V0KTtcbkNvQ3JlYXRlQ29yZS5pbml0KHdpbmRvdy5jb25maWcuaG9zdCA/IHdpbmRvdy5jb25maWcuaG9zdCA6ICdzZXJ2ZXIuY29jcmVhdGUuYXBwJyk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQ29yZTtcblxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/core.js\n")},"../../CoCreateJS/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _core = _interopRequireDefault(__webpack_require__(/*! ./core.js */ "../../CoCreateJS/src/core.js"));\n\nvar _cocreatecss = _interopRequireDefault(__webpack_require__(/*! @cocreate/cocreatecss */ "../../CoCreateJS/node_modules/@cocreate/cocreatecss/src/index.js"));\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ "../../CoCreateJS/node_modules/@cocreate/observer/src/index.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// core components\n(async function () {\n  // preload - downloads with main chunk but does not execute until main chunk complete. Priority using 1, -1 true=0\n  let importObj = await __webpack_require__.e(/*! import() | components-chunk */ "components-chunk").then(__webpack_require__.t.bind(__webpack_require__, /*! ./components.js */ "../../CoCreateJS/src/components.js", 23));\n  Object.assign(window.CoCreate, {\n    components: importObj.default\n  }); // // prefetched - downloads after main chunk has complete and in idle mode. If no longer idle will pause then resume when not idle. Priority using 1, -1 true=0\n  // importObj = await\n  // import ( /* webpackChunkName: "htmltags-chunk", webpackPrefetch: true */\n  //     "../CoCreate-components/CoCreate-htmltags/src/index.js");\n  // Object.assign(window.CoCreate, {htmltags: importObj.default})\n})();\n/*global window*/\n\n\nfunction addComponent(key, component) {\n  this[key] = component;\n}\n\nfunction removeComponent(key) {\n  if (this[key]) {}\n}\n\nvar _default = {\n  css: _cocreatecss.default,\n  observer: _observer.default,\n  core: _core.default,\n  addComponent,\n  removeComponent\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlSlMvc3JjL2luZGV4LmpzPzI4OWEiXSwibmFtZXMiOlsiaW1wb3J0T2JqIiwiT2JqZWN0IiwiYXNzaWduIiwid2luZG93IiwiQ29DcmVhdGUiLCJjb21wb25lbnRzIiwiZGVmYXVsdCIsImFkZENvbXBvbmVudCIsImtleSIsImNvbXBvbmVudCIsInJlbW92ZUNvbXBvbmVudCIsImNzcyIsIm9ic2VydmVyIiwiY29yZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBSEE7QUFLQSxDQUFDLGtCQUFpQjtBQUVkO0FBQ0EsTUFBSUEsU0FBUyxHQUFHLE1BQ2hCLG1NQURBO0FBSUFDLFFBQU0sQ0FBQ0MsTUFBUCxDQUFjQyxNQUFNLENBQUNDLFFBQXJCLEVBQStCO0FBQUNDLGNBQVUsRUFBRUwsU0FBUyxDQUFDTTtBQUF2QixHQUEvQixFQVBjLENBVWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVILENBaEJEO0FBa0JBOzs7QUFDQSxTQUFTQyxZQUFULENBQXNCQyxHQUF0QixFQUEyQkMsU0FBM0IsRUFBc0M7QUFDbEMsT0FBS0QsR0FBTCxJQUFZQyxTQUFaO0FBQ0g7O0FBRUQsU0FBU0MsZUFBVCxDQUF5QkYsR0FBekIsRUFBOEI7QUFDMUIsTUFBSSxLQUFLQSxHQUFMLENBQUosRUFBZSxDQUVkO0FBQ0o7O2VBRWM7QUFBRUcsS0FBRyxFQUFIQSxvQkFBRjtBQUFPQyxVQUFRLEVBQVJBLGlCQUFQO0FBQWlCQyxNQUFJLEVBQUpBLGFBQWpCO0FBQXVCTixjQUF2QjtBQUFxQ0c7QUFBckMsQyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNvcmUgY29tcG9uZW50c1xuaW1wb3J0IGNvcmUgZnJvbSBcIi4vY29yZS5qc1wiXG5pbXBvcnQgY3NzIGZyb20gJ0Bjb2NyZWF0ZS9jb2NyZWF0ZWNzcyc7XG5pbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJztcblxuKGFzeW5jIGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gcHJlbG9hZCAtIGRvd25sb2FkcyB3aXRoIG1haW4gY2h1bmsgYnV0IGRvZXMgbm90IGV4ZWN1dGUgdW50aWwgbWFpbiBjaHVuayBjb21wbGV0ZS4gUHJpb3JpdHkgdXNpbmcgMSwgLTEgdHJ1ZT0wXG4gICAgbGV0IGltcG9ydE9iaiA9IGF3YWl0XG4gICAgaW1wb3J0IChcbiAgICAgICAgLyogd2VicGFja0NodW5rTmFtZTogXCJjb21wb25lbnRzLWNodW5rXCIsIHdlYnBhY2tQcmVsb2FkOiB0cnVlICovXG4gICAgICAgIFwiLi9jb21wb25lbnRzLmpzXCIpO1xuICAgIE9iamVjdC5hc3NpZ24od2luZG93LkNvQ3JlYXRlLCB7Y29tcG9uZW50czogaW1wb3J0T2JqLmRlZmF1bHR9KVxuXG5cbiAgICAvLyAvLyBwcmVmZXRjaGVkIC0gZG93bmxvYWRzIGFmdGVyIG1haW4gY2h1bmsgaGFzIGNvbXBsZXRlIGFuZCBpbiBpZGxlIG1vZGUuIElmIG5vIGxvbmdlciBpZGxlIHdpbGwgcGF1c2UgdGhlbiByZXN1bWUgd2hlbiBub3QgaWRsZS4gUHJpb3JpdHkgdXNpbmcgMSwgLTEgdHJ1ZT0wXG4gICAgLy8gaW1wb3J0T2JqID0gYXdhaXRcbiAgICAvLyBpbXBvcnQgKCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImh0bWx0YWdzLWNodW5rXCIsIHdlYnBhY2tQcmVmZXRjaDogdHJ1ZSAqL1xuICAgIC8vICAgICBcIi4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtaHRtbHRhZ3Mvc3JjL2luZGV4LmpzXCIpO1xuICAgIC8vIE9iamVjdC5hc3NpZ24od2luZG93LkNvQ3JlYXRlLCB7aHRtbHRhZ3M6IGltcG9ydE9iai5kZWZhdWx0fSlcblxufSkoKVxuXG4vKmdsb2JhbCB3aW5kb3cqL1xuZnVuY3Rpb24gYWRkQ29tcG9uZW50KGtleSwgY29tcG9uZW50KSB7XG4gICAgdGhpc1trZXldID0gY29tcG9uZW50O1xufVxuXG5mdW5jdGlvbiByZW1vdmVDb21wb25lbnQoa2V5KSB7XG4gICAgaWYgKHRoaXNba2V5XSkge1xuXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGNzcywgb2JzZXJ2ZXIsIGNvcmUsIGFkZENvbXBvbmVudCwgcmVtb3ZlQ29tcG9uZW50fVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/index.js\n')},"./node_modules/file-loader/dist/cjs.js!../CoCreate-select/src/CoCreate-select.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "eaddb3aea56752094a14d18001b9856d.css");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvQ29DcmVhdGUtc2VsZWN0LmNzcz8zMDYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxxQkFBdUIseUNBQXlDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2ZpbGUtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvQ29DcmVhdGUtc2VsZWN0LmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlYWRkYjNhZWE1Njc1MjA5NGExNGQxODAwMWI5ODU2ZC5jc3NcIjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/file-loader/dist/cjs.js!../CoCreate-select/src/CoCreate-select.css\n')},"../CoCreate-select/src/CoCreate-select.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../CoCreate-attributes/node_modules/style-loader/dist/runtime/injectStylesIntoLinkTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoLinkTag.js");\n/* harmony import */ var _CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CoCreate_attributes_node_modules_file_loader_dist_cjs_js_CoCreate_select_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../CoCreate-attributes/node_modules/file-loader/dist/cjs.js!./CoCreate-select.css */ "./node_modules/file-loader/dist/cjs.js!../CoCreate-select/src/CoCreate-select.css");\n\n            \n\nvar options = {"injectType":"linkTag"};\n\noptions.insert = "head";\n\nvar update = _CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_CoCreate_attributes_node_modules_file_loader_dist_cjs_js_CoCreate_select_css__WEBPACK_IMPORTED_MODULE_1__.default, options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvQ29DcmVhdGUtc2VsZWN0LmNzcz8zNzY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0c7QUFDL0csWUFBeUg7O0FBRXpILGVBQWU7O0FBRWY7O0FBRUEsYUFBYSw2SEFBRyxDQUFDLGtIQUFPOzs7O0FBSXhCLGlFQUFlLEUiLCJmaWxlIjoiLi4vQ29DcmVhdGUtc2VsZWN0L3NyYy9Db0NyZWF0ZS1zZWxlY3QuY3NzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwaSBmcm9tIFwiIS4uLy4uL0NvQ3JlYXRlLWF0dHJpYnV0ZXMvbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b0xpbmtUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uL0NvQ3JlYXRlLWF0dHJpYnV0ZXMvbm9kZV9tb2R1bGVzL2ZpbGUtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vQ29DcmVhdGUtc2VsZWN0LmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHtcImluamVjdFR5cGVcIjpcImxpbmtUYWdcIn07XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCB7fSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-select/src/CoCreate-select.css\n')}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var B=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](B,B.exports,__webpack_require__),B.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,F,B,U)=>{if(!F){var t=1/0;for(l=0;l<deferred.length;l++){for(var[F,B,U]=deferred[l],n=!0,e=0;e<F.length;e++)(!1&U||t>=U)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](F[e])))?F.splice(e--,1):(n=!1,U<t&&(t=U));n&&(deferred.splice(l--,1),Q=B())}return Q}U=U||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>U;l--)deferred[l]=deferred[l-1];deferred[l]=[F,B,U]},__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},getProto=Object.getPrototypeOf?Q=>Object.getPrototypeOf(Q):Q=>Q.__proto__,__webpack_require__.t=function(Q,F){if(1&F&&(Q=this(Q)),8&F)return Q;if("object"==typeof Q&&Q){if(4&F&&Q.__esModule)return Q;if(16&F&&"function"==typeof Q.then)return Q}var B=Object.create(null);__webpack_require__.r(B);var U={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var t=2&F&&Q;"object"==typeof t&&!~leafPrototypes.indexOf(t);t=getProto(t))Object.getOwnPropertyNames(t).forEach((F=>U[F]=()=>Q[F]));return U.default=()=>Q,__webpack_require__.d(B,U),B},__webpack_require__.d=(Q,F)=>{for(var B in F)__webpack_require__.o(F,B)&&!__webpack_require__.o(Q,B)&&Object.defineProperty(Q,B,{enumerable:!0,get:F[B]})},__webpack_require__.f={},__webpack_require__.e=Q=>Promise.all(Object.keys(__webpack_require__.f).reduce(((F,B)=>(__webpack_require__.f[B](Q,F),F)),[])),__webpack_require__.u=Q=>""+Q+__webpack_require__.h()+".js",__webpack_require__.miniCssF=Q=>{},__webpack_require__.h=()=>"0ffc363a7380d6b0b270",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),inProgress={},dataWebpackPrefix="CoCreate.attributes:",__webpack_require__.l=(Q,F,B,U)=>{if(inProgress[Q])inProgress[Q].push(F);else{var t,n;if(void 0!==B)for(var e=document.getElementsByTagName("script"),l=0;l<e.length;l++){var s=e[l];if(s.getAttribute("src")==Q||s.getAttribute("data-webpack")==dataWebpackPrefix+B){t=s;break}}t||(n=!0,(t=document.createElement("script")).charset="utf-8",t.timeout=120,__webpack_require__.nc&&t.setAttribute("nonce",__webpack_require__.nc),t.setAttribute("data-webpack",dataWebpackPrefix+B),t.src=Q),inProgress[Q]=[F];var c=(F,B)=>{t.onerror=t.onload=null,clearTimeout(I);var U=inProgress[Q];if(delete inProgress[Q],t.parentNode&&t.parentNode.removeChild(t),U&&U.forEach((Q=>Q(B))),F)return F(B)},I=setTimeout(c.bind(null,void 0,{type:"timeout",target:t}),12e4);t.onerror=c.bind(null,t.onerror),t.onload=c.bind(null,t.onload),n&&document.head.appendChild(t)}},__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},(()=>{var Q;__webpack_require__.g.importScripts&&(Q=__webpack_require__.g.location+"");var F=__webpack_require__.g.document;if(!Q&&F&&(F.currentScript&&(Q=F.currentScript.src),!Q)){var B=F.getElementsByTagName("script");B.length&&(Q=B[B.length-1].src)}if(!Q)throw new Error("Automatic publicPath is not supported in this browser");Q=Q.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=Q})(),(()=>{var Q={"CoCreate-attributes":0};__webpack_require__.f.j=(F,B)=>{var U=__webpack_require__.o(Q,F)?Q[F]:void 0;if(0!==U)if(U)B.push(U[2]);else{var t=new Promise(((B,t)=>U=Q[F]=[B,t]));B.push(U[2]=t);var n=__webpack_require__.p+__webpack_require__.u(F),e=new Error;__webpack_require__.l(n,(B=>{if(__webpack_require__.o(Q,F)&&(0!==(U=Q[F])&&(Q[F]=void 0),U)){var t=B&&("load"===B.type?"missing":B.type),n=B&&B.target&&B.target.src;e.message="Loading chunk "+F+" failed.\n("+t+": "+n+")",e.name="ChunkLoadError",e.type=t,e.request=n,U[1](e)}}),"chunk-"+F,F)}},__webpack_require__.O.j=F=>0===Q[F];var F=(F,B)=>{var U,t,[n,e,l]=B,s=0;for(U in e)__webpack_require__.o(e,U)&&(__webpack_require__.m[U]=e[U]);for(l&&l(__webpack_require__),F&&F(B);s<n.length;s++)t=n[s],__webpack_require__.o(Q,t)&&Q[t]&&Q[t][0](),Q[n[s]]=0;__webpack_require__.O()},B=this.webpackChunkCoCreate_attributes=this.webpackChunkCoCreate_attributes||[];B.forEach(F.bind(null,0)),B.push=F.bind(null,B.push.bind(B))})();var __webpack_exports__=__webpack_require__.O(void 0,["vendors-node_modules_style-loader_dist_runtime_injectStylesIntoLinkTag_js-CoCreate-crdt_node_-f0c094"],(()=>__webpack_require__("./src/index.js")));return __webpack_exports__=__webpack_require__.O(__webpack_exports__),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()}));