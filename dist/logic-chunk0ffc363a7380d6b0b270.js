/*! For license information please see logic-chunk0ffc363a7380d6b0b270.js.LICENSE.txt */
(this.webpackChunkCoCreate_attributes=this.webpackChunkCoCreate_attributes||[]).push([["logic-chunk"],{"../../CoCreateJS/node_modules/@cocreate/logic/src/attributes.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _cocreate_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cocreate/observer */ \"../../CoCreateJS/node_modules/@cocreate/observer/src/index.js\");\n/* harmony import */ var _cocreate_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cocreate/utils */ \"../../CoCreateJS/node_modules/@cocreate/utils/src/index.js\");\n/* harmony import */ var _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cocreate/cocreatejs */ \"../../CoCreateJS/node_modules/@cocreate/cocreatejs/src/index.js\");\n\n\n\n\nconst CoCreateAttributes = {\n\t//. key: colleciton.document_id.name,\n\t//. example:  \n\t/** modules.xxxxx.test: [\n\t *\t{el: element, attr: 'data-test1'},\n\t *\t{el: element, attr: 'data-test2'}\n\t * ]\n\t * \n\t **/\n\tmainInfo: {},\n\t\n\tinit: function() {\n\t\t// registerModule('fetch-attributes', this, null, this.getRequest, this.renderAttribute);\n\t\tconst self = this;\n\t\t_cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_2__.socket.listen('updateDocument', function(data) {\n\t\t\tself.render(data)\n\t\t})\n\t\t\n\t\t_cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_2__.socket.listen('readDocument', function(data) {\n\t\t\tself.render(data)\n\t\t})\n\t\t\n\t\t_cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_2__.socket.listen('connect', function(data) {\n\t\t\t// self.getRequest()\n\t\t\tself.__getRequest()\n\t\t})\n\t},\n\n\tinitElement: function(container) {\n\t\tconst requests = this.__getRequest(container)\n\n\t\tif (requests) {\n\t\t\t\n\t\t\trequests.forEach((req) => {\n\t\t\t\t_cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_2__.crud.readDocument({\n\t\t\t\t\tcollection: req['collection'],\n\t\t\t\t\tdocument_id: req['document_id']\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t},\n\n\trender: function(data) {\n\t\tconst collection = data['collection'];\n\t\tconst document_id = data['document_id'];\n\t\t\n\t\tfor (let name in data.data) {\n\t\t\tconst key = this.__makeKey(collection, document_id, name) \n\t\t\tconst value = data.data[name];\n\t\t\tif (this.mainInfo[key]) {\n\t\t\t\tthis.mainInfo[key].forEach((item) => {\n\t\t\t\t\titem.el.setAttribute(item.attr, value);\n\t\t\t\t\t\n\t\t\t\t\t// if (item.attr == 'data-collection') {\n\t\t\t\t\t// \trunInitModule('cocreate-text');\t\t\t\t\t\t\n\t\t\t\t\t// } \n\t\t\t\t\t\n\t\t\t\t\titem.el.dispatchEvent(new CustomEvent('CoCreateAttribute-run', {\n\t\t\t\t\t\teventType: 'rendered',\n\t\t\t\t\t\titem: item.el\n\t\t\t\t\t}))\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\t\n\tsetValue: function(element, data) {\n\t\t\n\t},\n\t\n\t__getRequest: function(container) {\n\t\tlet fetch_container = container || document;\n\t\tlet elements = fetch_container.querySelectorAll('[fetch-for]');\n\t\tlet self = this;\n\n\t\tlet requestData = [];\n\t\t\n\t\tif (elements.length === 0 && fetch_container != document && fetch_container.hasAttributes('fetch-for')) {\n\t\t\telements = [fetch_container];\n\t\t}\n\n\t\telements.forEach((el) => {\n\t\t\t//. check\n\t\t\tconst el_collection = el.getAttribute('data-collection')\n\t\t\tconst el_documentId = el.getAttribute('data-document_id')\n\t\t\tconst el_name = el.getAttribute('name')\n\t\t\tconst el_value = el.getAttribute('value')\n\t\t\t\n\t\t\tconst attributes = el.attributes;\n\t\t\t\n\t\t\tfor (let i = 0; i < attributes.length; i++) {\n\t\t\t\tlet jsonInfo = self.__jsonParse(attributes[i].value);\n\t\t\t\tif (jsonInfo) {\n\t\t\t\t\tlet collection = jsonInfo['collection'] || el_collection;\n\t\t\t\t\tlet document_id = jsonInfo['document_id'] || el_documentId;\n\t\t\t\t\tlet name = jsonInfo['name'] || el_name;\n\t\t\t\t\tlet value = jsonInfo['value'] || el_value;\n\t\t\t\t\t\n\t\t\t\t\tif (jsonInfo['data-pass_id']) {\n\t\t\t\t\t\tlet pass_info = self.__checkPassId(jsonInfo['data-pass_id']);\n\t\t\t\t\t\tif (pass_info) {\n\t\t\t\t\t\t\tcollection = pass_info.collection;\n\t\t\t\t\t\t\tdocument_id = pass_info.document_id;\n\t\t\t\t\t\t\tvalue = pass_info.value;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcollection = null;\n\t\t\t\t\t\t\tdocument_id = null;\n\t\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst key = self.__makeKey(collection, document_id, name);\n\t\t\t\t\t\n\t\t\t\t\tif (collection && document_id && name) {\n\t\t\t\t\t\tif (!self.mainInfo[key]) {\n\t\t\t\t\t\t\tself.mainInfo[key] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.mainInfo[key].push({el: el, attr: attributes[i].name})\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!requestData.some((d) => d['collection'] === collection && d['document_id'] === document_id)) {\n\t\t\t\t\t\t\trequestData.push({collection, document_id})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn requestData;\n\t},\n\t\n\t__jsonParse: function(str_data) {\n\t\ttry {\n\t\t\tlet json_data = JSON.parse(str_data);\n\t\t\tif (typeof json_data === 'object' && json_data != null) {\n\t\t\t\treturn json_data;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn null;\n\t\t}\n\t},\n\t\n\t__checkPassId: function(pass_id) {\n\t\tvar dataParams = localStorage.getItem('dataParams');\n\t\tdataParams = JSON.parse(dataParams);\n\n\t\tif (!dataParams || dataParams.length == 0) return null;\n\n\t\tfor (var i = 0; i < dataParams.length; i++) {\n\t\t\tif (dataParams[i].pass_to == pass_id) {\n\t\t\t\treturn {\n\t\t\t\t\tcollection: dataParams[i].collection, \n\t\t\t\t\tdocument_id: dataParams[i].document_id,\n\t\t\t\t\tvalue: dataParams[i].value\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\t\n\t__makeKey: function (collection, document_id, name) {\n\t\treturn `${collection}_${document_id}_${name}`;\n\t}, \n}\n\n\nCoCreateAttributes.init();\n\n_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.init({ \n\tname: 'CoCreateAttributes', \n\tobserve: ['subtree', 'childList'],\n\tinclude: '[data-for]', \n\tcallback: function(mutation) {\n\t\tCoCreateAttributes.initElement(mutation.target)\n\t}\n});\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoCreateAttributes);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9sb2dpYy9zcmMvYXR0cmlidXRlcy5qcz8yYWRmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDTDtBQUNjOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZ0NBQWdDO0FBQ3JDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLEVBQUUsK0RBQWE7QUFDZjtBQUNBLEdBQUc7O0FBRUgsRUFBRSwrREFBYTtBQUNmO0FBQ0EsR0FBRzs7QUFFSCxFQUFFLCtEQUFhO0FBQ2Y7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJLG1FQUFpQjtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDO0FBQ0EsUzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrQkFBa0IsdUJBQXVCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpQ0FBaUM7O0FBRWhFO0FBQ0EseUJBQXlCLHdCQUF3QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxZQUFZLFdBQVcsR0FBRyxZQUFZLEdBQUcsS0FBSztBQUM5QyxFQUFFO0FBQ0Y7OztBQUdBOztBQUVBLDREQUFhLEU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGlFQUFlLGtCQUFrQiIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvbG9naWMvc3JjL2F0dHJpYnV0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IHV0aWxzIGZyb20gJ0Bjb2NyZWF0ZS91dGlscyc7XG5pbXBvcnQge3NvY2tldCwgY3J1ZH0gZnJvbSAnQGNvY3JlYXRlL2NvY3JlYXRlanMnO1xuXG5jb25zdCBDb0NyZWF0ZUF0dHJpYnV0ZXMgPSB7XG5cdC8vLiBrZXk6IGNvbGxlY2l0b24uZG9jdW1lbnRfaWQubmFtZSxcblx0Ly8uIGV4YW1wbGU6ICBcblx0LyoqIG1vZHVsZXMueHh4eHgudGVzdDogW1xuXHQgKlx0e2VsOiBlbGVtZW50LCBhdHRyOiAnZGF0YS10ZXN0MSd9LFxuXHQgKlx0e2VsOiBlbGVtZW50LCBhdHRyOiAnZGF0YS10ZXN0Mid9XG5cdCAqIF1cblx0ICogXG5cdCAqKi9cblx0bWFpbkluZm86IHt9LFxuXHRcblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gcmVnaXN0ZXJNb2R1bGUoJ2ZldGNoLWF0dHJpYnV0ZXMnLCB0aGlzLCBudWxsLCB0aGlzLmdldFJlcXVlc3QsIHRoaXMucmVuZGVyQXR0cmlidXRlKTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRzb2NrZXQubGlzdGVuKCd1cGRhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHNlbGYucmVuZGVyKGRhdGEpXG5cdFx0fSlcblx0XHRcblx0XHRzb2NrZXQubGlzdGVuKCdyZWFkRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRzZWxmLnJlbmRlcihkYXRhKVxuXHRcdH0pXG5cdFx0XG5cdFx0c29ja2V0Lmxpc3RlbignY29ubmVjdCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdC8vIHNlbGYuZ2V0UmVxdWVzdCgpXG5cdFx0XHRzZWxmLl9fZ2V0UmVxdWVzdCgpXG5cdFx0fSlcblx0fSxcblxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29uc3QgcmVxdWVzdHMgPSB0aGlzLl9fZ2V0UmVxdWVzdChjb250YWluZXIpXG5cblx0XHRpZiAocmVxdWVzdHMpIHtcblx0XHRcdFxuXHRcdFx0cmVxdWVzdHMuZm9yRWFjaCgocmVxKSA9PiB7XG5cdFx0XHRcdGNydWQucmVhZERvY3VtZW50KHtcblx0XHRcdFx0XHRjb2xsZWN0aW9uOiByZXFbJ2NvbGxlY3Rpb24nXSxcblx0XHRcdFx0XHRkb2N1bWVudF9pZDogcmVxWydkb2N1bWVudF9pZCddXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gZGF0YVsnY29sbGVjdGlvbiddO1xuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZGF0YVsnZG9jdW1lbnRfaWQnXTtcblx0XHRcblx0XHRmb3IgKGxldCBuYW1lIGluIGRhdGEuZGF0YSkge1xuXHRcdFx0Y29uc3Qga2V5ID0gdGhpcy5fX21ha2VLZXkoY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpIFxuXHRcdFx0Y29uc3QgdmFsdWUgPSBkYXRhLmRhdGFbbmFtZV07XG5cdFx0XHRpZiAodGhpcy5tYWluSW5mb1trZXldKSB7XG5cdFx0XHRcdHRoaXMubWFpbkluZm9ba2V5XS5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aXRlbS5lbC5zZXRBdHRyaWJ1dGUoaXRlbS5hdHRyLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gaWYgKGl0ZW0uYXR0ciA9PSAnZGF0YS1jb2xsZWN0aW9uJykge1xuXHRcdFx0XHRcdC8vIFx0cnVuSW5pdE1vZHVsZSgnY29jcmVhdGUtdGV4dCcpO1x0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIH0gXG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aXRlbS5lbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGVBdHRyaWJ1dGUtcnVuJywge1xuXHRcdFx0XHRcdFx0ZXZlbnRUeXBlOiAncmVuZGVyZWQnLFxuXHRcdFx0XHRcdFx0aXRlbTogaXRlbS5lbFxuXHRcdFx0XHRcdH0pKVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0XG5cdHNldFZhbHVlOiBmdW5jdGlvbihlbGVtZW50LCBkYXRhKSB7XG5cdFx0XG5cdH0sXG5cdFxuXHRfX2dldFJlcXVlc3Q6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdGxldCBmZXRjaF9jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0bGV0IGVsZW1lbnRzID0gZmV0Y2hfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tmZXRjaC1mb3JdJyk7XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG5cdFx0bGV0IHJlcXVlc3REYXRhID0gW107XG5cdFx0XG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCAmJiBmZXRjaF9jb250YWluZXIgIT0gZG9jdW1lbnQgJiYgZmV0Y2hfY29udGFpbmVyLmhhc0F0dHJpYnV0ZXMoJ2ZldGNoLWZvcicpKSB7XG5cdFx0XHRlbGVtZW50cyA9IFtmZXRjaF9jb250YWluZXJdO1xuXHRcdH1cblxuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHQvLy4gY2hlY2tcblx0XHRcdGNvbnN0IGVsX2NvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRjb25zdCBlbF9kb2N1bWVudElkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdGNvbnN0IGVsX25hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0Y29uc3QgZWxfdmFsdWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcblx0XHRcdFxuXHRcdFx0Y29uc3QgYXR0cmlidXRlcyA9IGVsLmF0dHJpYnV0ZXM7XG5cdFx0XHRcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRsZXQganNvbkluZm8gPSBzZWxmLl9fanNvblBhcnNlKGF0dHJpYnV0ZXNbaV0udmFsdWUpO1xuXHRcdFx0XHRpZiAoanNvbkluZm8pIHtcblx0XHRcdFx0XHRsZXQgY29sbGVjdGlvbiA9IGpzb25JbmZvWydjb2xsZWN0aW9uJ10gfHwgZWxfY29sbGVjdGlvbjtcblx0XHRcdFx0XHRsZXQgZG9jdW1lbnRfaWQgPSBqc29uSW5mb1snZG9jdW1lbnRfaWQnXSB8fCBlbF9kb2N1bWVudElkO1xuXHRcdFx0XHRcdGxldCBuYW1lID0ganNvbkluZm9bJ25hbWUnXSB8fCBlbF9uYW1lO1xuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IGpzb25JbmZvWyd2YWx1ZSddIHx8IGVsX3ZhbHVlO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChqc29uSW5mb1snZGF0YS1wYXNzX2lkJ10pIHtcblx0XHRcdFx0XHRcdGxldCBwYXNzX2luZm8gPSBzZWxmLl9fY2hlY2tQYXNzSWQoanNvbkluZm9bJ2RhdGEtcGFzc19pZCddKTtcblx0XHRcdFx0XHRcdGlmIChwYXNzX2luZm8pIHtcblx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbiA9IHBhc3NfaW5mby5jb2xsZWN0aW9uO1xuXHRcdFx0XHRcdFx0XHRkb2N1bWVudF9pZCA9IHBhc3NfaW5mby5kb2N1bWVudF9pZDtcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwYXNzX2luZm8udmFsdWU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9uID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0ZG9jdW1lbnRfaWQgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3Qga2V5ID0gc2VsZi5fX21ha2VLZXkoY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChjb2xsZWN0aW9uICYmIGRvY3VtZW50X2lkICYmIG5hbWUpIHtcblx0XHRcdFx0XHRcdGlmICghc2VsZi5tYWluSW5mb1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYubWFpbkluZm9ba2V5XSA9IFtdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2VsZi5tYWluSW5mb1trZXldLnB1c2goe2VsOiBlbCwgYXR0cjogYXR0cmlidXRlc1tpXS5uYW1lfSlcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKCFyZXF1ZXN0RGF0YS5zb21lKChkKSA9PiBkWydjb2xsZWN0aW9uJ10gPT09IGNvbGxlY3Rpb24gJiYgZFsnZG9jdW1lbnRfaWQnXSA9PT0gZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3REYXRhLnB1c2goe2NvbGxlY3Rpb24sIGRvY3VtZW50X2lkfSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHRcdHJldHVybiByZXF1ZXN0RGF0YTtcblx0fSxcblx0XG5cdF9fanNvblBhcnNlOiBmdW5jdGlvbihzdHJfZGF0YSkge1xuXHRcdHRyeSB7XG5cdFx0XHRsZXQganNvbl9kYXRhID0gSlNPTi5wYXJzZShzdHJfZGF0YSk7XG5cdFx0XHRpZiAodHlwZW9mIGpzb25fZGF0YSA9PT0gJ29iamVjdCcgJiYganNvbl9kYXRhICE9IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIGpzb25fZGF0YTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fSxcblx0XG5cdF9fY2hlY2tQYXNzSWQ6IGZ1bmN0aW9uKHBhc3NfaWQpIHtcblx0XHR2YXIgZGF0YVBhcmFtcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRhUGFyYW1zJyk7XG5cdFx0ZGF0YVBhcmFtcyA9IEpTT04ucGFyc2UoZGF0YVBhcmFtcyk7XG5cblx0XHRpZiAoIWRhdGFQYXJhbXMgfHwgZGF0YVBhcmFtcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFQYXJhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChkYXRhUGFyYW1zW2ldLnBhc3NfdG8gPT0gcGFzc19pZCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGRhdGFQYXJhbXNbaV0uY29sbGVjdGlvbiwgXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGRhdGFQYXJhbXNbaV0uZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0dmFsdWU6IGRhdGFQYXJhbXNbaV0udmFsdWVcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0sXG5cdFxuXHRfX21ha2VLZXk6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSkge1xuXHRcdHJldHVybiBgJHtjb2xsZWN0aW9ufV8ke2RvY3VtZW50X2lkfV8ke25hbWV9YDtcblx0fSwgXG59XG5cblxuQ29DcmVhdGVBdHRyaWJ1dGVzLmluaXQoKTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVBdHRyaWJ1dGVzJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLWZvcl0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Q29DcmVhdGVBdHRyaWJ1dGVzLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQXR0cmlidXRlczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/logic/src/attributes.js\n")},"../../CoCreateJS/node_modules/@cocreate/logic/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _cocreate_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cocreate/observer */ \"../../CoCreateJS/node_modules/@cocreate/observer/src/index.js\");\n/* harmony import */ var _cocreate_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cocreate/action */ \"../CoCreate-action/src/index.js\");\n/* harmony import */ var _attributes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attributes.js */ \"../../CoCreateJS/node_modules/@cocreate/logic/src/attributes.js\");\n\n\n\n\nconst CoCreateLogic = {\n\tattributes: _attributes_js__WEBPACK_IMPORTED_MODULE_2__.default,\n\t\n\tinit: function() {\n\t\tthis.__initKeys();\n\t\tthis.__initPassSessionIds();\n\t\tthis.__initPassParams();\n\t\tthis.__initPassValueParams();\n\t\t// this.__initValuePassBtns();\n\t\tthis.__initGetValueInput();\n\t\tthis.initAtagElement();\n\t},\n\t\t\n\t// getKeys\n\t__initKeys: function() {\n\t\tif (window.localStorage.getItem('apiKey')) {\n\t\t\tconfig.apiKey = window.localStorage.getItem('apiKey');\n\t\t}\n\t\tif (window.localStorage.getItem('securityKey')) {\n\t\t\tconfig.securityKey = window.localStorage.getItem('securityKey');\n\t\t}\n\t\tif (window.localStorage.getItem('organization_id')) {\n\t\t\tconfig.organization_Id = window.localStorage.getItem('organization_id');\n\t\t}\n\t},\n\t\n\t//. passSessionIds\n\t__initPassSessionIds: function() {\n\t\tlet orgId = window.localStorage.getItem('organization_id');\n\t\tlet user_id = window.localStorage.getItem('user_id');\n\t\tlet adminUI_id = window.localStorage.getItem('adminUI_id');\n\t\tlet builderUI_id = window.localStorage.getItem('builderUI_id');\n\n\t\tthis.__initPassItems(orgId, \t\t\t\".sessionOrg_Id\", true);\n\t\tthis.__initPassItems(user_id, \t\t\".sessionUser_Id\");\n\t\tthis.__initPassItems(adminUI_id,\t\".sessionAdminUI_Id\");\n\t\tthis.__initPassItems(builderUI_id,\".sessionBuilderUI_Id\");\n\t},\n\t\n\tinitElement: function(container) {\n\t\tconst self = this;\n\t\tlet mainContainer = container || document;\n\t\tif (!mainContainer.querySelectorAll) {\n\t\t\treturn;\n\t\t}\n\t\tlet elements = mainContainer.querySelectorAll('[data-pass_id]');\n\t\telements = Array.from(elements);\n\t\tif (mainContainer != document && mainContainer.hasAttribute('data-pass_id')) {\n\t\t\telements.push(mainContainer)\n\t\t}\n\t\tlet dataParams = window.localStorage.getItem('dataParams');\n\t\tdataParams = JSON.parse(dataParams);\n\t\tif (!dataParams || dataParams.length == 0) return;\n\t\t\n\t\telements.forEach((el) => {\n\t\t\tif (_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.getInitialized(el)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst pass_id = el.getAttribute('data-pass_id')\n\t\t\tconst paramObj = dataParams.find(x => x.pass_to == pass_id)\n\t\t\tif (!paramObj) return;\n\n\t\t\tconst {collection, document_id, pass_to, prefix} = paramObj;\n\t\t\t_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.setInitialized(el)\n\t\t\t\n\t\t\tif (el.tagName === \"FORM\" && !el.getAttribute('data-colleciton') && collection) {\n\t\t\t\tel.setAttribute('data-colleciton', collection);\n\t\t\t}\n\t\t\tself.__setPassAttributes(el, paramObj);\n\n\n\t\t});\n\t},\n\t\n\tinitAtagElement: function() {\n\t\tconst self = this;\n\t\tdocument.addEventListener('click', function(event) {\n\t\t\tconst target = event.target.closest('a, button')\n\t\t\tif (!target)  return;\n\t\t\t\n\t\t\tif (target.getAttribute('target') === 'modal' && target.getAttribute('data-pass_to')) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// event.stopImmediatePropagation()\n\t\t\t\tself.setLinkProcess(target);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst href = target.getAttribute('href');\n\t\t\tif (target.getAttribute('target') !== 'modal') {\n\t\t\t\tif (target.hasAttribute('data-actions')) return;\n\t\t\t\tif (!self.passSubmitProcess(target)) return;\n\t\t\t\tconst pass_to = target.getAttribute('data-pass_to');\n\t\t\t\tif (href) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tself.storePassData(target)\n\t\t\t\t\tself.openAnother(target)\n\t\t\t\t} else {\n\t\t\t\t\tself.storePassData(target)\n\t\t\t\t\tif (pass_to) {\n\t\t\t\t\t\tself.__initPassParams(pass_to);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t})\n\t},\n\t\n\t//. passParams\n\t__initPassParams: function(pass_to) {\n\t\tvar dataParams = window.localStorage.getItem('dataParams');\n\t\tdataParams = JSON.parse(dataParams);\n\n\t\tif (!dataParams || dataParams.length == 0) return;\n\t\tlet self = this;\n\t\t\n\t\tdataParams.forEach(function(dataParam) {\n\t\t\tvar param_collection = dataParam.collection;\n\t\t\tvar param_document_id = dataParam.document_id;\n\t\t\tvar param_prefix = dataParam.prefix;\n\t\t\tvar param_pass_to = dataParam.pass_to;\n\t\t\t\n\t\t\tif (pass_to && param_pass_to != pass_to) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar forms = document.querySelectorAll('form');\n\t\t\t\n\t\t\tforms.forEach((form) => {\n\t\t\t\tvar pass_id = form.getAttribute('data-pass_id');\n\t\t\t\tif (pass_id && pass_id == param_pass_to && param_collection && param_collection != \"\") {\n\t\t\t\t\tif (!form.getAttribute('data-collection')) {\n\t\t\t\t\t\tform.setAttribute('data-collection', param_collection);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tvar allTags = document.querySelectorAll('[data-pass_id]');\n\t\t\tallTags.forEach((tag) => {\n\t\t\t\tvar pass_id = tag.getAttribute('data-pass_id');\n\t\t\t\tif (pass_id && pass_id == param_pass_to) {\n\t\t\t\t\tself.__setPassAttributes(tag, dataParam)\n\t\t\t\t}\n\t\t\t})\n\t\t})\t\t\n\t},\n\t\n\t// passValueParams\n\t__initPassValueParams: function(contianer) {\n\t\tvar valueParams = window.localStorage.getItem('valueParams');\n\t\tvalueParams = JSON.parse(valueParams);\n\t\t\n\t\tif (!valueParams || valueParams.length == 0) return;\n\t\t\n\t\tvalueParams.forEach(function(valueParam) {\n\t\t\tvar pass_value_to = valueParam.pass_value_to;\n\t\t\t// var inputs = (contianer || document).querySelectorAll('input, textarea, select');\n\t\t\tvar inputs = (contianer || document).querySelectorAll('[data-pass_value_id]');\n\t\t\t\n\t\t\tinputs.forEach((input) => {\n\t\t\t\tlet pass_value_id = input.getAttribute('data-pass_value_id');\n\t\t\t\t\n\t\t\t\tif (pass_value_id && pass_value_id == pass_value_to) {\n\t\t\t\t\tif (['INPUT', 'TEXTAREA', 'SELECT'].includes(input.tagName)) {\n\t\t\t\t\t\tinput.value = valueParam.value;\n\t\t\t\t\t\tif (CoCreate.floatingLabel) CoCreate.floatingLabel.update(input)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinput.innerHTML = valueParam.value;\n\t\t\t\t\t}\n\t\t\t\t}\t    \t\n\t\t\t})\n\t\t})\t\t\n\t},\n\t\n\t__getPassAttributes: function (element) {\n\t\treturn {\n\t\t\tcollection : element.getAttribute('data-pass_collection') || element.getAttribute('data-pass_fetch_collection'),\n\t\t\tdocument_id : element.getAttribute('data-pass_document_id'),\n\t\t\tname : element.getAttribute('data-pass_name'),\n\t\t\tvalue : element.getAttribute('data-pass_value'),\n\t\t\tpass_to: element.getAttribute('data-pass_to'),\n\t\t\tfilter_name: element.getAttribute('data-pass_filter_name'),\n\t\t\tfilter_value: element.getAttribute('data-pass_filter_value'),\n\t\t\tprefix: element.getAttribute('data-pass_prefix') || \"\"\n\t\t}\t\n\t},\n\t\n\t__setPassAttributes: function(el, param) {\n\t\tconst {collection, document_id, name, value, pass_to, filter_name, filter_value, prefix} = param;\n\t\tconst pass_id = el.getAttribute('data-pass_id')\n\t\tconst isRefresh = el.hasAttribute('data-pass_refresh') ? true: false;\n\t\t\n\t\tif (pass_id != pass_to) return ;\n\t\t\n\t\tif (collection) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-collection', collection, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_collection', collection, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_fetch_collection', collection, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_collection', collection, isRefresh);\n\t\t}\n\t\t\n\t\tif (document_id) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-document_id', document_id, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_document_id', document_id, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_fetch_document_id', document_id, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_document_id', document_id, isRefresh);\n\t\t}\n\t\t\n\t\tif (name) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'name', name, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_name', name, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_name', name, isRefresh);\n\t\t}\n\t\t\n\t\tif (value) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'value', value, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_value', value, isRefresh);\n\t\t}\n\t\t\n\t\tif (prefix) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'name', prefix + el.getAttribute('name'), isRefresh, true);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_name', prefix + el.getAttribute('data-fetch_name'), isRefresh, true);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_prefix', prefix, isRefresh);\n\t\t}\n\t\t\n\t\tif (filter_name) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-filter_name', filter_name, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_filter_name', filter_name, isRefresh);\n\t\t}\n\t\t\n\t\tif (filter_value) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-filter_value', filter_value, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_filter_value', filter_value, isRefresh);\n\t\t}\n\t},\n\t\n\t__setAttributeValueOfElement: function (el, attrname, value, isRefresh, onlyHas) {\n\t\tif (value) {\n\t\t\tif (el.hasAttribute(attrname) && onlyHas) {\n\t\t\t\tel.setAttribute(attrname, value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (el.hasAttribute(attrname) && (!el.getAttribute(attrname) || isRefresh)) {\n\t\t\t\tel.setAttribute(attrname, value);\n\t\t\t\treturn \n\t\t\t}\n\t\t}\n\t},\n\t\n\t//. storePassData\n\tstorePassData: function(aTag) {\n\t\tlet dataParams = [];\n\t\tconst self = this;\n\t\tlet param = this.__getPassAttributes(aTag);\n\t\t\n\t\tif (aTag.hasAttribute('data-actions')) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (param.pass_to) {\n\t\t\tdataParams.push(param);\n\t\t}\n\t\t\n\t\tlet tags = aTag.querySelectorAll('[data-pass_to]');\n\n\t\ttags.forEach((tag) => {\n\t\t\tlet passParam = self.__getPassAttributes(tag)\n\t\t\tif (passParam.pass_to) {\n\t\t\t\tdataParams.push(passParam);\n\t\t\t}\t\t\t\n\t\t})\n\t\tif (dataParams.length > 0) localStorage.setItem('dataParams', JSON.stringify(dataParams));\n\t},\n\t\n\n\t//. initValuePassBtns\n\t__initValuePassBtns: function() {\n\t\t// let forms = document.getElementsByTagName('form');\n\t\n\t\t// for (let i=0; i < forms.length; i++) {\n\t\t// \tlet form = forms[i];\n\t\t\t\n\t\t// \tlet valuePassBtn = form.querySelector('.passValueBtn');\n\t\t\t\n\t\t// \tif (valuePassBtn) this.__registerValuePassBtnEvent(form, valuePassBtn);\n\t\t// }\n\t},\n\t\n\t__initGetValueInput: function() {\n\t\tvar inputs = document.querySelectorAll('input, textarea');\n\t\tlet self = this;\n\t\t\n\t\tfor (var i = 0; i < inputs.length; i++) {\n\t\t  var input = inputs[i];\n\t\t  \n\t\t  if (!input.id) {\n\t\t\tcontinue;\n\t\t  }\n\t\t  \n\t\t  input.addEventListener('input', function(e) {\n\t\t\tself.__setGetValueProcess(this.id, this.value)\n\t\t  })\n\t\t  \n\t\t  input.addEventListener('updated_by_fetch', function(e) {\n\t\t\tself.__setGetValueProcess(this.id, this.value);\n\t\t  })\n\t\t}\n\t},\n\t\n\t//. initValuePassBtn\n\t__registerValuePassBtnEvent: function(form, valuePassBtn) {\n\t\t// let self = this;\n\t\t// return;\n\t\t// valuePassBtn.addEventListener('click', function(e) {\n\t\t// \tlet inputs = form.querySelectorAll('input, textarea, select');\n\t\t\t\n\t\t// \tif (valuePassBtn.hasAttribute('data-actions')) {\n\t\t// \t\treturn;\n\t\t// \t}\n\t\t\t\n\t\t// \tlet valueParams = [];\n\t\t\t\n\t\t// \tfor (let i = 0; i < inputs.length; i++) {\n\t\t// \t\tlet input = inputs[i];\n\t\t\t\t\n\t\t// \t\tlet pass_value_to = input.getAttribute('data-pass_value_to');\n\t\t// \t\tlet value = input.value;\n\t\t\t\t\n\t\t// \t\tif (pass_value_to) {\n\t\t// \t\t\tvalueParams.push({\n\t\t// \t\t\t\tpass_value_to: pass_value_to,\n\t\t// \t\t\t\tvalue: value\n\t\t// \t\t\t})\n\t\t// \t\t}\n\t\t// \t}\n\t\t\t\n\t\t// \tif (valueParams.length > 0) localStorage.setItem('valueParams', JSON.stringify(valueParams));\n\t\t\t\n\t\t// \tself.__initPassValueParams();\n\t\t\t\n\t\t// \tlet aTag = valuePassBtn.querySelector('a');\n\t\t\t\n\t\t// \tif (aTag) self.setLinkProcess(aTag);\n\t\t// })\n\t},\n\t\n\tpassProcessAction: function(btn) {\n\t\tlet form = btn.closest('form')\n\t\tif (!form) return;\n\t\t\n\t\tlet inputs = form.querySelectorAll('input, textarea, select');\n\t\tlet valueParams = [];\n\t\t\n\t\tinputs.forEach(el => {\n\t\t\tconst pass_value_to = el.getAttribute('data-pass_value_to');\n\t\t\tconst value = el.value;\n\t\t\tif (pass_value_to) {\n\t\t\t\tvalueParams.push({\n\t\t\t\t\tpass_value_to: pass_value_to,\n\t\t\t\t\tvalue: value\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\t\n\t\tif (valueParams.length > 0) {\n\t\t\twindow.localStorage.setItem('valueParams', JSON.stringify(valueParams));\n\t\t}\n\t\tthis.__initPassValueParams()\n\t\t// let aTag = btn.querySelector('a');\n\t\t// if (aTag) this.setLinkProcess(aTag);\n\t\t\n\t\t//. end event\n\t\tdocument.dispatchEvent(new CustomEvent('passValueActionEnd', {\n\t\t\tdetail: {}\n\t\t}))\n\t},\n\t\n\tsetDataPassValues: function(values) {\n\t\tconst valueParams = []\n\t\tfor ( let key in values) {\n\t\t\tvalueParams.push({\n\t\t\t\tpass_value_to: key,\n\t\t\t\tvalue: values[key]\n\t\t\t})\n\t\t}\n\t\t\n\t\tif (valueParams.length > 0) {\n\t\t\twindow.localStorage.setItem('valueParams', JSON.stringify(valueParams));\n\t\t}\n\t},\n\t\n\tinitDataPassValues: function() {\n\t\twindow.localStorage.removeItem('valueParams');\t\n\t},\n\n\t//. openAnother\n\topenAnother: function(atag) {\n\n\t\tvar href = atag.getAttribute('href');\n\t\tvar target = atag.getAttribute('target');\n\t\t\n\t\tif (target == \"_blank\") {\n\t\t  window.open(href, \"_blank\");  \n\t\t} else if (target == \"_window\") {\n\t\t  window.open(href, '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');\n\t\t} else {\n\t\t  window.open(href, \"_self\");\n\t\t}\n\t},\n\t\n\t//. clickATaginButton\n\tsetLinkProcess: function(aTag) {\n\t\t\n\t\tif(aTag.hasAttribute('data-actions')) {\n\t\t\treturn;\n\t\t}\n\t\tconst pass_to = aTag.getAttribute('data-pass_to');\n\t\tconst href = aTag.getAttribute('href');\n\t\tthis.storePassData(aTag);\n\t\tif (this.checkOpenCocreateModal(aTag)) {\n\t\t\tif (typeof CoCreate.modal !== 'undefined') {\n\t\t\t\tCoCreate.modal.open(aTag);\n\t\t\t}\n\t\t} else if (href) {\n\t\t\tthis.openAnother(aTag);\n\t\t} else if (pass_to) {\n\t\t\tthis.__initPassParams(pass_to);\n\t\t}\n\t},\n\t\n\tcheckOpenCocreateModal: function(atag) {\n\t  if (atag.getAttribute('target') === \"modal\") {\n\t\treturn true;\n\t  } \n\t  return false;\n\t},\n\t\n\tpassSubmitProcess: function(element) {\n\t\tif (element.parentNode.classList.contains('submitBtn')) {\n\t\t\tif ( element.getAttribute('data-pass_to') && element.getAttribute('data-pass_document_id')) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t},\n\t\n\t\n\t__setGetValueProcess: function(id, value) {\n\t\t\n\t\tif (!id) return;\n  \n\t\tvar targets = document.querySelectorAll('[data-get_value=\"' + id + '\"]');\n\t\t\n\t\ttargets.forEach((target) => {\n\t\t  // target.value = value;\n\t\t  if (typeof(target.value) != \"undefined\") {\n\t\t\ttarget.value = value;\n\t\t  } else if (typeof(target.textContent) != \"undefined\") {\n\t\t\ttarget.textContent = value;\n\t\t  }\n\t\t  \n\t\t  if (CoCreate.floatingLabel) CoCreate.floatingLabel.update(target)\n\t\t  \n\t\t  target.dispatchEvent(new Event(\"input\", {\"bubbles\":true})); \n\t\t  \n\t\t  if (target.classList.contains('searchInput')) {\n\t\t\tlet evt = new KeyboardEvent('keydown', {'keyCode': 13});\n\t\t\ttarget.dispatchEvent(evt);\n\t\t  }\n\t\t})\n\t},\n\t\n\t__initPassItems: function(id, selector, noFetch) {\n\t\tconst self = this;\n\t\tif (id) {\n\t\t\tlet elements = document.querySelectorAll(selector);\n\t\t\telements.forEach(el => {\n\t\t\t\tself.__setAttributeValueOfElement(el, 'data-document_id', id);\n\t\t\t\t// self.__setAttributeValueOfElement(el, 'data-fetch_document_id', id);\n\t\t\t\tself.__setAttributeValueOfElement(el, 'data-filter_value', id);\n\t\t\t})\n\t\t}\n\t},\n}\n\n\nCoCreateLogic.init();\n\n_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.init({ \n\tname: 'CoCreateAttributes', \n\tobserve: ['subtree', 'childList'],\n\tinclude: '[data-for]', \n\tcallback: function(mutation) {\n\t\tCoCreateLogic.attributes.initElement(mutation.target)\n\t}\n});\n\n_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.init({ \n\tname: 'CoCreateLogic', \n\tobserve: ['subtree', 'childList'],\n\tinclude: '[data-pass_id]', \n\tcallback: function(mutation) {\n\t\tCoCreateLogic.initElement(mutation.target)\n\t}\n});\n\n_cocreate_action__WEBPACK_IMPORTED_MODULE_1__.default.init({\n\taction: \"passValueAction\",\n\tendEvent: \"passValueActionEnd\",\n\tcallback: (btn, data) => {\n\t\tCoCreateLogic.passProcessAction(btn)\n\t},\n})\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoCreateLogic);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9sb2dpYy9zcmMvaW5kZXguanM/MDc4NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDO0FBQ0o7QUFDVzs7QUFFaEQ7QUFDQSxhQUFhLG1EQUFrQjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxzRUFBdUI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSx5Q0FBeUM7QUFDbkQsR0FBRyxzRUFBdUI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElB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QUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDREQUFhLEU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDBEQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsQ0FBQzs7QUFFRCxpRUFBZSxhQUFhIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9sb2dpYy9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IGFjdGlvbiBmcm9tICdAY29jcmVhdGUvYWN0aW9uJ1xuaW1wb3J0IENvQ3JlYXRlQXR0cmlidXRlcyBmcm9tIFwiLi9hdHRyaWJ1dGVzLmpzXCJcblxuY29uc3QgQ29DcmVhdGVMb2dpYyA9IHtcblx0YXR0cmlidXRlczogQ29DcmVhdGVBdHRyaWJ1dGVzLFxuXHRcblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fX2luaXRLZXlzKCk7XG5cdFx0dGhpcy5fX2luaXRQYXNzU2Vzc2lvbklkcygpO1xuXHRcdHRoaXMuX19pbml0UGFzc1BhcmFtcygpO1xuXHRcdHRoaXMuX19pbml0UGFzc1ZhbHVlUGFyYW1zKCk7XG5cdFx0Ly8gdGhpcy5fX2luaXRWYWx1ZVBhc3NCdG5zKCk7XG5cdFx0dGhpcy5fX2luaXRHZXRWYWx1ZUlucHV0KCk7XG5cdFx0dGhpcy5pbml0QXRhZ0VsZW1lbnQoKTtcblx0fSxcblx0XHRcblx0Ly8gZ2V0S2V5c1xuXHRfX2luaXRLZXlzOiBmdW5jdGlvbigpIHtcblx0XHRpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcGlLZXknKSkge1xuXHRcdFx0Y29uZmlnLmFwaUtleSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXBpS2V5Jyk7XG5cdFx0fVxuXHRcdGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlY3VyaXR5S2V5JykpIHtcblx0XHRcdGNvbmZpZy5zZWN1cml0eUtleSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VjdXJpdHlLZXknKTtcblx0XHR9XG5cdFx0aWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb3JnYW5pemF0aW9uX2lkJykpIHtcblx0XHRcdGNvbmZpZy5vcmdhbml6YXRpb25fSWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29yZ2FuaXphdGlvbl9pZCcpO1xuXHRcdH1cblx0fSxcblx0XG5cdC8vLiBwYXNzU2Vzc2lvbklkc1xuXHRfX2luaXRQYXNzU2Vzc2lvbklkczogZnVuY3Rpb24oKSB7XG5cdFx0bGV0IG9yZ0lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmdhbml6YXRpb25faWQnKTtcblx0XHRsZXQgdXNlcl9pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpO1xuXHRcdGxldCBhZG1pblVJX2lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhZG1pblVJX2lkJyk7XG5cdFx0bGV0IGJ1aWxkZXJVSV9pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYnVpbGRlclVJX2lkJyk7XG5cblx0XHR0aGlzLl9faW5pdFBhc3NJdGVtcyhvcmdJZCwgXHRcdFx0XCIuc2Vzc2lvbk9yZ19JZFwiLCB0cnVlKTtcblx0XHR0aGlzLl9faW5pdFBhc3NJdGVtcyh1c2VyX2lkLCBcdFx0XCIuc2Vzc2lvblVzZXJfSWRcIik7XG5cdFx0dGhpcy5fX2luaXRQYXNzSXRlbXMoYWRtaW5VSV9pZCxcdFwiLnNlc3Npb25BZG1pblVJX0lkXCIpO1xuXHRcdHRoaXMuX19pbml0UGFzc0l0ZW1zKGJ1aWxkZXJVSV9pZCxcIi5zZXNzaW9uQnVpbGRlclVJX0lkXCIpO1xuXHR9LFxuXHRcblx0aW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGxldCBtYWluQ29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuXHRcdGlmICghbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGxldCBlbGVtZW50cyA9IG1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFzc19pZF0nKTtcblx0XHRlbGVtZW50cyA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuXHRcdGlmIChtYWluQ29udGFpbmVyICE9IGRvY3VtZW50ICYmIG1haW5Db250YWluZXIuaGFzQXR0cmlidXRlKCdkYXRhLXBhc3NfaWQnKSkge1xuXHRcdFx0ZWxlbWVudHMucHVzaChtYWluQ29udGFpbmVyKVxuXHRcdH1cblx0XHRsZXQgZGF0YVBhcmFtcyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF0YVBhcmFtcycpO1xuXHRcdGRhdGFQYXJhbXMgPSBKU09OLnBhcnNlKGRhdGFQYXJhbXMpO1xuXHRcdGlmICghZGF0YVBhcmFtcyB8fCBkYXRhUGFyYW1zLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cdFx0XG5cdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdGlmIChvYnNlcnZlci5nZXRJbml0aWFsaXplZChlbCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRjb25zdCBwYXNzX2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfaWQnKVxuXHRcdFx0Y29uc3QgcGFyYW1PYmogPSBkYXRhUGFyYW1zLmZpbmQoeCA9PiB4LnBhc3NfdG8gPT0gcGFzc19pZClcblx0XHRcdGlmICghcGFyYW1PYmopIHJldHVybjtcblxuXHRcdFx0Y29uc3Qge2NvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBwYXNzX3RvLCBwcmVmaXh9ID0gcGFyYW1PYmo7XG5cdFx0XHRvYnNlcnZlci5zZXRJbml0aWFsaXplZChlbClcblx0XHRcdFxuXHRcdFx0aWYgKGVsLnRhZ05hbWUgPT09IFwiRk9STVwiICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjaXRvbicpICYmIGNvbGxlY3Rpb24pIHtcblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY2l0b24nLCBjb2xsZWN0aW9uKTtcblx0XHRcdH1cblx0XHRcdHNlbGYuX19zZXRQYXNzQXR0cmlidXRlcyhlbCwgcGFyYW1PYmopO1xuXG5cblx0XHR9KTtcblx0fSxcblx0XG5cdGluaXRBdGFnRWxlbWVudDogZnVuY3Rpb24oKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ2EsIGJ1dHRvbicpXG5cdFx0XHRpZiAoIXRhcmdldCkgIHJldHVybjtcblx0XHRcdFxuXHRcdFx0aWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpID09PSAnbW9kYWwnICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdC8vIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG5cdFx0XHRcdHNlbGYuc2V0TGlua1Byb2Nlc3ModGFyZ2V0KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRjb25zdCBocmVmID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXHRcdFx0aWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpICE9PSAnbW9kYWwnKSB7XG5cdFx0XHRcdGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWFjdGlvbnMnKSkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoIXNlbGYucGFzc1N1Ym1pdFByb2Nlc3ModGFyZ2V0KSkgcmV0dXJuO1xuXHRcdFx0XHRjb25zdCBwYXNzX3RvID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJyk7XG5cdFx0XHRcdGlmIChocmVmKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRzZWxmLnN0b3JlUGFzc0RhdGEodGFyZ2V0KVxuXHRcdFx0XHRcdHNlbGYub3BlbkFub3RoZXIodGFyZ2V0KVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuc3RvcmVQYXNzRGF0YSh0YXJnZXQpXG5cdFx0XHRcdFx0aWYgKHBhc3NfdG8pIHtcblx0XHRcdFx0XHRcdHNlbGYuX19pbml0UGFzc1BhcmFtcyhwYXNzX3RvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdH0pXG5cdH0sXG5cdFxuXHQvLy4gcGFzc1BhcmFtc1xuXHRfX2luaXRQYXNzUGFyYW1zOiBmdW5jdGlvbihwYXNzX3RvKSB7XG5cdFx0dmFyIGRhdGFQYXJhbXMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhdGFQYXJhbXMnKTtcblx0XHRkYXRhUGFyYW1zID0gSlNPTi5wYXJzZShkYXRhUGFyYW1zKTtcblxuXHRcdGlmICghZGF0YVBhcmFtcyB8fCBkYXRhUGFyYW1zLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdGRhdGFQYXJhbXMuZm9yRWFjaChmdW5jdGlvbihkYXRhUGFyYW0pIHtcblx0XHRcdHZhciBwYXJhbV9jb2xsZWN0aW9uID0gZGF0YVBhcmFtLmNvbGxlY3Rpb247XG5cdFx0XHR2YXIgcGFyYW1fZG9jdW1lbnRfaWQgPSBkYXRhUGFyYW0uZG9jdW1lbnRfaWQ7XG5cdFx0XHR2YXIgcGFyYW1fcHJlZml4ID0gZGF0YVBhcmFtLnByZWZpeDtcblx0XHRcdHZhciBwYXJhbV9wYXNzX3RvID0gZGF0YVBhcmFtLnBhc3NfdG87XG5cdFx0XHRcblx0XHRcdGlmIChwYXNzX3RvICYmIHBhcmFtX3Bhc3NfdG8gIT0gcGFzc190bykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcblx0XHRcdFxuXHRcdFx0Zm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuXHRcdFx0XHR2YXIgcGFzc19pZCA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfaWQnKTtcblx0XHRcdFx0aWYgKHBhc3NfaWQgJiYgcGFzc19pZCA9PSBwYXJhbV9wYXNzX3RvICYmIHBhcmFtX2NvbGxlY3Rpb24gJiYgcGFyYW1fY29sbGVjdGlvbiAhPSBcIlwiKSB7XG5cdFx0XHRcdFx0aWYgKCFmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykpIHtcblx0XHRcdFx0XHRcdGZvcm0uc2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nLCBwYXJhbV9jb2xsZWN0aW9uKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0XHRcdHZhciBhbGxUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFzc19pZF0nKTtcblx0XHRcdGFsbFRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG5cdFx0XHRcdHZhciBwYXNzX2lkID0gdGFnLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2lkJyk7XG5cdFx0XHRcdGlmIChwYXNzX2lkICYmIHBhc3NfaWQgPT0gcGFyYW1fcGFzc190bykge1xuXHRcdFx0XHRcdHNlbGYuX19zZXRQYXNzQXR0cmlidXRlcyh0YWcsIGRhdGFQYXJhbSlcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9KVx0XHRcblx0fSxcblx0XG5cdC8vIHBhc3NWYWx1ZVBhcmFtc1xuXHRfX2luaXRQYXNzVmFsdWVQYXJhbXM6IGZ1bmN0aW9uKGNvbnRpYW5lcikge1xuXHRcdHZhciB2YWx1ZVBhcmFtcyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmFsdWVQYXJhbXMnKTtcblx0XHR2YWx1ZVBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVQYXJhbXMpO1xuXHRcdFxuXHRcdGlmICghdmFsdWVQYXJhbXMgfHwgdmFsdWVQYXJhbXMubGVuZ3RoID09IDApIHJldHVybjtcblx0XHRcblx0XHR2YWx1ZVBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlUGFyYW0pIHtcblx0XHRcdHZhciBwYXNzX3ZhbHVlX3RvID0gdmFsdWVQYXJhbS5wYXNzX3ZhbHVlX3RvO1xuXHRcdFx0Ly8gdmFyIGlucHV0cyA9IChjb250aWFuZXIgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Jyk7XG5cdFx0XHR2YXIgaW5wdXRzID0gKGNvbnRpYW5lciB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFzc192YWx1ZV9pZF0nKTtcblx0XHRcdFxuXHRcdFx0aW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG5cdFx0XHRcdGxldCBwYXNzX3ZhbHVlX2lkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdmFsdWVfaWQnKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChwYXNzX3ZhbHVlX2lkICYmIHBhc3NfdmFsdWVfaWQgPT0gcGFzc192YWx1ZV90bykge1xuXHRcdFx0XHRcdGlmIChbJ0lOUFVUJywgJ1RFWFRBUkVBJywgJ1NFTEVDVCddLmluY2x1ZGVzKGlucHV0LnRhZ05hbWUpKSB7XG5cdFx0XHRcdFx0XHRpbnB1dC52YWx1ZSA9IHZhbHVlUGFyYW0udmFsdWU7XG5cdFx0XHRcdFx0XHRpZiAoQ29DcmVhdGUuZmxvYXRpbmdMYWJlbCkgQ29DcmVhdGUuZmxvYXRpbmdMYWJlbC51cGRhdGUoaW5wdXQpXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlucHV0LmlubmVySFRNTCA9IHZhbHVlUGFyYW0udmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XHQgICAgXHRcblx0XHRcdH0pXG5cdFx0fSlcdFx0XG5cdH0sXG5cdFxuXHRfX2dldFBhc3NBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjb2xsZWN0aW9uIDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19jb2xsZWN0aW9uJykgfHwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19mZXRjaF9jb2xsZWN0aW9uJyksXG5cdFx0XHRkb2N1bWVudF9pZCA6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfZG9jdW1lbnRfaWQnKSxcblx0XHRcdG5hbWUgOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX25hbWUnKSxcblx0XHRcdHZhbHVlIDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc192YWx1ZScpLFxuXHRcdFx0cGFzc190bzogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpLFxuXHRcdFx0ZmlsdGVyX25hbWU6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfZmlsdGVyX25hbWUnKSxcblx0XHRcdGZpbHRlcl92YWx1ZTogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19maWx0ZXJfdmFsdWUnKSxcblx0XHRcdHByZWZpeDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19wcmVmaXgnKSB8fCBcIlwiXG5cdFx0fVx0XG5cdH0sXG5cdFxuXHRfX3NldFBhc3NBdHRyaWJ1dGVzOiBmdW5jdGlvbihlbCwgcGFyYW0pIHtcblx0XHRjb25zdCB7Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUsIHZhbHVlLCBwYXNzX3RvLCBmaWx0ZXJfbmFtZSwgZmlsdGVyX3ZhbHVlLCBwcmVmaXh9ID0gcGFyYW07XG5cdFx0Y29uc3QgcGFzc19pZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2lkJylcblx0XHRjb25zdCBpc1JlZnJlc2ggPSBlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGFzc19yZWZyZXNoJykgPyB0cnVlOiBmYWxzZTtcblx0XHRcblx0XHRpZiAocGFzc19pZCAhPSBwYXNzX3RvKSByZXR1cm4gO1xuXHRcdFxuXHRcdGlmIChjb2xsZWN0aW9uKSB7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWNvbGxlY3Rpb24nLCBjb2xsZWN0aW9uLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1mZXRjaF9jb2xsZWN0aW9uJywgY29sbGVjdGlvbiwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19mZXRjaF9jb2xsZWN0aW9uJywgY29sbGVjdGlvbiwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19jb2xsZWN0aW9uJywgY29sbGVjdGlvbiwgaXNSZWZyZXNoKTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGRvY3VtZW50X2lkKSB7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWRvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZldGNoX2RvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfZmV0Y2hfZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZCwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkLCBpc1JlZnJlc2gpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAobmFtZSkge1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnbmFtZScsIG5hbWUsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZldGNoX25hbWUnLCBuYW1lLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX25hbWUnLCBuYW1lLCBpc1JlZnJlc2gpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ3ZhbHVlJywgdmFsdWUsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfdmFsdWUnLCB2YWx1ZSwgaXNSZWZyZXNoKTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHByZWZpeCkge1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnbmFtZScsIHByZWZpeCArIGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpLCBpc1JlZnJlc2gsIHRydWUpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1mZXRjaF9uYW1lJywgcHJlZml4ICsgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWZldGNoX25hbWUnKSwgaXNSZWZyZXNoLCB0cnVlKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19wcmVmaXgnLCBwcmVmaXgsIGlzUmVmcmVzaCk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChmaWx0ZXJfbmFtZSkge1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1maWx0ZXJfbmFtZScsIGZpbHRlcl9uYW1lLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX2ZpbHRlcl9uYW1lJywgZmlsdGVyX25hbWUsIGlzUmVmcmVzaCk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChmaWx0ZXJfdmFsdWUpIHtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmlsdGVyX3ZhbHVlJywgZmlsdGVyX3ZhbHVlLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX2ZpbHRlcl92YWx1ZScsIGZpbHRlcl92YWx1ZSwgaXNSZWZyZXNoKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRfX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50OiBmdW5jdGlvbiAoZWwsIGF0dHJuYW1lLCB2YWx1ZSwgaXNSZWZyZXNoLCBvbmx5SGFzKSB7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoZWwuaGFzQXR0cmlidXRlKGF0dHJuYW1lKSAmJiBvbmx5SGFzKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZShhdHRybmFtZSwgdmFsdWUpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoZWwuaGFzQXR0cmlidXRlKGF0dHJuYW1lKSAmJiAoIWVsLmdldEF0dHJpYnV0ZShhdHRybmFtZSkgfHwgaXNSZWZyZXNoKSkge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoYXR0cm5hbWUsIHZhbHVlKTtcblx0XHRcdFx0cmV0dXJuIFxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0XG5cdC8vLiBzdG9yZVBhc3NEYXRhXG5cdHN0b3JlUGFzc0RhdGE6IGZ1bmN0aW9uKGFUYWcpIHtcblx0XHRsZXQgZGF0YVBhcmFtcyA9IFtdO1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGxldCBwYXJhbSA9IHRoaXMuX19nZXRQYXNzQXR0cmlidXRlcyhhVGFnKTtcblx0XHRcblx0XHRpZiAoYVRhZy5oYXNBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9ucycpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChwYXJhbS5wYXNzX3RvKSB7XG5cdFx0XHRkYXRhUGFyYW1zLnB1c2gocGFyYW0pO1xuXHRcdH1cblx0XHRcblx0XHRsZXQgdGFncyA9IGFUYWcucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFzc190b10nKTtcblxuXHRcdHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG5cdFx0XHRsZXQgcGFzc1BhcmFtID0gc2VsZi5fX2dldFBhc3NBdHRyaWJ1dGVzKHRhZylcblx0XHRcdGlmIChwYXNzUGFyYW0ucGFzc190bykge1xuXHRcdFx0XHRkYXRhUGFyYW1zLnB1c2gocGFzc1BhcmFtKTtcblx0XHRcdH1cdFx0XHRcblx0XHR9KVxuXHRcdGlmIChkYXRhUGFyYW1zLmxlbmd0aCA+IDApIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkYXRhUGFyYW1zJywgSlNPTi5zdHJpbmdpZnkoZGF0YVBhcmFtcykpO1xuXHR9LFxuXHRcblxuXHQvLy4gaW5pdFZhbHVlUGFzc0J0bnNcblx0X19pbml0VmFsdWVQYXNzQnRuczogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gbGV0IGZvcm1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Zvcm0nKTtcblx0XG5cdFx0Ly8gZm9yIChsZXQgaT0wOyBpIDwgZm9ybXMubGVuZ3RoOyBpKyspIHtcblx0XHQvLyBcdGxldCBmb3JtID0gZm9ybXNbaV07XG5cdFx0XHRcblx0XHQvLyBcdGxldCB2YWx1ZVBhc3NCdG4gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wYXNzVmFsdWVCdG4nKTtcblx0XHRcdFxuXHRcdC8vIFx0aWYgKHZhbHVlUGFzc0J0bikgdGhpcy5fX3JlZ2lzdGVyVmFsdWVQYXNzQnRuRXZlbnQoZm9ybSwgdmFsdWVQYXNzQnRuKTtcblx0XHQvLyB9XG5cdH0sXG5cdFxuXHRfX2luaXRHZXRWYWx1ZUlucHV0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRleHRhcmVhJyk7XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICB2YXIgaW5wdXQgPSBpbnB1dHNbaV07XG5cdFx0ICBcblx0XHQgIGlmICghaW5wdXQuaWQpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdCAgfVxuXHRcdCAgXG5cdFx0ICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdHNlbGYuX19zZXRHZXRWYWx1ZVByb2Nlc3ModGhpcy5pZCwgdGhpcy52YWx1ZSlcblx0XHQgIH0pXG5cdFx0ICBcblx0XHQgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWRfYnlfZmV0Y2gnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRzZWxmLl9fc2V0R2V0VmFsdWVQcm9jZXNzKHRoaXMuaWQsIHRoaXMudmFsdWUpO1xuXHRcdCAgfSlcblx0XHR9XG5cdH0sXG5cdFxuXHQvLy4gaW5pdFZhbHVlUGFzc0J0blxuXHRfX3JlZ2lzdGVyVmFsdWVQYXNzQnRuRXZlbnQ6IGZ1bmN0aW9uKGZvcm0sIHZhbHVlUGFzc0J0bikge1xuXHRcdC8vIGxldCBzZWxmID0gdGhpcztcblx0XHQvLyByZXR1cm47XG5cdFx0Ly8gdmFsdWVQYXNzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdC8vIFx0bGV0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcblx0XHRcdFxuXHRcdC8vIFx0aWYgKHZhbHVlUGFzc0J0bi5oYXNBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9ucycpKSB7XG5cdFx0Ly8gXHRcdHJldHVybjtcblx0XHQvLyBcdH1cblx0XHRcdFxuXHRcdC8vIFx0bGV0IHZhbHVlUGFyYW1zID0gW107XG5cdFx0XHRcblx0XHQvLyBcdGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gXHRcdGxldCBpbnB1dCA9IGlucHV0c1tpXTtcblx0XHRcdFx0XG5cdFx0Ly8gXHRcdGxldCBwYXNzX3ZhbHVlX3RvID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdmFsdWVfdG8nKTtcblx0XHQvLyBcdFx0bGV0IHZhbHVlID0gaW5wdXQudmFsdWU7XG5cdFx0XHRcdFxuXHRcdC8vIFx0XHRpZiAocGFzc192YWx1ZV90bykge1xuXHRcdC8vIFx0XHRcdHZhbHVlUGFyYW1zLnB1c2goe1xuXHRcdC8vIFx0XHRcdFx0cGFzc192YWx1ZV90bzogcGFzc192YWx1ZV90byxcblx0XHQvLyBcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdC8vIFx0XHRcdH0pXG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdH1cblx0XHRcdFxuXHRcdC8vIFx0aWYgKHZhbHVlUGFyYW1zLmxlbmd0aCA+IDApIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2YWx1ZVBhcmFtcycsIEpTT04uc3RyaW5naWZ5KHZhbHVlUGFyYW1zKSk7XG5cdFx0XHRcblx0XHQvLyBcdHNlbGYuX19pbml0UGFzc1ZhbHVlUGFyYW1zKCk7XG5cdFx0XHRcblx0XHQvLyBcdGxldCBhVGFnID0gdmFsdWVQYXNzQnRuLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcblx0XHRcdFxuXHRcdC8vIFx0aWYgKGFUYWcpIHNlbGYuc2V0TGlua1Byb2Nlc3MoYVRhZyk7XG5cdFx0Ly8gfSlcblx0fSxcblx0XG5cdHBhc3NQcm9jZXNzQWN0aW9uOiBmdW5jdGlvbihidG4pIHtcblx0XHRsZXQgZm9ybSA9IGJ0bi5jbG9zZXN0KCdmb3JtJylcblx0XHRpZiAoIWZvcm0pIHJldHVybjtcblx0XHRcblx0XHRsZXQgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpO1xuXHRcdGxldCB2YWx1ZVBhcmFtcyA9IFtdO1xuXHRcdFxuXHRcdGlucHV0cy5mb3JFYWNoKGVsID0+IHtcblx0XHRcdGNvbnN0IHBhc3NfdmFsdWVfdG8gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc192YWx1ZV90bycpO1xuXHRcdFx0Y29uc3QgdmFsdWUgPSBlbC52YWx1ZTtcblx0XHRcdGlmIChwYXNzX3ZhbHVlX3RvKSB7XG5cdFx0XHRcdHZhbHVlUGFyYW1zLnB1c2goe1xuXHRcdFx0XHRcdHBhc3NfdmFsdWVfdG86IHBhc3NfdmFsdWVfdG8sXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRcblx0XHRpZiAodmFsdWVQYXJhbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2YWx1ZVBhcmFtcycsIEpTT04uc3RyaW5naWZ5KHZhbHVlUGFyYW1zKSk7XG5cdFx0fVxuXHRcdHRoaXMuX19pbml0UGFzc1ZhbHVlUGFyYW1zKClcblx0XHQvLyBsZXQgYVRhZyA9IGJ0bi5xdWVyeVNlbGVjdG9yKCdhJyk7XG5cdFx0Ly8gaWYgKGFUYWcpIHRoaXMuc2V0TGlua1Byb2Nlc3MoYVRhZyk7XG5cdFx0XG5cdFx0Ly8uIGVuZCBldmVudFxuXHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdwYXNzVmFsdWVBY3Rpb25FbmQnLCB7XG5cdFx0XHRkZXRhaWw6IHt9XG5cdFx0fSkpXG5cdH0sXG5cdFxuXHRzZXREYXRhUGFzc1ZhbHVlczogZnVuY3Rpb24odmFsdWVzKSB7XG5cdFx0Y29uc3QgdmFsdWVQYXJhbXMgPSBbXVxuXHRcdGZvciAoIGxldCBrZXkgaW4gdmFsdWVzKSB7XG5cdFx0XHR2YWx1ZVBhcmFtcy5wdXNoKHtcblx0XHRcdFx0cGFzc192YWx1ZV90bzoga2V5LFxuXHRcdFx0XHR2YWx1ZTogdmFsdWVzW2tleV1cblx0XHRcdH0pXG5cdFx0fVxuXHRcdFxuXHRcdGlmICh2YWx1ZVBhcmFtcy5sZW5ndGggPiAwKSB7XG5cdFx0XHR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZhbHVlUGFyYW1zJywgSlNPTi5zdHJpbmdpZnkodmFsdWVQYXJhbXMpKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRpbml0RGF0YVBhc3NWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmFsdWVQYXJhbXMnKTtcdFxuXHR9LFxuXG5cdC8vLiBvcGVuQW5vdGhlclxuXHRvcGVuQW5vdGhlcjogZnVuY3Rpb24oYXRhZykge1xuXG5cdFx0dmFyIGhyZWYgPSBhdGFnLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXHRcdHZhciB0YXJnZXQgPSBhdGFnLmdldEF0dHJpYnV0ZSgndGFyZ2V0Jyk7XG5cdFx0XG5cdFx0aWYgKHRhcmdldCA9PSBcIl9ibGFua1wiKSB7XG5cdFx0ICB3aW5kb3cub3BlbihocmVmLCBcIl9ibGFua1wiKTsgIFxuXHRcdH0gZWxzZSBpZiAodGFyZ2V0ID09IFwiX3dpbmRvd1wiKSB7XG5cdFx0ICB3aW5kb3cub3BlbihocmVmLCAnX2JsYW5rJywgJ2xvY2F0aW9uPXllcyxoZWlnaHQ9NTcwLHdpZHRoPTUyMCxzY3JvbGxiYXJzPXllcyxzdGF0dXM9eWVzJyk7XG5cdFx0fSBlbHNlIHtcblx0XHQgIHdpbmRvdy5vcGVuKGhyZWYsIFwiX3NlbGZcIik7XG5cdFx0fVxuXHR9LFxuXHRcblx0Ly8uIGNsaWNrQVRhZ2luQnV0dG9uXG5cdHNldExpbmtQcm9jZXNzOiBmdW5jdGlvbihhVGFnKSB7XG5cdFx0XG5cdFx0aWYoYVRhZy5oYXNBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9ucycpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IHBhc3NfdG8gPSBhVGFnLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJyk7XG5cdFx0Y29uc3QgaHJlZiA9IGFUYWcuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cdFx0dGhpcy5zdG9yZVBhc3NEYXRhKGFUYWcpO1xuXHRcdGlmICh0aGlzLmNoZWNrT3BlbkNvY3JlYXRlTW9kYWwoYVRhZykpIHtcblx0XHRcdGlmICh0eXBlb2YgQ29DcmVhdGUubW9kYWwgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdENvQ3JlYXRlLm1vZGFsLm9wZW4oYVRhZyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChocmVmKSB7XG5cdFx0XHR0aGlzLm9wZW5Bbm90aGVyKGFUYWcpO1xuXHRcdH0gZWxzZSBpZiAocGFzc190bykge1xuXHRcdFx0dGhpcy5fX2luaXRQYXNzUGFyYW1zKHBhc3NfdG8pO1xuXHRcdH1cblx0fSxcblx0XG5cdGNoZWNrT3BlbkNvY3JlYXRlTW9kYWw6IGZ1bmN0aW9uKGF0YWcpIHtcblx0ICBpZiAoYXRhZy5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpID09PSBcIm1vZGFsXCIpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0ICB9IFxuXHQgIHJldHVybiBmYWxzZTtcblx0fSxcblx0XG5cdHBhc3NTdWJtaXRQcm9jZXNzOiBmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0aWYgKGVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Ym1pdEJ0bicpKSB7XG5cdFx0XHRpZiAoIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKSAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2RvY3VtZW50X2lkJykpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9LFxuXHRcblx0XG5cdF9fc2V0R2V0VmFsdWVQcm9jZXNzOiBmdW5jdGlvbihpZCwgdmFsdWUpIHtcblx0XHRcblx0XHRpZiAoIWlkKSByZXR1cm47XG4gIFxuXHRcdHZhciB0YXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZ2V0X3ZhbHVlPVwiJyArIGlkICsgJ1wiXScpO1xuXHRcdFxuXHRcdHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB7XG5cdFx0ICAvLyB0YXJnZXQudmFsdWUgPSB2YWx1ZTtcblx0XHQgIGlmICh0eXBlb2YodGFyZ2V0LnZhbHVlKSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR0YXJnZXQudmFsdWUgPSB2YWx1ZTtcblx0XHQgIH0gZWxzZSBpZiAodHlwZW9mKHRhcmdldC50ZXh0Q29udGVudCkgIT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dGFyZ2V0LnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0ICB9XG5cdFx0ICBcblx0XHQgIGlmIChDb0NyZWF0ZS5mbG9hdGluZ0xhYmVsKSBDb0NyZWF0ZS5mbG9hdGluZ0xhYmVsLnVwZGF0ZSh0YXJnZXQpXG5cdFx0ICBcblx0XHQgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIsIHtcImJ1YmJsZXNcIjp0cnVlfSkpOyBcblx0XHQgIFxuXHRcdCAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlYXJjaElucHV0JykpIHtcblx0XHRcdGxldCBldnQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHsna2V5Q29kZSc6IDEzfSk7XG5cdFx0XHR0YXJnZXQuZGlzcGF0Y2hFdmVudChldnQpO1xuXHRcdCAgfVxuXHRcdH0pXG5cdH0sXG5cdFxuXHRfX2luaXRQYXNzSXRlbXM6IGZ1bmN0aW9uKGlkLCBzZWxlY3Rvciwgbm9GZXRjaCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGlmIChpZCkge1xuXHRcdFx0bGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcblx0XHRcdFx0c2VsZi5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1kb2N1bWVudF9pZCcsIGlkKTtcblx0XHRcdFx0Ly8gc2VsZi5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1mZXRjaF9kb2N1bWVudF9pZCcsIGlkKTtcblx0XHRcdFx0c2VsZi5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1maWx0ZXJfdmFsdWUnLCBpZCk7XG5cdFx0XHR9KVxuXHRcdH1cblx0fSxcbn1cblxuXG5Db0NyZWF0ZUxvZ2ljLmluaXQoKTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVBdHRyaWJ1dGVzJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLWZvcl0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Q29DcmVhdGVMb2dpYy5hdHRyaWJ1dGVzLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbm9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlTG9naWMnLCBcblx0b2JzZXJ2ZTogWydzdWJ0cmVlJywgJ2NoaWxkTGlzdCddLFxuXHRpbmNsdWRlOiAnW2RhdGEtcGFzc19pZF0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Q29DcmVhdGVMb2dpYy5pbml0RWxlbWVudChtdXRhdGlvbi50YXJnZXQpXG5cdH1cbn0pO1xuXG5hY3Rpb24uaW5pdCh7XG5cdGFjdGlvbjogXCJwYXNzVmFsdWVBY3Rpb25cIixcblx0ZW5kRXZlbnQ6IFwicGFzc1ZhbHVlQWN0aW9uRW5kXCIsXG5cdGNhbGxiYWNrOiAoYnRuLCBkYXRhKSA9PiB7XG5cdFx0Q29DcmVhdGVMb2dpYy5wYXNzUHJvY2Vzc0FjdGlvbihidG4pXG5cdH0sXG59KVxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUxvZ2ljOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/logic/src/index.js\n")}}]);