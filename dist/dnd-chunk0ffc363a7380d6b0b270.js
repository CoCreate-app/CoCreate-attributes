/*! For license information please see dnd-chunk0ffc363a7380d6b0b270.js.LICENSE.txt */
(this.webpackChunkCoCreate_attributes=this.webpackChunkCoCreate_attributes||[]).push([["dnd-chunk"],{"./node_modules/file-loader/dist/cjs.js!../../CoCreateJS/node_modules/@cocreate/dnd/src/CoCreate-dnd.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "862e2fd973e3d8e9d9daf4bf94ef74e4.css");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL0NvQ3JlYXRlLWRuZC5jc3M/YWVlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUscUJBQXVCLHlDQUF5QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9maWxlLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9Db0NyZWF0ZUpTL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvZG5kL3NyYy9Db0NyZWF0ZS1kbmQuY3NzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjg2MmUyZmQ5NzNlM2Q4ZTlkOWRhZjRiZjk0ZWY3NGU0LmNzc1wiOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/file-loader/dist/cjs.js!../../CoCreateJS/node_modules/@cocreate/dnd/src/CoCreate-dnd.css\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/CoCreate-dnd.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _CoCreate_components_CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../CoCreate-components/CoCreate-attributes/node_modules/style-loader/dist/runtime/injectStylesIntoLinkTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoLinkTag.js");\n/* harmony import */ var _CoCreate_components_CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_CoCreate_components_CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CoCreate_components_CoCreate_attributes_node_modules_file_loader_dist_cjs_js_CoCreate_dnd_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../../../../CoCreate-components/CoCreate-attributes/node_modules/file-loader/dist/cjs.js!./CoCreate-dnd.css */ "./node_modules/file-loader/dist/cjs.js!../../CoCreateJS/node_modules/@cocreate/dnd/src/CoCreate-dnd.css");\n\n            \n\nvar options = {"injectType":"linkTag"};\n\noptions.insert = "head";\n\nvar update = _CoCreate_components_CoCreate_attributes_node_modules_style_loader_dist_runtime_injectStylesIntoLinkTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_CoCreate_components_CoCreate_attributes_node_modules_file_loader_dist_cjs_js_CoCreate_dnd_css__WEBPACK_IMPORTED_MODULE_1__.default, options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL0NvQ3JlYXRlLWRuZC5jc3M/ZGFkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRJO0FBQzVJLFlBQW1KOztBQUVuSixlQUFlOztBQUVmOztBQUVBLGFBQWEsaUpBQUcsQ0FBQyxtSUFBTzs7OztBQUl4QixpRUFBZSxFIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL0NvQ3JlYXRlLWRuZC5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1hdHRyaWJ1dGVzL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9MaW5rVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi8uLi8uLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWF0dHJpYnV0ZXMvbm9kZV9tb2R1bGVzL2ZpbGUtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vQ29DcmVhdGUtZG5kLmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHtcImluamVjdFR5cGVcIjpcImxpbmtUYWdcIn07XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCB7fSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/CoCreate-dnd.css\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/collaboration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cocreate/cocreatejs */ "../../CoCreateJS/node_modules/@cocreate/cocreatejs/src/index.js");\n/*global dom*/\n/*global CoCreate*/\n/*global elementConfig*/\n/*global DOMParser*/\n/*global domEditor*/\n/*global CoCreate.socket*/\n\n\n\nfunction wrapper() {\n\n\n  if (window.parent !== window) return;\n\n\n  window.addEventListener("load", () => {\n    _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__.socket.listen(\'domEditor\', function(data) {\n      console.log(\'raw object recieved: \', data.target, data.value[1], window.location.pathname)\n      // resolving the element_id to real element in the clinet\n      if (data.target) {\n        data.target = document.querySelector(`[data-element_id="${data.target}"]`);\n      }\n      if (data.value[1]) {\n        data.value[1] = document.querySelector(`[data-element_id="${data.value[1]}"]`);\n      }\n      if (!data.target)\n        return console.log(\'dnd error: draggble is null\')\n      if (!data.value[1])\n        return console.log(\'dnd error: droppable is null\')\n      // passing it to domEditor\n      let [position, el] = data.value\n      data.target.insertAdjacentElement(position, el)\n    })\n\n\n    _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__.socket.listen("dndNewElement", function(data) {\n      console.log(\n        "raw object recieved: ",\n        data.target,\n        data.value[1],\n        window.location.pathname\n      );\n\n      try {\n        if (data.path.length) {\n          let iframe = document.querySelector(data.path[0]);\n          let context = iframe.contentWindow.document || iframe.contentDocument;\n          data.target = context.querySelector(`[data-element_id=${data.target}]`);\n        }\n        else {\n          data.target = document.querySelector(\n            `[data-element_id=${data.target}]`\n          );\n        }\n\n        data.value[1] = _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__.utils.parseTextToHtml(data.value[1]);\n        if (data.hiddenAttribute) {\n          for (let [key, value] of Object.entries(data.hiddenAttribute)) {\n            data.value[1].setHiddenAttribute(key, value);\n          }\n        }\n\n        // console.log("with object: ", data, window.location.pathname);\n        // passing it to domEditor\n        let [position, el] = data.value\n        data.target.insertAdjacentElement(position, el)\n        // domEditor(data);\n      }\n      catch (error) {\n        console.error(error);\n      }\n    });\n  });\n\n  window.addEventListener("dndsuccess", (e) => {\n    let { dropedEl, dragedEl, position, dropType, path } = e.detail;\n    let CoCreate =\n      dragedEl.ownerDocument !== dropedEl.ownerDocument ?\n      window.iframes.guests.canvas.window.CoCreate :\n      window.CoCreate;\n\n    if (!dropedEl.getAttribute("data-element_id"))\n      dropedEl.setAttribute("data-element_id", _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__.utils.UUID());\n\n    dropedEl = dropedEl.getAttribute("data-element_id");\n\n    if (dropType === "data-cloneable") {\n      let hiddenAttribute = dragedEl.getAllHiddenAttribute();\n\n      dragedEl = dragedEl.outerHTML;\n\n      _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__.message.send({\n        broadcast_sender: false,\n        rooms: "",\n        emit: {\n          message: "dndNewElement",\n          data: {\n            target: dropedEl,\n            method: "insertAdjacentElement",\n            value: [position, dragedEl],\n            path,\n            hiddenAttribute,\n          },\n        },\n      });\n    }\n    else {\n      if (!dragedEl.getAttribute("data-element_id"))\n        dragedEl.setAttribute("data-element_id", _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__.utils.UUID());\n\n      dragedEl = dragedEl.getAttribute("data-element_id");\n\n      _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_0__.message.send({\n        broadcast_sender: true,\n        rooms: "",\n        emit: {\n          message: "domEditor",\n          data: {\n            target: dropedEl,\n            method: "insertAdjacentElement",\n            value: [position, dragedEl],\n          },\n        },\n      });\n    }\n  });\n\n}\n\nwrapper();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL2NvbGxhYm9yYXRpb24uanM/YjJhYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEQ7O0FBRTVEOzs7QUFHQTs7O0FBR0E7QUFDQSxJQUFJLCtEQUFhO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxZQUFZO0FBQzlFO0FBQ0E7QUFDQSxvRUFBb0UsY0FBYztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0wsSUFBSSwrREFBYTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsWUFBWTtBQUM5RTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsWUFBWTtBQUM1QztBQUNBOztBQUVBLHdCQUF3Qix1RUFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBLFNBQVMsK0NBQStDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLDREQUFVOztBQUV6RDs7QUFFQTtBQUNBOztBQUVBOztBQUVBLE1BQU0sOERBQVk7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsNERBQVU7O0FBRTNEOztBQUVBLE1BQU0sOERBQVk7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQSIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvZG5kL3NyYy9jb2xsYWJvcmF0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgZG9tKi9cbi8qZ2xvYmFsIENvQ3JlYXRlKi9cbi8qZ2xvYmFsIGVsZW1lbnRDb25maWcqL1xuLypnbG9iYWwgRE9NUGFyc2VyKi9cbi8qZ2xvYmFsIGRvbUVkaXRvciovXG4vKmdsb2JhbCBDb0NyZWF0ZS5zb2NrZXQqL1xuXG5pbXBvcnQge3NvY2tldCwgdXRpbHMsIG1lc3NhZ2V9IGZyb20gJ0Bjb2NyZWF0ZS9jb2NyZWF0ZWpzJztcblxuZnVuY3Rpb24gd3JhcHBlcigpIHtcblxuXG4gIGlmICh3aW5kb3cucGFyZW50ICE9PSB3aW5kb3cpIHJldHVybjtcblxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgc29ja2V0Lmxpc3RlbignZG9tRWRpdG9yJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ3JhdyBvYmplY3QgcmVjaWV2ZWQ6ICcsIGRhdGEudGFyZ2V0LCBkYXRhLnZhbHVlWzFdLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgICAvLyByZXNvbHZpbmcgdGhlIGVsZW1lbnRfaWQgdG8gcmVhbCBlbGVtZW50IGluIHRoZSBjbGluZXRcbiAgICAgIGlmIChkYXRhLnRhcmdldCkge1xuICAgICAgICBkYXRhLnRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWVsZW1lbnRfaWQ9XCIke2RhdGEudGFyZ2V0fVwiXWApO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEudmFsdWVbMV0pIHtcbiAgICAgICAgZGF0YS52YWx1ZVsxXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWVsZW1lbnRfaWQ9XCIke2RhdGEudmFsdWVbMV19XCJdYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWRhdGEudGFyZ2V0KVxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2RuZCBlcnJvcjogZHJhZ2dibGUgaXMgbnVsbCcpXG4gICAgICBpZiAoIWRhdGEudmFsdWVbMV0pXG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnZG5kIGVycm9yOiBkcm9wcGFibGUgaXMgbnVsbCcpXG4gICAgICAvLyBwYXNzaW5nIGl0IHRvIGRvbUVkaXRvclxuICAgICAgbGV0IFtwb3NpdGlvbiwgZWxdID0gZGF0YS52YWx1ZVxuICAgICAgZGF0YS50YXJnZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHBvc2l0aW9uLCBlbClcbiAgICB9KVxuXG5cbiAgICBzb2NrZXQubGlzdGVuKFwiZG5kTmV3RWxlbWVudFwiLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJyYXcgb2JqZWN0IHJlY2lldmVkOiBcIixcbiAgICAgICAgZGF0YS50YXJnZXQsXG4gICAgICAgIGRhdGEudmFsdWVbMV0sXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRhdGEucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICBsZXQgaWZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnBhdGhbMF0pO1xuICAgICAgICAgIGxldCBjb250ZXh0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQgfHwgaWZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgICAgICBkYXRhLnRhcmdldCA9IGNvbnRleHQucXVlcnlTZWxlY3RvcihgW2RhdGEtZWxlbWVudF9pZD0ke2RhdGEudGFyZ2V0fV1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkYXRhLnRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgW2RhdGEtZWxlbWVudF9pZD0ke2RhdGEudGFyZ2V0fV1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudmFsdWVbMV0gPSB1dGlscy5wYXJzZVRleHRUb0h0bWwoZGF0YS52YWx1ZVsxXSk7XG4gICAgICAgIGlmIChkYXRhLmhpZGRlbkF0dHJpYnV0ZSkge1xuICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhLmhpZGRlbkF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIGRhdGEudmFsdWVbMV0uc2V0SGlkZGVuQXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwid2l0aCBvYmplY3Q6IFwiLCBkYXRhLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgICAvLyBwYXNzaW5nIGl0IHRvIGRvbUVkaXRvclxuICAgICAgICBsZXQgW3Bvc2l0aW9uLCBlbF0gPSBkYXRhLnZhbHVlXG4gICAgICAgIGRhdGEudGFyZ2V0Lmluc2VydEFkamFjZW50RWxlbWVudChwb3NpdGlvbiwgZWwpXG4gICAgICAgIC8vIGRvbUVkaXRvcihkYXRhKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkbmRzdWNjZXNzXCIsIChlKSA9PiB7XG4gICAgbGV0IHsgZHJvcGVkRWwsIGRyYWdlZEVsLCBwb3NpdGlvbiwgZHJvcFR5cGUsIHBhdGggfSA9IGUuZGV0YWlsO1xuICAgIGxldCBDb0NyZWF0ZSA9XG4gICAgICBkcmFnZWRFbC5vd25lckRvY3VtZW50ICE9PSBkcm9wZWRFbC5vd25lckRvY3VtZW50ID9cbiAgICAgIHdpbmRvdy5pZnJhbWVzLmd1ZXN0cy5jYW52YXMud2luZG93LkNvQ3JlYXRlIDpcbiAgICAgIHdpbmRvdy5Db0NyZWF0ZTtcblxuICAgIGlmICghZHJvcGVkRWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbGVtZW50X2lkXCIpKVxuICAgICAgZHJvcGVkRWwuc2V0QXR0cmlidXRlKFwiZGF0YS1lbGVtZW50X2lkXCIsIHV0aWxzLlVVSUQoKSk7XG5cbiAgICBkcm9wZWRFbCA9IGRyb3BlZEVsLmdldEF0dHJpYnV0ZShcImRhdGEtZWxlbWVudF9pZFwiKTtcblxuICAgIGlmIChkcm9wVHlwZSA9PT0gXCJkYXRhLWNsb25lYWJsZVwiKSB7XG4gICAgICBsZXQgaGlkZGVuQXR0cmlidXRlID0gZHJhZ2VkRWwuZ2V0QWxsSGlkZGVuQXR0cmlidXRlKCk7XG5cbiAgICAgIGRyYWdlZEVsID0gZHJhZ2VkRWwub3V0ZXJIVE1MO1xuXG4gICAgICBtZXNzYWdlLnNlbmQoe1xuICAgICAgICBicm9hZGNhc3Rfc2VuZGVyOiBmYWxzZSxcbiAgICAgICAgcm9vbXM6IFwiXCIsXG4gICAgICAgIGVtaXQ6IHtcbiAgICAgICAgICBtZXNzYWdlOiBcImRuZE5ld0VsZW1lbnRcIixcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0YXJnZXQ6IGRyb3BlZEVsLFxuICAgICAgICAgICAgbWV0aG9kOiBcImluc2VydEFkamFjZW50RWxlbWVudFwiLFxuICAgICAgICAgICAgdmFsdWU6IFtwb3NpdGlvbiwgZHJhZ2VkRWxdLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGhpZGRlbkF0dHJpYnV0ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKCFkcmFnZWRFbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVsZW1lbnRfaWRcIikpXG4gICAgICAgIGRyYWdlZEVsLnNldEF0dHJpYnV0ZShcImRhdGEtZWxlbWVudF9pZFwiLCB1dGlscy5VVUlEKCkpO1xuXG4gICAgICBkcmFnZWRFbCA9IGRyYWdlZEVsLmdldEF0dHJpYnV0ZShcImRhdGEtZWxlbWVudF9pZFwiKTtcblxuICAgICAgbWVzc2FnZS5zZW5kKHtcbiAgICAgICAgYnJvYWRjYXN0X3NlbmRlcjogdHJ1ZSxcbiAgICAgICAgcm9vbXM6IFwiXCIsXG4gICAgICAgIGVtaXQ6IHtcbiAgICAgICAgICBtZXNzYWdlOiBcImRvbUVkaXRvclwiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRhcmdldDogZHJvcGVkRWwsXG4gICAgICAgICAgICBtZXRob2Q6IFwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogW3Bvc2l0aW9uLCBkcmFnZWRFbF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbn1cblxud3JhcHBlcigpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/collaboration.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/dnd-config.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ dndConfigs)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/index.js");\n/* harmony import */ var _cocreate_observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cocreate/observer */ "../../CoCreateJS/node_modules/@cocreate/observer/src/index.js");\n/*global initContainer*/\n\n\n\nfunction dndConfigs() {\n\n\n\n  _cocreate_observer__WEBPACK_IMPORTED_MODULE_1__.default.init({\n    name: "dnd-config",\n    observe: ["childList"],\n    include:\'.sortable, .cloneable\',\n    callback: mutation => {\n      if(mutation.target.classList.has(\'sortable\'))\n         (0,_index_js__WEBPACK_IMPORTED_MODULE_0__.initContainer)({ target: mutation.target });\n        else\n         (0,_index_js__WEBPACK_IMPORTED_MODULE_0__.initContainer)({ target: mutation.target, cloneable: true });\n      // let sortables = document.querySelectorAll(".sortable");\n    \n      // sortables.forEach((sortable) => {\n      //   initContainer({ target: sortable });\n      // });\n    \n      // let cloneables = document.querySelectorAll(".cloneable");\n    \n      // cloneables.forEach((cloneable) => {\n      //   initContainer({ target: cloneable, cloneable: true });\n      // });\n    },\n  });\n\n\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL2RuZC1jb25maWcuanM/ZTllMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUMyQzs7QUFFRDtBQUMzQjs7OztBQUlmLEVBQUUsNERBQWE7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBYSxFQUFFLDBCQUEwQjtBQUNsRDtBQUNBLFNBQVMsd0RBQWEsRUFBRSwyQ0FBMkM7QUFDbkU7O0FBRUE7QUFDQSwwQkFBMEIsbUJBQW1CO0FBQzdDLFVBQVU7O0FBRVY7O0FBRUE7QUFDQSwwQkFBMEIscUNBQXFDO0FBQy9ELFVBQVU7QUFDVixLQUFLO0FBQ0wsR0FBRzs7O0FBR0giLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2RuZC9zcmMvZG5kLWNvbmZpZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsIGluaXRDb250YWluZXIqL1xuaW1wb3J0IHsgaW5pdENvbnRhaW5lciB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZG5kQ29uZmlncygpIHtcblxuXG5cbiAgb2JzZXJ2ZXIuaW5pdCh7XG4gICAgbmFtZTogXCJkbmQtY29uZmlnXCIsXG4gICAgb2JzZXJ2ZTogW1wiY2hpbGRMaXN0XCJdLFxuICAgIGluY2x1ZGU6Jy5zb3J0YWJsZSwgLmNsb25lYWJsZScsXG4gICAgY2FsbGJhY2s6IG11dGF0aW9uID0+IHtcbiAgICAgIGlmKG11dGF0aW9uLnRhcmdldC5jbGFzc0xpc3QuaGFzKCdzb3J0YWJsZScpKVxuICAgICAgICAgaW5pdENvbnRhaW5lcih7IHRhcmdldDogbXV0YXRpb24udGFyZ2V0IH0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICBpbml0Q29udGFpbmVyKHsgdGFyZ2V0OiBtdXRhdGlvbi50YXJnZXQsIGNsb25lYWJsZTogdHJ1ZSB9KTtcbiAgICAgIC8vIGxldCBzb3J0YWJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNvcnRhYmxlXCIpO1xuICAgIFxuICAgICAgLy8gc29ydGFibGVzLmZvckVhY2goKHNvcnRhYmxlKSA9PiB7XG4gICAgICAvLyAgIGluaXRDb250YWluZXIoeyB0YXJnZXQ6IHNvcnRhYmxlIH0pO1xuICAgICAgLy8gfSk7XG4gICAgXG4gICAgICAvLyBsZXQgY2xvbmVhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2xvbmVhYmxlXCIpO1xuICAgIFxuICAgICAgLy8gY2xvbmVhYmxlcy5mb3JFYWNoKChjbG9uZWFibGUpID0+IHtcbiAgICAgIC8vICAgaW5pdENvbnRhaW5lcih7IHRhcmdldDogY2xvbmVhYmxlLCBjbG9uZWFibGU6IHRydWUgfSk7XG4gICAgICAvLyB9KTtcbiAgICB9LFxuICB9KTtcblxuXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/dnd-config.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/eventUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ eventUtil)\n/* harmony export */ });\n// create a javascript-like event to be used in other classes\n\n\nfunction eventUtil() {\n  this.listener = {}\n\n  // register event, like addEventListener\n  this.on = function(type, callback) {\n    if (!Object.hasOwnProperty(type)) {\n      this.listener[type] = [];\n    }\n    this.listener[type].push(callback)\n  }\n\n  // dispatch an event\n  this.dispatch = function(type, data) {\n    if (this.listener.hasOwnProperty(type)) {\n      this.listener[type].forEach(callback => callback(data))\n    }\n  }\n\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL2V2ZW50VXRpbC5qcz85MjVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0FBR2U7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2RuZC9zcmMvZXZlbnRVdGlsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY3JlYXRlIGEgamF2YXNjcmlwdC1saWtlIGV2ZW50IHRvIGJlIHVzZWQgaW4gb3RoZXIgY2xhc3Nlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV2ZW50VXRpbCgpIHtcbiAgdGhpcy5saXN0ZW5lciA9IHt9XG5cbiAgLy8gcmVnaXN0ZXIgZXZlbnQsIGxpa2UgYWRkRXZlbnRMaXN0ZW5lclxuICB0aGlzLm9uID0gZnVuY3Rpb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIU9iamVjdC5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgdGhpcy5saXN0ZW5lclt0eXBlXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVyW3R5cGVdLnB1c2goY2FsbGJhY2spXG4gIH1cblxuICAvLyBkaXNwYXRjaCBhbiBldmVudFxuICB0aGlzLmRpc3BhdGNoID0gZnVuY3Rpb24odHlwZSwgZGF0YSkge1xuICAgIGlmICh0aGlzLmxpc3RlbmVyLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyW3R5cGVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soZGF0YSkpXG4gICAgfVxuICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/eventUtil.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initContainer": () => (/* binding */ initContainer),\n/* harmony export */   "initElement": () => (/* binding */ initElement),\n/* harmony export */   "initFunction": () => (/* binding */ initFunction),\n/* harmony export */   "initIframe": () => (/* binding */ initIframe),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _collaboration_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collaboration.js */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/collaboration.js");\n/* harmony import */ var _dnd_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dnd-config.js */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/dnd-config.js");\n/* harmony import */ var _util_iframe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/iframe */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/iframe.js");\n/* harmony import */ var _util_iframe__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_util_iframe__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/common */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/common.js");\n/* harmony import */ var _virtualDnd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./virtualDnd */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/virtualDnd.js");\n/* harmony import */ var _util_onClickLeftEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/onClickLeftEvent */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/onClickLeftEvent.js");\n/* harmony import */ var _util_onClickLeftEvent__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_util_onClickLeftEvent__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _util_variables_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util/variables.js */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/variables.js");\n/* harmony import */ var _CoCreate_dnd_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CoCreate-dnd.css */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/CoCreate-dnd.css");\n/* harmony import */ var _util_domReader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./util/domReader */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/domReader.js");\n/*global HTMLElement*/\n/*global DOMException*/\n\n\n\n\n\n\n\n\n\n\n\n\nlet touchTimeout;\nlet beforeDndSuccessCallback;\nfunction beforeDndSuccess() {\n  if (beforeDndSuccessCallback)\n    return beforeDndSuccessCallback.apply(null, arguments);\n  return {};\n}\n\nlet mousemove, mouseup, mousedown, touchstart, touchend, touchmove;\n\n// export default function dndf(window, document, options) {\n\n// }\n\nlet options = {\n  scroller: new _util_common__WEBPACK_IMPORTED_MODULE_3__.autoScroller({ speed: 4, threshold: 3 }),\n\n  myDropMarker: new _util_common__WEBPACK_IMPORTED_MODULE_3__.dropMarker(),\n};\n\n//// defining events\nlet { myDropMarker, scroller } = options;\nlet dnd = new _virtualDnd__WEBPACK_IMPORTED_MODULE_4__.default(beforeDndSuccess);\nlet ghost;\ndnd.on("dragStart", (data) => {\n  myDropMarker.hide();\n  ghost = new _util_common__WEBPACK_IMPORTED_MODULE_3__.ghostEffect(data.e, data.el, { window, document });\n  ghost.start();\n});\ndnd.on("dragEnd", (data) => {\n  myDropMarker.hide();\n  if (ghost) ghost.hide(data.ref);\n});\ndnd.on("dragOver", (data) => {\n  // it will always run when mouse or touch moves\n  myDropMarker.draw(\n    data.el,\n    data.closestEl,\n    data.orientation,\n    !!data.hasChild,\n    data.ref\n  );\n});\n\nlet startGroup;\nlet isDraging = false;\nlet consolePrintedEl = null; // dev only\n\nfunction start(e, ref) {\n  let r = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.getCocs)(e.target, [_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable, _util_variables_js__WEBPACK_IMPORTED_MODULE_6__.cloneable, _util_variables_js__WEBPACK_IMPORTED_MODULE_6__.handleable]);\n\n  if (!Array.isArray(r)) return;\n  let [el, att] = r;\n\n\n  \n  switch (att) {\n    case _util_variables_js__WEBPACK_IMPORTED_MODULE_6__.cloneable:\n      let html = el.getAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.data_insert_html);\n      if (html) {\n        el = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.parse)(html);\n        if (!el) return;\n      } else el = el.cloneNode(true);\n      break;\n    case _util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable:\n      let hasHandle = el.getAnyAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.handleable);\n      if (hasHandle) return;\n      break;\n\n    default:\n      el = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.getCoc)(el, _util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable);\n  }\n\n  // get group\n  let groupResult = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.getGroupName)(el);\n  startGroup = groupResult[1];\n\n  ref.document.body.style.cursor = "crosshair !important";\n\n  isDraging = true;\n\n  dnd.dragStart(e, el, null, ref, att);\n}\n\nfunction end(e, ref) {\n  ref.document.body.style.cursor = "";\n  isDraging = false;\n\n  dnd.dragEnd(e);\n  myDropMarker.hide();\n\n  scroller.deactivateScroll();\n  \n}\n\nfunction move({ x, y, target, isTouch }, ref, stopScroll) {\n  if (!isDraging) return;\n\n  if (ghost) ghost.draw({ x, y }, ref);\n  scroller.update(x, y);\n  if (isDraging) {\n    // skip group names\n    let [groupEl, groupname] = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.getGroupName)(target);\n    if (startGroup && groupname)\n    {\n        if( startGroup !== groupname)\n      {  \n        do {\n        let groupResult = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.getGroupName)(groupEl);\n        if (!groupResult[0]) return; // or return\n        groupEl = groupResult[0].parentElement;\n        groupname = groupResult[1];\n        if (startGroup === groupname) {\n          target = groupResult[0];\n          break;\n        }\n      } while (true);\n        \n      }\n     \n    }\n    else if(startGroup !== groupname)\n      return;\n  } else {\n    if (ghost) ghost.hide();\n  }\n\n  if (!target) return; // it\'s out of iframe if this is multi frame\n\n  let el = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.getCoc)(target, _util_variables_js__WEBPACK_IMPORTED_MODULE_6__.droppable);\n  // let onEl = target; // dev\n  // if (consolePrintedEl != target) { // dev\n  //   // dev\n  //   console.log("you are on: \\n", onEl, "\\nDroping in: \\n", el);\n  //   consolePrintedEl = el;\n  // }\n\n  // if()\n\n  if (!el) return;\n\n  if (!stopScroll) {\n    scroller.calculateScroll({\n      x,\n      y,\n      element: el.parentElement,\n      onMouseScrollMove: (e) => move(e, ref, true),\n    });\n  }\n\n  // todo:\n\n  dnd.dragOver({ x, y, target: el }, el, ref);\n}\n\nmousedown = (e, ref) => {\n  // console.log("mouse down", e);\n\n  if (e.which != 1) return;\n\n  start(e, ref);\n};\nmouseup = (e, ref) => {\n  // console.log("mouse up", e);\n  // todo: why would we check for hoverable and what do we do whith this?\n  // let el = getCoc(e.target, hoverable)\n  // if (!el) return;\n  //\n\n  if (e.which != 1) return;\n\n  end(e, ref);\n};\nmousemove = (e, ref) => {\n  move(e, ref);\n};\n// let CoCreateClickLeft = (e) => {\n//   // todo: not working!?\n//   let el = getCoc(e.target, selectable);\n//   if (!el) return;\n// };\nlet refs = new Map();\nconst initIframe = ({ isIframe, frame, document, window }) => {\n  let ref;\n  if (isIframe) {\n    let frameWindow = frame.contentWindow;\n    let frameDocument = frameWindow.document || frame.contentDocument;\n    let rect = frame.getBoundingClientRect();\n    ref = {\n      x: rect.left,\n      y: rect.top,\n      frame,\n      window: frameWindow,\n      document: frameDocument,\n      isIframe: true,\n    };\n  } else {\n    ref = { x: 0, y: 0, window, document, isIframe: false };\n  }\n\n    if (ref.window.CoCreateDnd && ref.window.CoCreateDnd.hasInit) return;\n\n  if (!ref.document.querySelector("#dnd-style")) {\n    let dndStyle = ref.document.createElement("style");\n    dndStyle.id = "dnd-style";\n    dndStyle.innerHTML = `    /* dnd specic */\n      [data-draggable="true"], [data-cloneable="true"]  {\n        touch-action: none;\n      }\n      /* dnd specic */`;\n    ref.document.head.append(dndStyle);\n  }\n\n  ref.document.addEventListener("dragstart", (e) => {\n    e.preventDefault();\n    return false;\n  });\n\n  // disable selection\n  ref.document.addEventListener("selectstart", (e) => {\n    let r = (0,_util_common__WEBPACK_IMPORTED_MODULE_3__.getCocs)(e.target, [_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable, _util_variables_js__WEBPACK_IMPORTED_MODULE_6__.cloneable]);\n    if (!Array.isArray(r)) return;\n    e.preventDefault();\n  }, {passive: false});\n  // touch\n\n\n\n  let mousemovee , mouseupe, mousedowne ,touchmovee, touchheade,touchstarte;\n  if(!refs.has(ref.window))\n  {\n\n   touchstarte = function (e) {\n    // console.log()\n    \n    if(touchTimeout)\n    clearTimeout(touchTimeout);\n    touchTimeout = setTimeout(() => {\n      console.log(\'touch start\')\n      ref.document.body.style.touchAction = "none"\n      e.preventDefault();\n      start(e, ref);\n    }, 1000);\n  }\n\n     touchheade = function (e) {\n    ref.document.body.style.touchAction = "auto"  \n    if (!isDraging) {\n      if(touchTimeout)\n      clearTimeout(touchTimeout);\n      return;\n    }\n\n    e.preventDefault();\n    end(e, ref);\n  }\n  \n     touchmovee = function (e) {\n    \n  \n\n    if (!isDraging) {\n        if(touchTimeout)\n      clearTimeout(touchTimeout);\n      console.log(\'touch scroll\')\n      return;\n    }\n\n   console.log(\'touch dnd\') \n  e.preventDefault();\n    // console.log("host touch move");\n\n    let touch = e.touches[0];\n    let x = touch.clientX;\n    let y = touch.clientY;\n    let el = ref.document.elementFromPoint(x, y);\n    if (!el) return; // it\'s out of iframe\n\n    // sending object representing an event data\n    move({ x, y, target: el, isTouch: true }, ref);\n  };\n  \n     mousedowne = function (e) {\n    mousedown.apply(this, [e, ref]);\n  }\n  \n     mouseupe =  function (e) {\n    mouseup.apply(this, [e, ref]);\n  }\n   \n   mousemovee = function (e) {\n    mousemove.apply(this, [e, ref]);\n  };\n    refs.set(ref.window, {mousemovee , mouseupe, mousedowne ,touchmovee, touchheade,touchstarte})\n  }\n  else\n  {\n    ({mousemovee , mouseupe, mousedowne ,touchmovee, touchheade,touchstarte} = refs.get(ref.window));\n  }\n  \n  \n  ref.document.removeEventListener("touchstart", touchstarte);\n  ref.document.addEventListener("touchstart", touchstarte);\n\n  ref.document.removeEventListener("touchend",touchheade , {passive: false});\n  ref.document.addEventListener("touchend",touchheade , {passive: false});\n\n  ref.document.removeEventListener("touchmove", touchmovee, {passive: false});\n  ref.document.addEventListener("touchmove",touchmovee , {passive: false});\n  // touch\n  // mouse\n\n  ref.document.removeEventListener("mousedown", mousedowne);\n  ref.document.addEventListener("mousedown", mousedowne);\n\n  ref.document.removeEventListener("mouseup",mouseupe);\n  ref.document.addEventListener("mouseup",mouseupe);\n\n  \n  ref.document.removeEventListener("mousemove",mousemovee );\n  ref.document.addEventListener("mousemove",mousemovee );\n  // mouse\n  \n\n};\n\n// const init = () => {\n//   dnd(window, document);\n//   // console.log("dnd is loaded", window.location.pathname);\n\n//   // function parse(text) {\n//   //   let doc = new DOMParser().parseFromString(text, "text/html");\n//   //   if (doc.head.children[0]) return doc.head.children[0];\n//   //   else return doc.body.children[0];\n//   // }\n// };\n\nwindow.addEventListener("load", () => {\n  if(window.parent !== window) return;\n  initIframe({ document, window });\n  (0,_dnd_config_js__WEBPACK_IMPORTED_MODULE_1__.default)();\n});\n\nconst initFunction = function ({ target, onDnd, onDndSuccess }) {\n  if (typeof onDndSuccess == "function")\n    beforeDndSuccessCallback = onDndSuccess;\n\n  _util_common__WEBPACK_IMPORTED_MODULE_3__.initFunctionState.push({ target, onDnd });\n};\n\nconst initElement = function ({\n  target,\n  dropable,\n  draggable,\n  cloneable,\n  handle,\n  group,\n  exclude,\n  beforeDndSuccess,\n}) {\n  try {\n    if (typeof beforeDndSuccess == "function")\n      beforeDndSuccessCallback = beforeDndSuccess;\n    if (group) target.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.group_name, group);\n\n    if (exclude) {\n      try {\n        let excludeEls = target.querySelectorAll(exclude);\n        excludeEls.forEach((el) => {\n          el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.exclude, "true");\n        });\n      } catch (err) {\n        if (err instanceof HTMLElement) {\n          let error = "Dnd Sortable: exclude must be valid selector";\n          console.error(error);\n        }\n        throw err;\n      }\n    }\n\n    if (dropable)\n      target.querySelectorAll(dropable).forEach((el) => {\n        el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.droppable, "true");\n      });\n    if (draggable)\n      target.querySelectorAll(draggable).forEach((el) => {\n        // el.style.touchAction = \'none\'\n        el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable, "true");\n      });\n\n    if (cloneable)\n      target.querySelectorAll(cloneable).forEach((el) => {\n        // el.style.touchAction = \'none\'\n        el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.cloneable, "true");\n      });\n  } catch (err) {\n    if (err instanceof DOMException) {\n      let error = "Dnd Sortable: handle must be a valid selector";\n      console.error(error);\n      throw err;\n    } else throw err;\n  }\n};\n\nfunction addNestedAttribute(el, cloneable) {\n  if (!el.children.length) return;\n  Array.from(el.children).forEach((el) => {\n    addNestedAttribute(el);\n    el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.exclude, "true");\n    // el.style.touchAction = \'none\'\n    el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable, "true");\n    if (cloneable) el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.cloneable, "true");\n  });\n}\n\nconst initContainer = function ({\n  target,\n  cloneable = false,\n  nested = false,\n  handle,\n  group,\n  exclude,\n}) {\n  if (group) target.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.group_name, group);\n  if (exclude) {\n    try {\n      let excludeEls = target.querySelectorAll(exclude);\n      excludeEls.forEach((el) => {\n        el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.exclude, "true");\n      });\n    } catch (err) {\n      if (err instanceof DOMException) {\n        let error = "Dnd Sortable: exclude must be valid selector";\n        console.error(error);\n        throw error;\n      } else throw err;\n    }\n  }\n\n  if (!target.tagName) {\n    let error = "Dnd Sortable: Please provide a valid element";\n    console.error(error);\n    throw error;\n  }\n\n  if (typeof cloneable != "boolean") {\n    let error = "Dnd Sortable: please provide valid data type for cloneable";\n    console.error(error);\n    throw error;\n  }\n\n  if (typeof nested != "boolean") {\n    let error = "Dnd Sortable: please provide valid data type for nested";\n    console.error(error);\n    throw error;\n  }\n\n  if (nested) {\n    addNestedAttribute(target, cloneable);\n  } else {\n    target.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.droppable, "true");\n\n    if (target.children.length)\n      Array.from(target.children).forEach((el) => {\n        if (cloneable) {\n          // el.style.touchAction = \'none\'\n          el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.cloneable, "true");\n        } else {\n          // el.style.touchAction = \'none\'\n          el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable, "true");\n        }\n        try {\n          let handleEls = el.querySelectorAll(handle);\n          if (handle && handleEls.length) {\n            // el.style.touchAction = \'none\'\n            el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable, "true");\n            handleEls.forEach((el) => {\n              // el.style.touchAction = \'none\'\n              el.setHiddenAttribute(_util_variables_js__WEBPACK_IMPORTED_MODULE_6__.draggable, "true");\n            });\n          }\n        } catch (err) {\n          if (err instanceof DOMException) {\n            let error = "Dnd Sortable: handle must be a valid selector";\n            console.error(error);\n            throw error;\n          } else throw err;\n        }\n      });\n  }\n};\n\n\n\n\nlet exp = {  \n  initContainer,\n  initElement,\n  initFunction,\n};\n\nfunction init(params)\n{\n  let {mode}= params; \n  delete params.mode;\n  if(! [\'function\', \'element\', \'container\'].includes(mode) )\n    throw new Error(\'invalid mode provided\') \n  let funcName =\'init\' + mode.charAt(0).toUpperCase() + mode.slice(1);\n  exp[funcName].apply(null, [params])\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({initIframe, init});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL2luZGV4LmpzP2U0MDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDNEI7QUFDWTtBQUNqQjtBQVdBOztBQUVlO0FBQ0w7QUFDVztBQUNoQjs7QUFFRjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxnQkFBZ0Isc0RBQVksRUFBRSx5QkFBeUI7O0FBRXZELG9CQUFvQixvREFBVTtBQUM5Qjs7QUFFQTtBQUNBLEtBQUsseUJBQXlCO0FBQzlCLGNBQWMsZ0RBQVU7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBVyxtQkFBbUIsbUJBQW1CO0FBQy9EO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSw0QkFBNEI7O0FBRTVCO0FBQ0EsVUFBVSxxREFBTyxZQUFZLHlEQUFjLEVBQUUseURBQWMsRUFBRSwwREFBZTs7QUFFNUU7QUFDQTs7OztBQUlBO0FBQ0EsU0FBUyx5REFBYztBQUN2QixpQ0FBaUMsZ0VBQXFCO0FBQ3REO0FBQ0EsYUFBYSxtREFBSztBQUNsQjtBQUNBLE9BQU87QUFDUDtBQUNBLFNBQVMseURBQWM7QUFDdkIseUNBQXlDLDBEQUFlO0FBQ3hEO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLG9EQUFNLEtBQUsseURBQWM7QUFDcEM7O0FBRUE7QUFDQSxvQkFBb0IsMERBQVk7QUFDaEM7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxlQUFlLHdCQUF3QjtBQUN2Qzs7QUFFQSx5QkFBeUIsT0FBTztBQUNoQztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMERBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsTztBQUNBO0FBQ0EsMEJBQTBCLDBEQUFZO0FBQ3RDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLHNCQUFzQjs7QUFFdEIsV0FBVyxvREFBTSxTQUFTLHlEQUFjO0FBQ3hDLHVCQUF1QjtBQUN2QixzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBLGdCQUFnQixtQkFBbUI7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0NBQW9DO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFdBQVc7QUFDWDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxZQUFZLHFEQUFPLFlBQVkseURBQWMsRUFBRSx5REFBYztBQUM3RDtBQUNBO0FBQ0EsR0FBRyxHQUFHLGVBQWU7QUFDckI7Ozs7QUFJQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9COztBQUVwQjtBQUNBLFVBQVUsa0NBQWtDO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNFQUFzRTtBQUNoRztBQUNBO0FBQ0E7QUFDQSxNQUFNLHNFQUFzRTtBQUM1RTs7O0FBR0E7QUFDQTs7QUFFQSw0REFBNEQsZUFBZTtBQUMzRSx5REFBeUQsZUFBZTs7QUFFeEUsNkRBQTZELGVBQWU7QUFDNUUsMERBQTBELGVBQWU7QUFDekU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakMsRUFBRSx1REFBUztBQUNYLENBQUM7O0FBRUQsZ0NBQWdDLDhCQUE4QjtBQUM5RDtBQUNBOztBQUVBLEVBQUUsZ0VBQXNCLEVBQUUsZ0JBQWdCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsMERBQWU7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHVEQUFZO0FBQzVDLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4Qix5REFBYztBQUM1QyxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFjO0FBQzVDLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFjO0FBQzVDLE9BQU87QUFDUCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBWTtBQUN0QztBQUNBLDBCQUEwQix5REFBYztBQUN4Qyx5Q0FBeUMseURBQWM7QUFDdkQsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHVDQUF1QywwREFBZTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1REFBWTtBQUMxQyxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCw4QkFBOEIseURBQWM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHlEQUFjO0FBQzlDLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyx5REFBYztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHlEQUFjO0FBQ2hEO0FBQ0E7QUFDQSxvQ0FBb0MseURBQWM7QUFDbEQsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7OztBQVFFOztBQUVGLFc7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTyxLQUFLLFM7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxDQUFDLGlCQUFpQiIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvZG5kL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsIEhUTUxFbGVtZW50Ki9cbi8qZ2xvYmFsIERPTUV4Y2VwdGlvbiovXG5pbXBvcnQgXCIuL2NvbGxhYm9yYXRpb24uanNcIjtcbmltcG9ydCBkbmRDb25maWcgZnJvbSBcIi4vZG5kLWNvbmZpZy5qc1wiO1xuaW1wb3J0IFwiLi91dGlsL2lmcmFtZVwiO1xuaW1wb3J0IHtcbiAgZHJvcE1hcmtlcixcbiAgZ2V0Q29jLFxuICBnaG9zdEVmZmVjdCxcbiAgZ2V0R3JvdXBOYW1lLFxuICBwYXJzZSxcbiAgZ2V0Q29jcyxcbiAgZGlzdGFuY2VUb0NoaWxkLFxuICBhdXRvU2Nyb2xsZXIsXG4gIGluaXRGdW5jdGlvblN0YXRlLFxufSBmcm9tIFwiLi91dGlsL2NvbW1vblwiO1xuXG5pbXBvcnQgVmlydHVhbERuZCBmcm9tIFwiLi92aXJ0dWFsRG5kXCI7XG5pbXBvcnQgXCIuL3V0aWwvb25DbGlja0xlZnRFdmVudFwiO1xuaW1wb3J0ICogYXMgdmFycyBmcm9tIFwiLi91dGlsL3ZhcmlhYmxlcy5qc1wiO1xuaW1wb3J0ICcuL0NvQ3JlYXRlLWRuZC5jc3MnO1xuXG5pbXBvcnQgJy4vdXRpbC9kb21SZWFkZXInO1xuXG5sZXQgdG91Y2hUaW1lb3V0O1xubGV0IGJlZm9yZURuZFN1Y2Nlc3NDYWxsYmFjaztcbmZ1bmN0aW9uIGJlZm9yZURuZFN1Y2Nlc3MoKSB7XG4gIGlmIChiZWZvcmVEbmRTdWNjZXNzQ2FsbGJhY2spXG4gICAgcmV0dXJuIGJlZm9yZURuZFN1Y2Nlc3NDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4ge307XG59XG5cbmxldCBtb3VzZW1vdmUsIG1vdXNldXAsIG1vdXNlZG93biwgdG91Y2hzdGFydCwgdG91Y2hlbmQsIHRvdWNobW92ZTtcblxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZG5kZih3aW5kb3csIGRvY3VtZW50LCBvcHRpb25zKSB7XG5cbi8vIH1cblxubGV0IG9wdGlvbnMgPSB7XG4gIHNjcm9sbGVyOiBuZXcgYXV0b1Njcm9sbGVyKHsgc3BlZWQ6IDQsIHRocmVzaG9sZDogMyB9KSxcblxuICBteURyb3BNYXJrZXI6IG5ldyBkcm9wTWFya2VyKCksXG59O1xuXG4vLy8vIGRlZmluaW5nIGV2ZW50c1xubGV0IHsgbXlEcm9wTWFya2VyLCBzY3JvbGxlciB9ID0gb3B0aW9ucztcbmxldCBkbmQgPSBuZXcgVmlydHVhbERuZChiZWZvcmVEbmRTdWNjZXNzKTtcbmxldCBnaG9zdDtcbmRuZC5vbihcImRyYWdTdGFydFwiLCAoZGF0YSkgPT4ge1xuICBteURyb3BNYXJrZXIuaGlkZSgpO1xuICBnaG9zdCA9IG5ldyBnaG9zdEVmZmVjdChkYXRhLmUsIGRhdGEuZWwsIHsgd2luZG93LCBkb2N1bWVudCB9KTtcbiAgZ2hvc3Quc3RhcnQoKTtcbn0pO1xuZG5kLm9uKFwiZHJhZ0VuZFwiLCAoZGF0YSkgPT4ge1xuICBteURyb3BNYXJrZXIuaGlkZSgpO1xuICBpZiAoZ2hvc3QpIGdob3N0LmhpZGUoZGF0YS5yZWYpO1xufSk7XG5kbmQub24oXCJkcmFnT3ZlclwiLCAoZGF0YSkgPT4ge1xuICAvLyBpdCB3aWxsIGFsd2F5cyBydW4gd2hlbiBtb3VzZSBvciB0b3VjaCBtb3Zlc1xuICBteURyb3BNYXJrZXIuZHJhdyhcbiAgICBkYXRhLmVsLFxuICAgIGRhdGEuY2xvc2VzdEVsLFxuICAgIGRhdGEub3JpZW50YXRpb24sXG4gICAgISFkYXRhLmhhc0NoaWxkLFxuICAgIGRhdGEucmVmXG4gICk7XG59KTtcblxubGV0IHN0YXJ0R3JvdXA7XG5sZXQgaXNEcmFnaW5nID0gZmFsc2U7XG5sZXQgY29uc29sZVByaW50ZWRFbCA9IG51bGw7IC8vIGRldiBvbmx5XG5cbmZ1bmN0aW9uIHN0YXJ0KGUsIHJlZikge1xuICBsZXQgciA9IGdldENvY3MoZS50YXJnZXQsIFt2YXJzLmRyYWdnYWJsZSwgdmFycy5jbG9uZWFibGUsIHZhcnMuaGFuZGxlYWJsZV0pO1xuXG4gIGlmICghQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuO1xuICBsZXQgW2VsLCBhdHRdID0gcjtcblxuXG4gIFxuICBzd2l0Y2ggKGF0dCkge1xuICAgIGNhc2UgdmFycy5jbG9uZWFibGU6XG4gICAgICBsZXQgaHRtbCA9IGVsLmdldEF0dHJpYnV0ZSh2YXJzLmRhdGFfaW5zZXJ0X2h0bWwpO1xuICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgZWwgPSBwYXJzZShodG1sKTtcbiAgICAgICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgICAgfSBlbHNlIGVsID0gZWwuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSB2YXJzLmRyYWdnYWJsZTpcbiAgICAgIGxldCBoYXNIYW5kbGUgPSBlbC5nZXRBbnlBdHRyaWJ1dGUodmFycy5oYW5kbGVhYmxlKTtcbiAgICAgIGlmIChoYXNIYW5kbGUpIHJldHVybjtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGVsID0gZ2V0Q29jKGVsLCB2YXJzLmRyYWdnYWJsZSk7XG4gIH1cblxuICAvLyBnZXQgZ3JvdXBcbiAgbGV0IGdyb3VwUmVzdWx0ID0gZ2V0R3JvdXBOYW1lKGVsKTtcbiAgc3RhcnRHcm91cCA9IGdyb3VwUmVzdWx0WzFdO1xuXG4gIHJlZi5kb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyICFpbXBvcnRhbnRcIjtcblxuICBpc0RyYWdpbmcgPSB0cnVlO1xuXG4gIGRuZC5kcmFnU3RhcnQoZSwgZWwsIG51bGwsIHJlZiwgYXR0KTtcbn1cblxuZnVuY3Rpb24gZW5kKGUsIHJlZikge1xuICByZWYuZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcIlwiO1xuICBpc0RyYWdpbmcgPSBmYWxzZTtcblxuICBkbmQuZHJhZ0VuZChlKTtcbiAgbXlEcm9wTWFya2VyLmhpZGUoKTtcblxuICBzY3JvbGxlci5kZWFjdGl2YXRlU2Nyb2xsKCk7XG4gIFxufVxuXG5mdW5jdGlvbiBtb3ZlKHsgeCwgeSwgdGFyZ2V0LCBpc1RvdWNoIH0sIHJlZiwgc3RvcFNjcm9sbCkge1xuICBpZiAoIWlzRHJhZ2luZykgcmV0dXJuO1xuXG4gIGlmIChnaG9zdCkgZ2hvc3QuZHJhdyh7IHgsIHkgfSwgcmVmKTtcbiAgc2Nyb2xsZXIudXBkYXRlKHgsIHkpO1xuICBpZiAoaXNEcmFnaW5nKSB7XG4gICAgLy8gc2tpcCBncm91cCBuYW1lc1xuICAgIGxldCBbZ3JvdXBFbCwgZ3JvdXBuYW1lXSA9IGdldEdyb3VwTmFtZSh0YXJnZXQpO1xuICAgIGlmIChzdGFydEdyb3VwICYmIGdyb3VwbmFtZSlcbiAgICB7XG4gICAgICAgIGlmKCBzdGFydEdyb3VwICE9PSBncm91cG5hbWUpXG4gICAgICB7ICBcbiAgICAgICAgZG8ge1xuICAgICAgICBsZXQgZ3JvdXBSZXN1bHQgPSBnZXRHcm91cE5hbWUoZ3JvdXBFbCk7XG4gICAgICAgIGlmICghZ3JvdXBSZXN1bHRbMF0pIHJldHVybjsgLy8gb3IgcmV0dXJuXG4gICAgICAgIGdyb3VwRWwgPSBncm91cFJlc3VsdFswXS5wYXJlbnRFbGVtZW50O1xuICAgICAgICBncm91cG5hbWUgPSBncm91cFJlc3VsdFsxXTtcbiAgICAgICAgaWYgKHN0YXJ0R3JvdXAgPT09IGdyb3VwbmFtZSkge1xuICAgICAgICAgIHRhcmdldCA9IGdyb3VwUmVzdWx0WzBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgXG4gICAgICB9XG4gICAgIFxuICAgIH1cbiAgICBlbHNlIGlmKHN0YXJ0R3JvdXAgIT09IGdyb3VwbmFtZSlcbiAgICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZ2hvc3QpIGdob3N0LmhpZGUoKTtcbiAgfVxuXG4gIGlmICghdGFyZ2V0KSByZXR1cm47IC8vIGl0J3Mgb3V0IG9mIGlmcmFtZSBpZiB0aGlzIGlzIG11bHRpIGZyYW1lXG5cbiAgbGV0IGVsID0gZ2V0Q29jKHRhcmdldCwgdmFycy5kcm9wcGFibGUpO1xuICAvLyBsZXQgb25FbCA9IHRhcmdldDsgLy8gZGV2XG4gIC8vIGlmIChjb25zb2xlUHJpbnRlZEVsICE9IHRhcmdldCkgeyAvLyBkZXZcbiAgLy8gICAvLyBkZXZcbiAgLy8gICBjb25zb2xlLmxvZyhcInlvdSBhcmUgb246IFxcblwiLCBvbkVsLCBcIlxcbkRyb3BpbmcgaW46IFxcblwiLCBlbCk7XG4gIC8vICAgY29uc29sZVByaW50ZWRFbCA9IGVsO1xuICAvLyB9XG5cbiAgLy8gaWYoKVxuXG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoIXN0b3BTY3JvbGwpIHtcbiAgICBzY3JvbGxlci5jYWxjdWxhdGVTY3JvbGwoe1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBlbGVtZW50OiBlbC5wYXJlbnRFbGVtZW50LFxuICAgICAgb25Nb3VzZVNjcm9sbE1vdmU6IChlKSA9PiBtb3ZlKGUsIHJlZiwgdHJ1ZSksXG4gICAgfSk7XG4gIH1cblxuICAvLyB0b2RvOlxuXG4gIGRuZC5kcmFnT3Zlcih7IHgsIHksIHRhcmdldDogZWwgfSwgZWwsIHJlZik7XG59XG5cbm1vdXNlZG93biA9IChlLCByZWYpID0+IHtcbiAgLy8gY29uc29sZS5sb2coXCJtb3VzZSBkb3duXCIsIGUpO1xuXG4gIGlmIChlLndoaWNoICE9IDEpIHJldHVybjtcblxuICBzdGFydChlLCByZWYpO1xufTtcbm1vdXNldXAgPSAoZSwgcmVmKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKFwibW91c2UgdXBcIiwgZSk7XG4gIC8vIHRvZG86IHdoeSB3b3VsZCB3ZSBjaGVjayBmb3IgaG92ZXJhYmxlIGFuZCB3aGF0IGRvIHdlIGRvIHdoaXRoIHRoaXM/XG4gIC8vIGxldCBlbCA9IGdldENvYyhlLnRhcmdldCwgaG92ZXJhYmxlKVxuICAvLyBpZiAoIWVsKSByZXR1cm47XG4gIC8vXG5cbiAgaWYgKGUud2hpY2ggIT0gMSkgcmV0dXJuO1xuXG4gIGVuZChlLCByZWYpO1xufTtcbm1vdXNlbW92ZSA9IChlLCByZWYpID0+IHtcbiAgbW92ZShlLCByZWYpO1xufTtcbi8vIGxldCBDb0NyZWF0ZUNsaWNrTGVmdCA9IChlKSA9PiB7XG4vLyAgIC8vIHRvZG86IG5vdCB3b3JraW5nIT9cbi8vICAgbGV0IGVsID0gZ2V0Q29jKGUudGFyZ2V0LCBzZWxlY3RhYmxlKTtcbi8vICAgaWYgKCFlbCkgcmV0dXJuO1xuLy8gfTtcbmxldCByZWZzID0gbmV3IE1hcCgpO1xuY29uc3QgaW5pdElmcmFtZSA9ICh7IGlzSWZyYW1lLCBmcmFtZSwgZG9jdW1lbnQsIHdpbmRvdyB9KSA9PiB7XG4gIGxldCByZWY7XG4gIGlmIChpc0lmcmFtZSkge1xuICAgIGxldCBmcmFtZVdpbmRvdyA9IGZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgbGV0IGZyYW1lRG9jdW1lbnQgPSBmcmFtZVdpbmRvdy5kb2N1bWVudCB8fCBmcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgbGV0IHJlY3QgPSBmcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZWYgPSB7XG4gICAgICB4OiByZWN0LmxlZnQsXG4gICAgICB5OiByZWN0LnRvcCxcbiAgICAgIGZyYW1lLFxuICAgICAgd2luZG93OiBmcmFtZVdpbmRvdyxcbiAgICAgIGRvY3VtZW50OiBmcmFtZURvY3VtZW50LFxuICAgICAgaXNJZnJhbWU6IHRydWUsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZWYgPSB7IHg6IDAsIHk6IDAsIHdpbmRvdywgZG9jdW1lbnQsIGlzSWZyYW1lOiBmYWxzZSB9O1xuICB9XG5cbiAgICBpZiAocmVmLndpbmRvdy5Db0NyZWF0ZURuZCAmJiByZWYud2luZG93LkNvQ3JlYXRlRG5kLmhhc0luaXQpIHJldHVybjtcblxuICBpZiAoIXJlZi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RuZC1zdHlsZVwiKSkge1xuICAgIGxldCBkbmRTdHlsZSA9IHJlZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgZG5kU3R5bGUuaWQgPSBcImRuZC1zdHlsZVwiO1xuICAgIGRuZFN0eWxlLmlubmVySFRNTCA9IGAgICAgLyogZG5kIHNwZWNpYyAqL1xuICAgICAgW2RhdGEtZHJhZ2dhYmxlPVwidHJ1ZVwiXSwgW2RhdGEtY2xvbmVhYmxlPVwidHJ1ZVwiXSAge1xuICAgICAgICB0b3VjaC1hY3Rpb246IG5vbmU7XG4gICAgICB9XG4gICAgICAvKiBkbmQgc3BlY2ljICovYDtcbiAgICByZWYuZG9jdW1lbnQuaGVhZC5hcHBlbmQoZG5kU3R5bGUpO1xuICB9XG5cbiAgcmVmLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICAvLyBkaXNhYmxlIHNlbGVjdGlvblxuICByZWYuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIChlKSA9PiB7XG4gICAgbGV0IHIgPSBnZXRDb2NzKGUudGFyZ2V0LCBbdmFycy5kcmFnZ2FibGUsIHZhcnMuY2xvbmVhYmxlXSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHIpKSByZXR1cm47XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgLy8gdG91Y2hcblxuXG5cbiAgbGV0IG1vdXNlbW92ZWUgLCBtb3VzZXVwZSwgbW91c2Vkb3duZSAsdG91Y2htb3ZlZSwgdG91Y2hoZWFkZSx0b3VjaHN0YXJ0ZTtcbiAgaWYoIXJlZnMuaGFzKHJlZi53aW5kb3cpKVxuICB7XG5cbiAgIHRvdWNoc3RhcnRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAvLyBjb25zb2xlLmxvZygpXG4gICAgXG4gICAgaWYodG91Y2hUaW1lb3V0KVxuICAgIGNsZWFyVGltZW91dCh0b3VjaFRpbWVvdXQpO1xuICAgIHRvdWNoVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3RvdWNoIHN0YXJ0JylcbiAgICAgIHJlZi5kb2N1bWVudC5ib2R5LnN0eWxlLnRvdWNoQWN0aW9uID0gXCJub25lXCJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHN0YXJ0KGUsIHJlZik7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICAgICB0b3VjaGhlYWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICByZWYuZG9jdW1lbnQuYm9keS5zdHlsZS50b3VjaEFjdGlvbiA9IFwiYXV0b1wiICBcbiAgICBpZiAoIWlzRHJhZ2luZykge1xuICAgICAgaWYodG91Y2hUaW1lb3V0KVxuICAgICAgY2xlYXJUaW1lb3V0KHRvdWNoVGltZW91dCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGVuZChlLCByZWYpO1xuICB9XG4gIFxuICAgICB0b3VjaG1vdmVlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBcbiAgXG5cbiAgICBpZiAoIWlzRHJhZ2luZykge1xuICAgICAgICBpZih0b3VjaFRpbWVvdXQpXG4gICAgICBjbGVhclRpbWVvdXQodG91Y2hUaW1lb3V0KTtcbiAgICAgIGNvbnNvbGUubG9nKCd0b3VjaCBzY3JvbGwnKVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgY29uc29sZS5sb2coJ3RvdWNoIGRuZCcpIFxuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gY29uc29sZS5sb2coXCJob3N0IHRvdWNoIG1vdmVcIik7XG5cbiAgICBsZXQgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgbGV0IHggPSB0b3VjaC5jbGllbnRYO1xuICAgIGxldCB5ID0gdG91Y2guY2xpZW50WTtcbiAgICBsZXQgZWwgPSByZWYuZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICBpZiAoIWVsKSByZXR1cm47IC8vIGl0J3Mgb3V0IG9mIGlmcmFtZVxuXG4gICAgLy8gc2VuZGluZyBvYmplY3QgcmVwcmVzZW50aW5nIGFuIGV2ZW50IGRhdGFcbiAgICBtb3ZlKHsgeCwgeSwgdGFyZ2V0OiBlbCwgaXNUb3VjaDogdHJ1ZSB9LCByZWYpO1xuICB9O1xuICBcbiAgICAgbW91c2Vkb3duZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgbW91c2Vkb3duLmFwcGx5KHRoaXMsIFtlLCByZWZdKTtcbiAgfVxuICBcbiAgICAgbW91c2V1cGUgPSAgZnVuY3Rpb24gKGUpIHtcbiAgICBtb3VzZXVwLmFwcGx5KHRoaXMsIFtlLCByZWZdKTtcbiAgfVxuICAgXG4gICBtb3VzZW1vdmVlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBtb3VzZW1vdmUuYXBwbHkodGhpcywgW2UsIHJlZl0pO1xuICB9O1xuICAgIHJlZnMuc2V0KHJlZi53aW5kb3csIHttb3VzZW1vdmVlICwgbW91c2V1cGUsIG1vdXNlZG93bmUgLHRvdWNobW92ZWUsIHRvdWNoaGVhZGUsdG91Y2hzdGFydGV9KVxuICB9XG4gIGVsc2VcbiAge1xuICAgICh7bW91c2Vtb3ZlZSAsIG1vdXNldXBlLCBtb3VzZWRvd25lICx0b3VjaG1vdmVlLCB0b3VjaGhlYWRlLHRvdWNoc3RhcnRlfSA9IHJlZnMuZ2V0KHJlZi53aW5kb3cpKTtcbiAgfVxuICBcbiAgXG4gIHJlZi5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0b3VjaHN0YXJ0ZSk7XG4gIHJlZi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0b3VjaHN0YXJ0ZSk7XG5cbiAgcmVmLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRvdWNoaGVhZGUgLCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgcmVmLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRvdWNoaGVhZGUgLCB7cGFzc2l2ZTogZmFsc2V9KTtcblxuICByZWYuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0b3VjaG1vdmVlLCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgcmVmLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0b3VjaG1vdmVlICwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gIC8vIHRvdWNoXG4gIC8vIG1vdXNlXG5cbiAgcmVmLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2Vkb3duZSk7XG4gIHJlZi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlZG93bmUpO1xuXG4gIHJlZi5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLG1vdXNldXBlKTtcbiAgcmVmLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsbW91c2V1cGUpO1xuXG4gIFxuICByZWYuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLG1vdXNlbW92ZWUgKTtcbiAgcmVmLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixtb3VzZW1vdmVlICk7XG4gIC8vIG1vdXNlXG4gIFxuXG59O1xuXG4vLyBjb25zdCBpbml0ID0gKCkgPT4ge1xuLy8gICBkbmQod2luZG93LCBkb2N1bWVudCk7XG4vLyAgIC8vIGNvbnNvbGUubG9nKFwiZG5kIGlzIGxvYWRlZFwiLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuXG4vLyAgIC8vIGZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbi8vICAgLy8gICBsZXQgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCBcInRleHQvaHRtbFwiKTtcbi8vICAgLy8gICBpZiAoZG9jLmhlYWQuY2hpbGRyZW5bMF0pIHJldHVybiBkb2MuaGVhZC5jaGlsZHJlblswXTtcbi8vICAgLy8gICBlbHNlIHJldHVybiBkb2MuYm9keS5jaGlsZHJlblswXTtcbi8vICAgLy8gfVxuLy8gfTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgaWYod2luZG93LnBhcmVudCAhPT0gd2luZG93KSByZXR1cm47XG4gIGluaXRJZnJhbWUoeyBkb2N1bWVudCwgd2luZG93IH0pO1xuICBkbmRDb25maWcoKTtcbn0pO1xuXG5jb25zdCBpbml0RnVuY3Rpb24gPSBmdW5jdGlvbiAoeyB0YXJnZXQsIG9uRG5kLCBvbkRuZFN1Y2Nlc3MgfSkge1xuICBpZiAodHlwZW9mIG9uRG5kU3VjY2VzcyA9PSBcImZ1bmN0aW9uXCIpXG4gICAgYmVmb3JlRG5kU3VjY2Vzc0NhbGxiYWNrID0gb25EbmRTdWNjZXNzO1xuXG4gIGluaXRGdW5jdGlvblN0YXRlLnB1c2goeyB0YXJnZXQsIG9uRG5kIH0pO1xufTtcblxuY29uc3QgaW5pdEVsZW1lbnQgPSBmdW5jdGlvbiAoe1xuICB0YXJnZXQsXG4gIGRyb3BhYmxlLFxuICBkcmFnZ2FibGUsXG4gIGNsb25lYWJsZSxcbiAgaGFuZGxlLFxuICBncm91cCxcbiAgZXhjbHVkZSxcbiAgYmVmb3JlRG5kU3VjY2Vzcyxcbn0pIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIGJlZm9yZURuZFN1Y2Nlc3MgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgYmVmb3JlRG5kU3VjY2Vzc0NhbGxiYWNrID0gYmVmb3JlRG5kU3VjY2VzcztcbiAgICBpZiAoZ3JvdXApIHRhcmdldC5zZXRIaWRkZW5BdHRyaWJ1dGUodmFycy5ncm91cF9uYW1lLCBncm91cCk7XG5cbiAgICBpZiAoZXhjbHVkZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGV4Y2x1ZGVFbHMgPSB0YXJnZXQucXVlcnlTZWxlY3RvckFsbChleGNsdWRlKTtcbiAgICAgICAgZXhjbHVkZUVscy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGVsLnNldEhpZGRlbkF0dHJpYnV0ZSh2YXJzLmV4Y2x1ZGUsIFwidHJ1ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgbGV0IGVycm9yID0gXCJEbmQgU29ydGFibGU6IGV4Y2x1ZGUgbXVzdCBiZSB2YWxpZCBzZWxlY3RvclwiO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZHJvcGFibGUpXG4gICAgICB0YXJnZXQucXVlcnlTZWxlY3RvckFsbChkcm9wYWJsZSkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwuc2V0SGlkZGVuQXR0cmlidXRlKHZhcnMuZHJvcHBhYmxlLCBcInRydWVcIik7XG4gICAgICB9KTtcbiAgICBpZiAoZHJhZ2dhYmxlKVxuICAgICAgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoZHJhZ2dhYmxlKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAvLyBlbC5zdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJ1xuICAgICAgICBlbC5zZXRIaWRkZW5BdHRyaWJ1dGUodmFycy5kcmFnZ2FibGUsIFwidHJ1ZVwiKTtcbiAgICAgIH0pO1xuXG4gICAgaWYgKGNsb25lYWJsZSlcbiAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKGNsb25lYWJsZSkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgLy8gZWwuc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSdcbiAgICAgICAgZWwuc2V0SGlkZGVuQXR0cmlidXRlKHZhcnMuY2xvbmVhYmxlLCBcInRydWVcIik7XG4gICAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbikge1xuICAgICAgbGV0IGVycm9yID0gXCJEbmQgU29ydGFibGU6IGhhbmRsZSBtdXN0IGJlIGEgdmFsaWQgc2VsZWN0b3JcIjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB0aHJvdyBlcnI7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGFkZE5lc3RlZEF0dHJpYnV0ZShlbCwgY2xvbmVhYmxlKSB7XG4gIGlmICghZWwuY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm47XG4gIEFycmF5LmZyb20oZWwuY2hpbGRyZW4pLmZvckVhY2goKGVsKSA9PiB7XG4gICAgYWRkTmVzdGVkQXR0cmlidXRlKGVsKTtcbiAgICBlbC5zZXRIaWRkZW5BdHRyaWJ1dGUodmFycy5leGNsdWRlLCBcInRydWVcIik7XG4gICAgLy8gZWwuc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSdcbiAgICBlbC5zZXRIaWRkZW5BdHRyaWJ1dGUodmFycy5kcmFnZ2FibGUsIFwidHJ1ZVwiKTtcbiAgICBpZiAoY2xvbmVhYmxlKSBlbC5zZXRIaWRkZW5BdHRyaWJ1dGUodmFycy5jbG9uZWFibGUsIFwidHJ1ZVwiKTtcbiAgfSk7XG59XG5cbmNvbnN0IGluaXRDb250YWluZXIgPSBmdW5jdGlvbiAoe1xuICB0YXJnZXQsXG4gIGNsb25lYWJsZSA9IGZhbHNlLFxuICBuZXN0ZWQgPSBmYWxzZSxcbiAgaGFuZGxlLFxuICBncm91cCxcbiAgZXhjbHVkZSxcbn0pIHtcbiAgaWYgKGdyb3VwKSB0YXJnZXQuc2V0SGlkZGVuQXR0cmlidXRlKHZhcnMuZ3JvdXBfbmFtZSwgZ3JvdXApO1xuICBpZiAoZXhjbHVkZSkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgZXhjbHVkZUVscyA9IHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKGV4Y2x1ZGUpO1xuICAgICAgZXhjbHVkZUVscy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5zZXRIaWRkZW5BdHRyaWJ1dGUodmFycy5leGNsdWRlLCBcInRydWVcIik7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pIHtcbiAgICAgICAgbGV0IGVycm9yID0gXCJEbmQgU29ydGFibGU6IGV4Y2x1ZGUgbXVzdCBiZSB2YWxpZCBzZWxlY3RvclwiO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9IGVsc2UgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdGFyZ2V0LnRhZ05hbWUpIHtcbiAgICBsZXQgZXJyb3IgPSBcIkRuZCBTb3J0YWJsZTogUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBlbGVtZW50XCI7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICBpZiAodHlwZW9mIGNsb25lYWJsZSAhPSBcImJvb2xlYW5cIikge1xuICAgIGxldCBlcnJvciA9IFwiRG5kIFNvcnRhYmxlOiBwbGVhc2UgcHJvdmlkZSB2YWxpZCBkYXRhIHR5cGUgZm9yIGNsb25lYWJsZVwiO1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBuZXN0ZWQgIT0gXCJib29sZWFuXCIpIHtcbiAgICBsZXQgZXJyb3IgPSBcIkRuZCBTb3J0YWJsZTogcGxlYXNlIHByb3ZpZGUgdmFsaWQgZGF0YSB0eXBlIGZvciBuZXN0ZWRcIjtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIGlmIChuZXN0ZWQpIHtcbiAgICBhZGROZXN0ZWRBdHRyaWJ1dGUodGFyZ2V0LCBjbG9uZWFibGUpO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldC5zZXRIaWRkZW5BdHRyaWJ1dGUodmFycy5kcm9wcGFibGUsIFwidHJ1ZVwiKTtcblxuICAgIGlmICh0YXJnZXQuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgQXJyYXkuZnJvbSh0YXJnZXQuY2hpbGRyZW4pLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGlmIChjbG9uZWFibGUpIHtcbiAgICAgICAgICAvLyBlbC5zdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJ1xuICAgICAgICAgIGVsLnNldEhpZGRlbkF0dHJpYnV0ZSh2YXJzLmNsb25lYWJsZSwgXCJ0cnVlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGVsLnN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnXG4gICAgICAgICAgZWwuc2V0SGlkZGVuQXR0cmlidXRlKHZhcnMuZHJhZ2dhYmxlLCBcInRydWVcIik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgaGFuZGxlRWxzID0gZWwucXVlcnlTZWxlY3RvckFsbChoYW5kbGUpO1xuICAgICAgICAgIGlmIChoYW5kbGUgJiYgaGFuZGxlRWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZWwuc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSdcbiAgICAgICAgICAgIGVsLnNldEhpZGRlbkF0dHJpYnV0ZSh2YXJzLmRyYWdnYWJsZSwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgaGFuZGxlRWxzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICAgIC8vIGVsLnN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnXG4gICAgICAgICAgICAgIGVsLnNldEhpZGRlbkF0dHJpYnV0ZSh2YXJzLmRyYWdnYWJsZSwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBcIkRuZCBTb3J0YWJsZTogaGFuZGxlIG11c3QgYmUgYSB2YWxpZCBzZWxlY3RvclwiO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9IGVsc2UgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxufTtcblxuXG5leHBvcnQgeyAgXG4gIGluaXRDb250YWluZXIsXG4gIGluaXRFbGVtZW50LFxuICBpbml0RnVuY3Rpb24sXG4gIGluaXRJZnJhbWVcbn07XG5cbmxldCBleHAgPSB7ICBcbiAgaW5pdENvbnRhaW5lcixcbiAgaW5pdEVsZW1lbnQsXG4gIGluaXRGdW5jdGlvbixcbn07XG5cbmZ1bmN0aW9uIGluaXQocGFyYW1zKVxue1xuICBsZXQge21vZGV9PSBwYXJhbXM7IFxuICBkZWxldGUgcGFyYW1zLm1vZGU7XG4gIGlmKCEgWydmdW5jdGlvbicsICdlbGVtZW50JywgJ2NvbnRhaW5lciddLmluY2x1ZGVzKG1vZGUpIClcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgbW9kZSBwcm92aWRlZCcpIFxuICBsZXQgZnVuY05hbWUgPSdpbml0JyArIG1vZGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBtb2RlLnNsaWNlKDEpO1xuICBleHBbZnVuY05hbWVdLmFwcGx5KG51bGwsIFtwYXJhbXNdKVxufVxuZXhwb3J0IGRlZmF1bHQge2luaXRJZnJhbWUsIGluaXR9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/index.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/util/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "dndContext": () => (/* binding */ dndContext),\n/* harmony export */   "initFunctionState": () => (/* reexport safe */ _domContext2__WEBPACK_IMPORTED_MODULE_1__.initFunctionState),\n/* harmony export */   "getCoc": () => (/* binding */ getCoc),\n/* harmony export */   "getCocs": () => (/* binding */ getCocs),\n/* harmony export */   "getGroupName": () => (/* binding */ getGroupName),\n/* harmony export */   "computeStyles": () => (/* binding */ computeStyles),\n/* harmony export */   "randomId": () => (/* binding */ randomId),\n/* harmony export */   "dropMarker": () => (/* binding */ dropMarker),\n/* harmony export */   "parse": () => (/* binding */ parse),\n/* harmony export */   "ghostEffect": () => (/* binding */ ghostEffect),\n/* harmony export */   "pDistance": () => (/* binding */ pDistance),\n/* harmony export */   "closestChild": () => (/* binding */ closestChild),\n/* harmony export */   "distanceToChild": () => (/* binding */ distanceToChild),\n/* harmony export */   "distanceToChildLeftRight": () => (/* binding */ distanceToChildLeftRight),\n/* harmony export */   "distanceToChildTopBottom": () => (/* binding */ distanceToChildTopBottom),\n/* harmony export */   "autoScroller": () => (/* binding */ autoScroller)\n/* harmony export */ });\n/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./variables */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/variables.js");\n/* harmony import */ var _domContext2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./domContext2 */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/domContext2.js");\n\n\n\n\n//find the global context\nlet parentWindow = window;\nwhile (parentWindow !== window.parent) parentWindow = window.parent;\nlet dndContext;\nif (!parentWindow.dndContext) {\n  dndContext = new _domContext2__WEBPACK_IMPORTED_MODULE_1__.default();\n  parentWindow.dndContext = dndContext;\n} else dndContext = parentWindow.dndContext;\n\n\n\nfunction getCoc(el, att) {\n  if (!el.tagName) el = el.parentElement;\n  return dndContext.getContext(el, att);\n}\n\nfunction getCocs(el, attList) {\n  if (!el.tagName) el = el.parentElement;\n  return dndContext.getContexts(el, attList);\n}\n\nfunction getGroupName(el) {\n  if (!el.tagName) el = el.parentElement;\n  do {\n    let groupName = el.getAttribute(_variables__WEBPACK_IMPORTED_MODULE_0__.group_name);\n    if (groupName) return [el, groupName];\n    el = el.parentElement;\n    if (!el) return [null, undefined];\n  } while (true);\n}\n\nfunction computeStyles(el, properties) {\n  let computed = window.getComputedStyle(el);\n  let result = {};\n  properties.forEach((property) => {\n    result[property] = parseInt(computed[property]);\n  });\n  return result;\n}\n\nfunction randomId() {\n  const uint32 = window.crypto.getRandomValues(new Uint32Array(1))[0];\n  return uint32.toString(16);\n}\n\nlet lasttransition = "none";\nfunction dropMarker(options) {\n  options = Object.assign({ borderSize: 2, dropMarkerMargin: 5 }, options);\n  let marker = document.createElement("div");\n  marker.id = "dropMarker";\n  // marker.style.backgroundColor = "green";\n  // marker.style.position = "absolute";\n  // marker.style.display = "none";\n  marker.style.pointerEvents = "none";\n\n  this.lastOrigntaion = undefined;\n\n  document.body.append(marker);\n  this.obj = marker;\n\n  this.draw = function (parent, el, orientation, isInside, ref) {\n    marker.style.display = "block";\n\n    let rect = el.getBoundingClientRect();\n    if (!rect.width && !rect.height) {\n      rect = parent.getBoundingClientRect();\n      orientation = "top";\n    }\n\n    switch (orientation) {\n      case "top":\n      case "bottom":\n        // order is important to fix rectangle bug\n        marker.style.height = options.borderSize + "px";\n        marker.style.width = rect.width + "px";\n        break;\n      case "left":\n      case "right":\n        marker.style.width = options.borderSize + "px";\n        marker.style.height = rect.height + "px";\n        break;\n      default:\n        throw new Error("one type of orientation must be specified");\n    }\n\n    if (parent != el) {\n      let prect = parent.getBoundingClientRect();\n      let parentSize = prect[orientation];\n      let childSize = rect[orientation];\n      if (Math.abs(parentSize - childSize) < options.dropMarkerMargin * 2)\n        isInside = true;\n    }\n    let frameRect;\n    if (ref.frame) frameRect = ref.frame.getBoundingClientRect();\n    else frameRect = { top: 0, left: 0 };\n\n    marker.style.transition = "top,left 0.2s ease-in-out";\n    switch (orientation) {\n      case "top":\n        marker.style.top =\n          frameRect.top +\n          rect.top -\n          options.borderSize / 2 +\n          window.scrollY +\n          (isInside ? options.dropMarkerMargin : -options.dropMarkerMargin) +\n          "px";\n        marker.style.left =\n          frameRect.left +\n          rect.left -\n          options.borderSize / 2 +\n          window.scrollX +\n          "px";\n        break;\n      case "bottom":\n        marker.style.top =\n          frameRect.top +\n          rect.bottom -\n          options.borderSize / 2 +\n          window.scrollY +\n          (isInside ? -options.dropMarkerMargin : options.dropMarkerMargin) +\n          "px";\n        marker.style.left =\n          frameRect.left +\n          rect.left -\n          options.borderSize / 2 +\n          window.scrollX +\n          "px";\n        break;\n      case "left":\n        marker.style.top =\n          frameRect.top +\n          rect.top -\n          options.borderSize / 2 +\n          window.scrollY +\n          "px";\n        marker.style.left =\n          frameRect.left +\n          rect.left -\n          options.borderSize / 2 +\n          window.scrollX +\n          (isInside ? options.dropMarkerMargin : -options.dropMarkerMargin) +\n          "px";\n        break;\n      case "right":\n        marker.style.top =\n          frameRect.top +\n          rect.top -\n          options.borderSize / 2 +\n          window.scrollY +\n          "px";\n        marker.style.left =\n          frameRect.left +\n          rect.right -\n          options.borderSize / 2 +\n          window.scrollX +\n          (isInside ? -options.dropMarkerMargin : options.dropMarkerMargin) +\n          "px";\n        break;\n      default:\n        throw new Error("one type of orientation must be specified");\n    }\n    // marker.style.transition = "all 0.2s ease-in-out";\n    this.lastOrigntaion = orientation;\n  };\n\n  this.hide = function (el) {\n    marker.style.display = "none";\n  };\n}\n\nfunction parse(text) {\n  let doc = new DOMParser().parseFromString(text, "text/html");\n  if (doc.head.children[0]) return doc.head.children[0];\n  else return doc.body.children[0];\n}\n\nfunction ghostEffect(elementEvent, el, ref) {\n  this.effectCb;\n  el.removeAttribute("CoC-dragging");\n  this.start = () => {\n    this.cloneEl = el.cloneNode(true);\n    let { width, height } = ref.window.getComputedStyle(el);\n    let cloneElStyle = window.getComputedStyle(this.cloneEl);\n    this.wrapper = document.createElement("div");\n\n    this.wrapper.style.height = height;\n    this.wrapper.style.width = width;\n    this.wrapper.append(this.cloneEl);\n    this.wrapper.style.display = "none";\n    ref.document.body.append(this.wrapper);\n\n    this.wrapper.style.pointerEvents = "none";\n    // this.wrapper.style.overflow = "hidden";\n    // this.wrapper.style.textOverflow = "ellipsis";\n    // this.wrapper.style.whiteSpace = "nowrap";\n\n    // this.wrapper.style.opacity = "0.5";\n    // this.wrapper.style.position = "fixed";\n    // this.wrapper.style.Zindex = "20000";\n    this.wrapper.id = "ghostEffect";\n  };\n\n  this.draw = (e, ref) => {\n    this.wrapper.style.display = "block";\n    let rect = this.wrapper.getBoundingClientRect();\n    let {\n      marginTop,\n      marginBottom,\n      marginLeft,\n      marginRight,\n      width,\n      height,\n    } = computeStyles(this.cloneEl, [\n      "marginTop",\n      "marginBottom",\n      "marginLeft",\n      "marginRight",\n      "width",\n      "height",\n    ]);\n\n    let frameRect;\n    if (ref.frame) frameRect = ref.frame.getBoundingClientRect();\n    else frameRect = { top: 0, left: 0 };\n\n    this.wrapper.style.top = frameRect.top + e.y - elementEvent.offsetY + "px";\n    this.wrapper.style.left =\n      frameRect.left + e.x - elementEvent.offsetX + "px";\n  };\n\n  this.hide = () => {\n    this.wrapper.remove();\n  };\n}\n\nfunction pDistance(x, y, x1, y1, x2, y2) {\n  var A = x - x1;\n  var B = y - y1;\n  var C = x2 - x1;\n  var D = y2 - y1;\n\n  var dot = A * C + B * D;\n  var len_sq = C * C + D * D;\n  var param = -1;\n  if (len_sq != 0)\n    //in case of 0 length line\n    param = dot / len_sq;\n\n  var xx, yy;\n\n  if (param < 0) {\n    xx = x1;\n    yy = y1;\n  } else if (param > 1) {\n    xx = x2;\n    yy = y2;\n  } else {\n    xx = x1 + param * C;\n    yy = y1 + param * D;\n  }\n\n  var dx = x - xx;\n  var dy = y - yy;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction closestChild(p, children) {\n  let closestDistance = Infinity;\n  let closestchild;\n  let topOrientation;\n  for (let child of children) {\n    if (child.classList.contains("hidden")) continue;\n    let [orientation, distance] = distanceToChild(p, child);\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      closestchild = child;\n      topOrientation = orientation;\n    }\n  }\n  return [topOrientation, closestchild];\n}\n\nlet orientations = ["left", "top", "right", "bottom"];\n/**\n *  p [x,y]\n *  child element\n */\nfunction distanceToChild(p, child) {\n  let rect = child.getBoundingClientRect();\n\n  let line1 = { p1: [rect.top, rect.left], p2: [rect.bottom, rect.left] };\n  let line2 = { p1: [rect.top, rect.left], p2: [rect.top, rect.right] };\n  let line3 = { p1: [rect.top, rect.right], p2: [rect.bottom, rect.right] };\n  let line4 = { p1: [rect.bottom, rect.left], p2: [rect.bottom, rect.right] };\n\n  let distances = [\n    pDistance(p[0], p[1], line1.p1[1], line1.p1[0], line1.p2[1], line1.p2[0]),\n    pDistance(p[0], p[1], line2.p1[1], line2.p1[0], line2.p2[1], line2.p2[0]),\n    pDistance(p[0], p[1], line3.p1[1], line3.p1[0], line3.p2[1], line3.p2[0]),\n    pDistance(p[0], p[1], line4.p1[1], line4.p1[0], line4.p2[1], line4.p2[0]),\n  ];\n\n  let orientation;\n  let closestDistance = Infinity;\n  distances.forEach((distance, i) => {\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      orientation = orientations[i];\n    }\n  });\n  return [orientation, closestDistance];\n}\n\nfunction distanceToChildLeftRight(p, child) {\n  let rect = child.getBoundingClientRect();\n\n  let line1 = { p1: [rect.top, 0], p2: [rect.bottom, 0] };\n  let line3 = {\n    p1: [rect.top, child.clientWidth],\n    p2: [rect.bottom, child.clientWidth],\n  };\n\n  let distances = [\n    pDistance(p[0], p[1], line1.p1[1], line1.p1[0], line1.p2[1], line1.p2[0]),\n    pDistance(p[0], p[1], line3.p1[1], line3.p1[0], line3.p2[1], line3.p2[0]),\n  ];\n\n  let orientation;\n  let closestDistance = Infinity;\n  distances.forEach((distance, i) => {\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      orientation = ["left", "right"][i];\n    }\n  });\n  return [orientation, closestDistance];\n}\n\nfunction distanceToChildTopBottom(p, child) {\n  let rect = child.getBoundingClientRect();\n\n  let line2 = { p1: [0, rect.left], p2: [0, rect.right] };\n\n  let line4 = {\n    p1: [child.clientHeight, rect.left],\n    p2: [child.clientHeight, rect.right],\n  };\n\n  let distances = [\n    pDistance(p[0], p[1], line2.p1[1], line2.p1[0], line2.p2[1], line2.p2[0]),\n\n    pDistance(p[0], p[1], line4.p1[1], line4.p1[0], line4.p2[1], line4.p2[0]),\n  ];\n\n  let orientation;\n  let closestDistance = Infinity;\n  distances.forEach((distance, i) => {\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      orientation = ["top", "bottom"][i];\n    }\n  });\n  return [orientation, closestDistance];\n}\n\nfunction autoScroller({ speed, threshold }) {\n  this.lastScrollingElement;\n  this.onElement;\n  this.mouse;\n  this.speed;\n  this.interval;\n  this.isActive;\n  this.update = function (x, y) {\n    this.mouse = { x, y };\n  };\n\n  this.calculateScroll = function ({ x, y, element, onMouseScrollMove }) {\n    while (true) {\n      if (\n        element &&\n        element.tagName &&\n        (element.scrollHeight > element.clientHeight ||\n          element.scrollWidth > element.clientWidth)\n      ) {\n        break;\n      } else if (element.parentElement) element = element.parentElement;\n      else break;\n    }\n\n    let hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n    let hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n\n    let horScrollThreshold = element.clientWidth / threshold;\n    let verScrollThreshold = element.clientHeight / threshold;\n\n    let [orientation, closestDistance] = [];\n    if (hasVerticalScrollbar)\n      [orientation, closestDistance] = distanceToChildTopBottom(\n        [x, y],\n        element\n      );\n    else if (hasHorizontalScrollbar)\n      [orientation, closestDistance] = distanceToChildLeftRight(\n        [x, y],\n        element\n      );\n\n    if (orientation) {\n      let condition;\n      switch (orientation) {\n        case "top":\n        case "bottom":\n          this.speed = (verScrollThreshold / (closestDistance + 1)) * speed;\n          condition = closestDistance < verScrollThreshold;\n          break;\n\n        case "left":\n        case "right":\n          this.speed = (horScrollThreshold / (closestDistance + 1)) * speed;\n          condition = closestDistance < horScrollThreshold;\n          break;\n      }\n\n      if (condition) {\n        if (!this.isActive) {\n          this.isActive = true;\n          this.__activateScroll(element, orientation, onMouseScrollMove);\n        } else if (this.isActive && this.lastScrollingElement !== element) {\n          this.deactivateScroll(element);\n          this.__activateScroll(element, orientation, onMouseScrollMove);\n        }\n      } else if (this.isActive) {\n        console.log("no", orientation, element);\n        this.isActive = false;\n        this.deactivateScroll(element);\n      }\n    }\n  };\n  // this.__scroll = function(element, s1 = 0, s2 = 0)\n  // {\n  //   for(let i = 0 ; i <= this.speed; i++)\n  //   {\n  //     element.scrollBy(s1, s2)\n\n  //   }\n  // }\n\n  this.__activateScroll = function (element, orientation, callback) {\n    // todo: when interval timeout is low and speed is hight scrollBy doesn\'t act\n    // retodo: give time to scrollBy equal to speed * 0.25 * timeout\n    element.style.scrollBehavior = "auto";\n    this.lastScrollingElement = element;\n    this.interval = setInterval(() => {\n      switch (orientation) {\n        case "top":\n          element.scrollBy(0, -this.speed);\n\n          break;\n        case "bottom":\n          element.scrollBy(0, this.speed);\n\n          break;\n        case "left":\n          element.scrollBy(-this.speed, 0);\n\n          break;\n        case "right":\n          element.scrollBy(this.speed, 0);\n\n          break;\n        default:\n      }\n\n      // this.onElement = document.elementFromPoint(this.mouse.x, this.mouse.y);\n      // if (this.onElement) {\n      //   callback({ x: this.mouse.x, y: this.mouse.y, target: this.onElement });\n      // }\n    }, 10);\n  };\n\n  this.deactivateScroll = function (element) {\n    if (element) element.style.scrollBehavior = "";\n    clearInterval(this.interval);\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvY29tbW9uLmpzP2UyMDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUN5QztBQUNxQjs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpREFBVTtBQUM3QjtBQUNBLENBQUM7O0FBRXdDOztBQUVsQztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSxvQ0FBb0Msa0RBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNPO0FBQ1AsMkJBQTJCLHFDQUFxQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFnQjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQOztBQUVBLGVBQWU7QUFDZixlQUFlO0FBQ2YsZUFBZTtBQUNmLGVBQWU7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRU87QUFDUDs7QUFFQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFTztBQUNQOztBQUVBLGVBQWU7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRU8sdUJBQXVCLG1CQUFtQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQSxvQ0FBb0MsbUNBQW1DO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQiwyREFBMkQ7QUFDaEY7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvZG5kL3NyYy91dGlsL2NvbW1vbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgZ3JvdXBfbmFtZSB9IGZyb20gXCIuL3ZhcmlhYmxlc1wiO1xuaW1wb3J0IGRvbUNvbnRleHQsIHsgaW5pdEZ1bmN0aW9uU3RhdGUgfSBmcm9tIFwiLi9kb21Db250ZXh0MlwiO1xuXG4vL2ZpbmQgdGhlIGdsb2JhbCBjb250ZXh0XG5sZXQgcGFyZW50V2luZG93ID0gd2luZG93O1xud2hpbGUgKHBhcmVudFdpbmRvdyAhPT0gd2luZG93LnBhcmVudCkgcGFyZW50V2luZG93ID0gd2luZG93LnBhcmVudDtcbmxldCBkbmRDb250ZXh0O1xuaWYgKCFwYXJlbnRXaW5kb3cuZG5kQ29udGV4dCkge1xuICBkbmRDb250ZXh0ID0gbmV3IGRvbUNvbnRleHQoKTtcbiAgcGFyZW50V2luZG93LmRuZENvbnRleHQgPSBkbmRDb250ZXh0O1xufSBlbHNlIGRuZENvbnRleHQgPSBwYXJlbnRXaW5kb3cuZG5kQ29udGV4dDtcblxuZXhwb3J0IHsgZG5kQ29udGV4dCwgaW5pdEZ1bmN0aW9uU3RhdGUgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvYyhlbCwgYXR0KSB7XG4gIGlmICghZWwudGFnTmFtZSkgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICByZXR1cm4gZG5kQ29udGV4dC5nZXRDb250ZXh0KGVsLCBhdHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29jcyhlbCwgYXR0TGlzdCkge1xuICBpZiAoIWVsLnRhZ05hbWUpIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgcmV0dXJuIGRuZENvbnRleHQuZ2V0Q29udGV4dHMoZWwsIGF0dExpc3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JvdXBOYW1lKGVsKSB7XG4gIGlmICghZWwudGFnTmFtZSkgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICBkbyB7XG4gICAgbGV0IGdyb3VwTmFtZSA9IGVsLmdldEF0dHJpYnV0ZShncm91cF9uYW1lKTtcbiAgICBpZiAoZ3JvdXBOYW1lKSByZXR1cm4gW2VsLCBncm91cE5hbWVdO1xuICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICBpZiAoIWVsKSByZXR1cm4gW251bGwsIHVuZGVmaW5lZF07XG4gIH0gd2hpbGUgKHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVN0eWxlcyhlbCwgcHJvcGVydGllcykge1xuICBsZXQgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGxldCByZXN1bHQgPSB7fTtcbiAgcHJvcGVydGllcy5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgIHJlc3VsdFtwcm9wZXJ0eV0gPSBwYXJzZUludChjb21wdXRlZFtwcm9wZXJ0eV0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUlkKCkge1xuICBjb25zdCB1aW50MzIgPSB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdO1xuICByZXR1cm4gdWludDMyLnRvU3RyaW5nKDE2KTtcbn1cblxubGV0IGxhc3R0cmFuc2l0aW9uID0gXCJub25lXCI7XG5leHBvcnQgZnVuY3Rpb24gZHJvcE1hcmtlcihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgYm9yZGVyU2l6ZTogMiwgZHJvcE1hcmtlck1hcmdpbjogNSB9LCBvcHRpb25zKTtcbiAgbGV0IG1hcmtlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG1hcmtlci5pZCA9IFwiZHJvcE1hcmtlclwiO1xuICAvLyBtYXJrZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAvLyBtYXJrZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gIC8vIG1hcmtlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIG1hcmtlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG5cbiAgdGhpcy5sYXN0T3JpZ250YWlvbiA9IHVuZGVmaW5lZDtcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZChtYXJrZXIpO1xuICB0aGlzLm9iaiA9IG1hcmtlcjtcblxuICB0aGlzLmRyYXcgPSBmdW5jdGlvbiAocGFyZW50LCBlbCwgb3JpZW50YXRpb24sIGlzSW5zaWRlLCByZWYpIHtcbiAgICBtYXJrZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKCFyZWN0LndpZHRoICYmICFyZWN0LmhlaWdodCkge1xuICAgICAgcmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIG9yaWVudGF0aW9uID0gXCJ0b3BcIjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG9yaWVudGF0aW9uKSB7XG4gICAgICBjYXNlIFwidG9wXCI6XG4gICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgIC8vIG9yZGVyIGlzIGltcG9ydGFudCB0byBmaXggcmVjdGFuZ2xlIGJ1Z1xuICAgICAgICBtYXJrZXIuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5ib3JkZXJTaXplICsgXCJweFwiO1xuICAgICAgICBtYXJrZXIuc3R5bGUud2lkdGggPSByZWN0LndpZHRoICsgXCJweFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgbWFya2VyLnN0eWxlLndpZHRoID0gb3B0aW9ucy5ib3JkZXJTaXplICsgXCJweFwiO1xuICAgICAgICBtYXJrZXIuc3R5bGUuaGVpZ2h0ID0gcmVjdC5oZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwib25lIHR5cGUgb2Ygb3JpZW50YXRpb24gbXVzdCBiZSBzcGVjaWZpZWRcIik7XG4gICAgfVxuXG4gICAgaWYgKHBhcmVudCAhPSBlbCkge1xuICAgICAgbGV0IHByZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgbGV0IHBhcmVudFNpemUgPSBwcmVjdFtvcmllbnRhdGlvbl07XG4gICAgICBsZXQgY2hpbGRTaXplID0gcmVjdFtvcmllbnRhdGlvbl07XG4gICAgICBpZiAoTWF0aC5hYnMocGFyZW50U2l6ZSAtIGNoaWxkU2l6ZSkgPCBvcHRpb25zLmRyb3BNYXJrZXJNYXJnaW4gKiAyKVxuICAgICAgICBpc0luc2lkZSA9IHRydWU7XG4gICAgfVxuICAgIGxldCBmcmFtZVJlY3Q7XG4gICAgaWYgKHJlZi5mcmFtZSkgZnJhbWVSZWN0ID0gcmVmLmZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGVsc2UgZnJhbWVSZWN0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuICAgIG1hcmtlci5zdHlsZS50cmFuc2l0aW9uID0gXCJ0b3AsbGVmdCAwLjJzIGVhc2UtaW4tb3V0XCI7XG4gICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xuICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICBtYXJrZXIuc3R5bGUudG9wID1cbiAgICAgICAgICBmcmFtZVJlY3QudG9wICtcbiAgICAgICAgICByZWN0LnRvcCAtXG4gICAgICAgICAgb3B0aW9ucy5ib3JkZXJTaXplIC8gMiArXG4gICAgICAgICAgd2luZG93LnNjcm9sbFkgK1xuICAgICAgICAgIChpc0luc2lkZSA/IG9wdGlvbnMuZHJvcE1hcmtlck1hcmdpbiA6IC1vcHRpb25zLmRyb3BNYXJrZXJNYXJnaW4pICtcbiAgICAgICAgICBcInB4XCI7XG4gICAgICAgIG1hcmtlci5zdHlsZS5sZWZ0ID1cbiAgICAgICAgICBmcmFtZVJlY3QubGVmdCArXG4gICAgICAgICAgcmVjdC5sZWZ0IC1cbiAgICAgICAgICBvcHRpb25zLmJvcmRlclNpemUgLyAyICtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsWCArXG4gICAgICAgICAgXCJweFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgbWFya2VyLnN0eWxlLnRvcCA9XG4gICAgICAgICAgZnJhbWVSZWN0LnRvcCArXG4gICAgICAgICAgcmVjdC5ib3R0b20gLVxuICAgICAgICAgIG9wdGlvbnMuYm9yZGVyU2l6ZSAvIDIgK1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGxZICtcbiAgICAgICAgICAoaXNJbnNpZGUgPyAtb3B0aW9ucy5kcm9wTWFya2VyTWFyZ2luIDogb3B0aW9ucy5kcm9wTWFya2VyTWFyZ2luKSArXG4gICAgICAgICAgXCJweFwiO1xuICAgICAgICBtYXJrZXIuc3R5bGUubGVmdCA9XG4gICAgICAgICAgZnJhbWVSZWN0LmxlZnQgK1xuICAgICAgICAgIHJlY3QubGVmdCAtXG4gICAgICAgICAgb3B0aW9ucy5ib3JkZXJTaXplIC8gMiArXG4gICAgICAgICAgd2luZG93LnNjcm9sbFggK1xuICAgICAgICAgIFwicHhcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICBtYXJrZXIuc3R5bGUudG9wID1cbiAgICAgICAgICBmcmFtZVJlY3QudG9wICtcbiAgICAgICAgICByZWN0LnRvcCAtXG4gICAgICAgICAgb3B0aW9ucy5ib3JkZXJTaXplIC8gMiArXG4gICAgICAgICAgd2luZG93LnNjcm9sbFkgK1xuICAgICAgICAgIFwicHhcIjtcbiAgICAgICAgbWFya2VyLnN0eWxlLmxlZnQgPVxuICAgICAgICAgIGZyYW1lUmVjdC5sZWZ0ICtcbiAgICAgICAgICByZWN0LmxlZnQgLVxuICAgICAgICAgIG9wdGlvbnMuYm9yZGVyU2l6ZSAvIDIgK1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGxYICtcbiAgICAgICAgICAoaXNJbnNpZGUgPyBvcHRpb25zLmRyb3BNYXJrZXJNYXJnaW4gOiAtb3B0aW9ucy5kcm9wTWFya2VyTWFyZ2luKSArXG4gICAgICAgICAgXCJweFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICBtYXJrZXIuc3R5bGUudG9wID1cbiAgICAgICAgICBmcmFtZVJlY3QudG9wICtcbiAgICAgICAgICByZWN0LnRvcCAtXG4gICAgICAgICAgb3B0aW9ucy5ib3JkZXJTaXplIC8gMiArXG4gICAgICAgICAgd2luZG93LnNjcm9sbFkgK1xuICAgICAgICAgIFwicHhcIjtcbiAgICAgICAgbWFya2VyLnN0eWxlLmxlZnQgPVxuICAgICAgICAgIGZyYW1lUmVjdC5sZWZ0ICtcbiAgICAgICAgICByZWN0LnJpZ2h0IC1cbiAgICAgICAgICBvcHRpb25zLmJvcmRlclNpemUgLyAyICtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsWCArXG4gICAgICAgICAgKGlzSW5zaWRlID8gLW9wdGlvbnMuZHJvcE1hcmtlck1hcmdpbiA6IG9wdGlvbnMuZHJvcE1hcmtlck1hcmdpbikgK1xuICAgICAgICAgIFwicHhcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbmUgdHlwZSBvZiBvcmllbnRhdGlvbiBtdXN0IGJlIHNwZWNpZmllZFwiKTtcbiAgICB9XG4gICAgLy8gbWFya2VyLnN0eWxlLnRyYW5zaXRpb24gPSBcImFsbCAwLjJzIGVhc2UtaW4tb3V0XCI7XG4gICAgdGhpcy5sYXN0T3JpZ250YWlvbiA9IG9yaWVudGF0aW9uO1xuICB9O1xuXG4gIHRoaXMuaGlkZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgIG1hcmtlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZSh0ZXh0KSB7XG4gIGxldCBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRleHQsIFwidGV4dC9odG1sXCIpO1xuICBpZiAoZG9jLmhlYWQuY2hpbGRyZW5bMF0pIHJldHVybiBkb2MuaGVhZC5jaGlsZHJlblswXTtcbiAgZWxzZSByZXR1cm4gZG9jLmJvZHkuY2hpbGRyZW5bMF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnaG9zdEVmZmVjdChlbGVtZW50RXZlbnQsIGVsLCByZWYpIHtcbiAgdGhpcy5lZmZlY3RDYjtcbiAgZWwucmVtb3ZlQXR0cmlidXRlKFwiQ29DLWRyYWdnaW5nXCIpO1xuICB0aGlzLnN0YXJ0ID0gKCkgPT4ge1xuICAgIHRoaXMuY2xvbmVFbCA9IGVsLmNsb25lTm9kZSh0cnVlKTtcbiAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSByZWYud2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgIGxldCBjbG9uZUVsU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNsb25lRWwpO1xuICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICB0aGlzLndyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMud3JhcHBlci5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5jbG9uZUVsKTtcbiAgICB0aGlzLndyYXBwZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHJlZi5kb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLndyYXBwZXIpO1xuXG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAvLyB0aGlzLndyYXBwZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIC8vIHRoaXMud3JhcHBlci5zdHlsZS50ZXh0T3ZlcmZsb3cgPSBcImVsbGlwc2lzXCI7XG4gICAgLy8gdGhpcy53cmFwcGVyLnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiO1xuXG4gICAgLy8gdGhpcy53cmFwcGVyLnN0eWxlLm9wYWNpdHkgPSBcIjAuNVwiO1xuICAgIC8vIHRoaXMud3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAvLyB0aGlzLndyYXBwZXIuc3R5bGUuWmluZGV4ID0gXCIyMDAwMFwiO1xuICAgIHRoaXMud3JhcHBlci5pZCA9IFwiZ2hvc3RFZmZlY3RcIjtcbiAgfTtcblxuICB0aGlzLmRyYXcgPSAoZSwgcmVmKSA9PiB7XG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgbGV0IHJlY3QgPSB0aGlzLndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHtcbiAgICAgIG1hcmdpblRvcCxcbiAgICAgIG1hcmdpbkJvdHRvbSxcbiAgICAgIG1hcmdpbkxlZnQsXG4gICAgICBtYXJnaW5SaWdodCxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgIH0gPSBjb21wdXRlU3R5bGVzKHRoaXMuY2xvbmVFbCwgW1xuICAgICAgXCJtYXJnaW5Ub3BcIixcbiAgICAgIFwibWFyZ2luQm90dG9tXCIsXG4gICAgICBcIm1hcmdpbkxlZnRcIixcbiAgICAgIFwibWFyZ2luUmlnaHRcIixcbiAgICAgIFwid2lkdGhcIixcbiAgICAgIFwiaGVpZ2h0XCIsXG4gICAgXSk7XG5cbiAgICBsZXQgZnJhbWVSZWN0O1xuICAgIGlmIChyZWYuZnJhbWUpIGZyYW1lUmVjdCA9IHJlZi5mcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBlbHNlIGZyYW1lUmVjdCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cbiAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gZnJhbWVSZWN0LnRvcCArIGUueSAtIGVsZW1lbnRFdmVudC5vZmZzZXRZICsgXCJweFwiO1xuICAgIHRoaXMud3JhcHBlci5zdHlsZS5sZWZ0ID1cbiAgICAgIGZyYW1lUmVjdC5sZWZ0ICsgZS54IC0gZWxlbWVudEV2ZW50Lm9mZnNldFggKyBcInB4XCI7XG4gIH07XG5cbiAgdGhpcy5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMud3JhcHBlci5yZW1vdmUoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBEaXN0YW5jZSh4LCB5LCB4MSwgeTEsIHgyLCB5Mikge1xuICB2YXIgQSA9IHggLSB4MTtcbiAgdmFyIEIgPSB5IC0geTE7XG4gIHZhciBDID0geDIgLSB4MTtcbiAgdmFyIEQgPSB5MiAtIHkxO1xuXG4gIHZhciBkb3QgPSBBICogQyArIEIgKiBEO1xuICB2YXIgbGVuX3NxID0gQyAqIEMgKyBEICogRDtcbiAgdmFyIHBhcmFtID0gLTE7XG4gIGlmIChsZW5fc3EgIT0gMClcbiAgICAvL2luIGNhc2Ugb2YgMCBsZW5ndGggbGluZVxuICAgIHBhcmFtID0gZG90IC8gbGVuX3NxO1xuXG4gIHZhciB4eCwgeXk7XG5cbiAgaWYgKHBhcmFtIDwgMCkge1xuICAgIHh4ID0geDE7XG4gICAgeXkgPSB5MTtcbiAgfSBlbHNlIGlmIChwYXJhbSA+IDEpIHtcbiAgICB4eCA9IHgyO1xuICAgIHl5ID0geTI7XG4gIH0gZWxzZSB7XG4gICAgeHggPSB4MSArIHBhcmFtICogQztcbiAgICB5eSA9IHkxICsgcGFyYW0gKiBEO1xuICB9XG5cbiAgdmFyIGR4ID0geCAtIHh4O1xuICB2YXIgZHkgPSB5IC0geXk7XG4gIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdENoaWxkKHAsIGNoaWxkcmVuKSB7XG4gIGxldCBjbG9zZXN0RGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgbGV0IGNsb3Nlc3RjaGlsZDtcbiAgbGV0IHRvcE9yaWVudGF0aW9uO1xuICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIGNvbnRpbnVlO1xuICAgIGxldCBbb3JpZW50YXRpb24sIGRpc3RhbmNlXSA9IGRpc3RhbmNlVG9DaGlsZChwLCBjaGlsZCk7XG4gICAgaWYgKGRpc3RhbmNlIDwgY2xvc2VzdERpc3RhbmNlKSB7XG4gICAgICBjbG9zZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIGNsb3Nlc3RjaGlsZCA9IGNoaWxkO1xuICAgICAgdG9wT3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFt0b3BPcmllbnRhdGlvbiwgY2xvc2VzdGNoaWxkXTtcbn1cblxubGV0IG9yaWVudGF0aW9ucyA9IFtcImxlZnRcIiwgXCJ0b3BcIiwgXCJyaWdodFwiLCBcImJvdHRvbVwiXTtcbi8qKlxuICogIHAgW3gseV1cbiAqICBjaGlsZCBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZVRvQ2hpbGQocCwgY2hpbGQpIHtcbiAgbGV0IHJlY3QgPSBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBsZXQgbGluZTEgPSB7IHAxOiBbcmVjdC50b3AsIHJlY3QubGVmdF0sIHAyOiBbcmVjdC5ib3R0b20sIHJlY3QubGVmdF0gfTtcbiAgbGV0IGxpbmUyID0geyBwMTogW3JlY3QudG9wLCByZWN0LmxlZnRdLCBwMjogW3JlY3QudG9wLCByZWN0LnJpZ2h0XSB9O1xuICBsZXQgbGluZTMgPSB7IHAxOiBbcmVjdC50b3AsIHJlY3QucmlnaHRdLCBwMjogW3JlY3QuYm90dG9tLCByZWN0LnJpZ2h0XSB9O1xuICBsZXQgbGluZTQgPSB7IHAxOiBbcmVjdC5ib3R0b20sIHJlY3QubGVmdF0sIHAyOiBbcmVjdC5ib3R0b20sIHJlY3QucmlnaHRdIH07XG5cbiAgbGV0IGRpc3RhbmNlcyA9IFtcbiAgICBwRGlzdGFuY2UocFswXSwgcFsxXSwgbGluZTEucDFbMV0sIGxpbmUxLnAxWzBdLCBsaW5lMS5wMlsxXSwgbGluZTEucDJbMF0pLFxuICAgIHBEaXN0YW5jZShwWzBdLCBwWzFdLCBsaW5lMi5wMVsxXSwgbGluZTIucDFbMF0sIGxpbmUyLnAyWzFdLCBsaW5lMi5wMlswXSksXG4gICAgcERpc3RhbmNlKHBbMF0sIHBbMV0sIGxpbmUzLnAxWzFdLCBsaW5lMy5wMVswXSwgbGluZTMucDJbMV0sIGxpbmUzLnAyWzBdKSxcbiAgICBwRGlzdGFuY2UocFswXSwgcFsxXSwgbGluZTQucDFbMV0sIGxpbmU0LnAxWzBdLCBsaW5lNC5wMlsxXSwgbGluZTQucDJbMF0pLFxuICBdO1xuXG4gIGxldCBvcmllbnRhdGlvbjtcbiAgbGV0IGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICBkaXN0YW5jZXMuZm9yRWFjaCgoZGlzdGFuY2UsIGkpID0+IHtcbiAgICBpZiAoZGlzdGFuY2UgPCBjbG9zZXN0RGlzdGFuY2UpIHtcbiAgICAgIGNsb3Nlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbnNbaV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFtvcmllbnRhdGlvbiwgY2xvc2VzdERpc3RhbmNlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlVG9DaGlsZExlZnRSaWdodChwLCBjaGlsZCkge1xuICBsZXQgcmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIGxldCBsaW5lMSA9IHsgcDE6IFtyZWN0LnRvcCwgMF0sIHAyOiBbcmVjdC5ib3R0b20sIDBdIH07XG4gIGxldCBsaW5lMyA9IHtcbiAgICBwMTogW3JlY3QudG9wLCBjaGlsZC5jbGllbnRXaWR0aF0sXG4gICAgcDI6IFtyZWN0LmJvdHRvbSwgY2hpbGQuY2xpZW50V2lkdGhdLFxuICB9O1xuXG4gIGxldCBkaXN0YW5jZXMgPSBbXG4gICAgcERpc3RhbmNlKHBbMF0sIHBbMV0sIGxpbmUxLnAxWzFdLCBsaW5lMS5wMVswXSwgbGluZTEucDJbMV0sIGxpbmUxLnAyWzBdKSxcbiAgICBwRGlzdGFuY2UocFswXSwgcFsxXSwgbGluZTMucDFbMV0sIGxpbmUzLnAxWzBdLCBsaW5lMy5wMlsxXSwgbGluZTMucDJbMF0pLFxuICBdO1xuXG4gIGxldCBvcmllbnRhdGlvbjtcbiAgbGV0IGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICBkaXN0YW5jZXMuZm9yRWFjaCgoZGlzdGFuY2UsIGkpID0+IHtcbiAgICBpZiAoZGlzdGFuY2UgPCBjbG9zZXN0RGlzdGFuY2UpIHtcbiAgICAgIGNsb3Nlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgb3JpZW50YXRpb24gPSBbXCJsZWZ0XCIsIFwicmlnaHRcIl1baV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFtvcmllbnRhdGlvbiwgY2xvc2VzdERpc3RhbmNlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlVG9DaGlsZFRvcEJvdHRvbShwLCBjaGlsZCkge1xuICBsZXQgcmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIGxldCBsaW5lMiA9IHsgcDE6IFswLCByZWN0LmxlZnRdLCBwMjogWzAsIHJlY3QucmlnaHRdIH07XG5cbiAgbGV0IGxpbmU0ID0ge1xuICAgIHAxOiBbY2hpbGQuY2xpZW50SGVpZ2h0LCByZWN0LmxlZnRdLFxuICAgIHAyOiBbY2hpbGQuY2xpZW50SGVpZ2h0LCByZWN0LnJpZ2h0XSxcbiAgfTtcblxuICBsZXQgZGlzdGFuY2VzID0gW1xuICAgIHBEaXN0YW5jZShwWzBdLCBwWzFdLCBsaW5lMi5wMVsxXSwgbGluZTIucDFbMF0sIGxpbmUyLnAyWzFdLCBsaW5lMi5wMlswXSksXG5cbiAgICBwRGlzdGFuY2UocFswXSwgcFsxXSwgbGluZTQucDFbMV0sIGxpbmU0LnAxWzBdLCBsaW5lNC5wMlsxXSwgbGluZTQucDJbMF0pLFxuICBdO1xuXG4gIGxldCBvcmllbnRhdGlvbjtcbiAgbGV0IGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICBkaXN0YW5jZXMuZm9yRWFjaCgoZGlzdGFuY2UsIGkpID0+IHtcbiAgICBpZiAoZGlzdGFuY2UgPCBjbG9zZXN0RGlzdGFuY2UpIHtcbiAgICAgIGNsb3Nlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgb3JpZW50YXRpb24gPSBbXCJ0b3BcIiwgXCJib3R0b21cIl1baV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFtvcmllbnRhdGlvbiwgY2xvc2VzdERpc3RhbmNlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGF1dG9TY3JvbGxlcih7IHNwZWVkLCB0aHJlc2hvbGQgfSkge1xuICB0aGlzLmxhc3RTY3JvbGxpbmdFbGVtZW50O1xuICB0aGlzLm9uRWxlbWVudDtcbiAgdGhpcy5tb3VzZTtcbiAgdGhpcy5zcGVlZDtcbiAgdGhpcy5pbnRlcnZhbDtcbiAgdGhpcy5pc0FjdGl2ZTtcbiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgIHRoaXMubW91c2UgPSB7IHgsIHkgfTtcbiAgfTtcblxuICB0aGlzLmNhbGN1bGF0ZVNjcm9sbCA9IGZ1bmN0aW9uICh7IHgsIHksIGVsZW1lbnQsIG9uTW91c2VTY3JvbGxNb3ZlIH0pIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKFxuICAgICAgICBlbGVtZW50ICYmXG4gICAgICAgIGVsZW1lbnQudGFnTmFtZSAmJlxuICAgICAgICAoZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBlbGVtZW50LmNsaWVudEhlaWdodCB8fFxuICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsV2lkdGggPiBlbGVtZW50LmNsaWVudFdpZHRoKVxuICAgICAgKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnBhcmVudEVsZW1lbnQpIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cblxuICAgIGxldCBoYXNIb3Jpem9udGFsU2Nyb2xsYmFyID0gZWxlbWVudC5zY3JvbGxXaWR0aCA+IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgbGV0IGhhc1ZlcnRpY2FsU2Nyb2xsYmFyID0gZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBlbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgIGxldCBob3JTY3JvbGxUaHJlc2hvbGQgPSBlbGVtZW50LmNsaWVudFdpZHRoIC8gdGhyZXNob2xkO1xuICAgIGxldCB2ZXJTY3JvbGxUaHJlc2hvbGQgPSBlbGVtZW50LmNsaWVudEhlaWdodCAvIHRocmVzaG9sZDtcblxuICAgIGxldCBbb3JpZW50YXRpb24sIGNsb3Nlc3REaXN0YW5jZV0gPSBbXTtcbiAgICBpZiAoaGFzVmVydGljYWxTY3JvbGxiYXIpXG4gICAgICBbb3JpZW50YXRpb24sIGNsb3Nlc3REaXN0YW5jZV0gPSBkaXN0YW5jZVRvQ2hpbGRUb3BCb3R0b20oXG4gICAgICAgIFt4LCB5XSxcbiAgICAgICAgZWxlbWVudFxuICAgICAgKTtcbiAgICBlbHNlIGlmIChoYXNIb3Jpem9udGFsU2Nyb2xsYmFyKVxuICAgICAgW29yaWVudGF0aW9uLCBjbG9zZXN0RGlzdGFuY2VdID0gZGlzdGFuY2VUb0NoaWxkTGVmdFJpZ2h0KFxuICAgICAgICBbeCwgeV0sXG4gICAgICAgIGVsZW1lbnRcbiAgICAgICk7XG5cbiAgICBpZiAob3JpZW50YXRpb24pIHtcbiAgICAgIGxldCBjb25kaXRpb247XG4gICAgICBzd2l0Y2ggKG9yaWVudGF0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgIHRoaXMuc3BlZWQgPSAodmVyU2Nyb2xsVGhyZXNob2xkIC8gKGNsb3Nlc3REaXN0YW5jZSArIDEpKSAqIHNwZWVkO1xuICAgICAgICAgIGNvbmRpdGlvbiA9IGNsb3Nlc3REaXN0YW5jZSA8IHZlclNjcm9sbFRocmVzaG9sZDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICB0aGlzLnNwZWVkID0gKGhvclNjcm9sbFRocmVzaG9sZCAvIChjbG9zZXN0RGlzdGFuY2UgKyAxKSkgKiBzcGVlZDtcbiAgICAgICAgICBjb25kaXRpb24gPSBjbG9zZXN0RGlzdGFuY2UgPCBob3JTY3JvbGxUaHJlc2hvbGQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7XG4gICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5fX2FjdGl2YXRlU2Nyb2xsKGVsZW1lbnQsIG9yaWVudGF0aW9uLCBvbk1vdXNlU2Nyb2xsTW92ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0FjdGl2ZSAmJiB0aGlzLmxhc3RTY3JvbGxpbmdFbGVtZW50ICE9PSBlbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5kZWFjdGl2YXRlU2Nyb2xsKGVsZW1lbnQpO1xuICAgICAgICAgIHRoaXMuX19hY3RpdmF0ZVNjcm9sbChlbGVtZW50LCBvcmllbnRhdGlvbiwgb25Nb3VzZVNjcm9sbE1vdmUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJub1wiLCBvcmllbnRhdGlvbiwgZWxlbWVudCk7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlU2Nyb2xsKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLy8gdGhpcy5fX3Njcm9sbCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHMxID0gMCwgczIgPSAwKVxuICAvLyB7XG4gIC8vICAgZm9yKGxldCBpID0gMCA7IGkgPD0gdGhpcy5zcGVlZDsgaSsrKVxuICAvLyAgIHtcbiAgLy8gICAgIGVsZW1lbnQuc2Nyb2xsQnkoczEsIHMyKVxuXG4gIC8vICAgfVxuICAvLyB9XG5cbiAgdGhpcy5fX2FjdGl2YXRlU2Nyb2xsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9yaWVudGF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIHRvZG86IHdoZW4gaW50ZXJ2YWwgdGltZW91dCBpcyBsb3cgYW5kIHNwZWVkIGlzIGhpZ2h0IHNjcm9sbEJ5IGRvZXNuJ3QgYWN0XG4gICAgLy8gcmV0b2RvOiBnaXZlIHRpbWUgdG8gc2Nyb2xsQnkgZXF1YWwgdG8gc3BlZWQgKiAwLjI1ICogdGltZW91dFxuICAgIGVsZW1lbnQuc3R5bGUuc2Nyb2xsQmVoYXZpb3IgPSBcImF1dG9cIjtcbiAgICB0aGlzLmxhc3RTY3JvbGxpbmdFbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xuICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgZWxlbWVudC5zY3JvbGxCeSgwLCAtdGhpcy5zcGVlZCk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsQnkoMCwgdGhpcy5zcGVlZCk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICBlbGVtZW50LnNjcm9sbEJ5KC10aGlzLnNwZWVkLCAwKTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICBlbGVtZW50LnNjcm9sbEJ5KHRoaXMuc3BlZWQsIDApO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG5cbiAgICAgIC8vIHRoaXMub25FbGVtZW50ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0aGlzLm1vdXNlLngsIHRoaXMubW91c2UueSk7XG4gICAgICAvLyBpZiAodGhpcy5vbkVsZW1lbnQpIHtcbiAgICAgIC8vICAgY2FsbGJhY2soeyB4OiB0aGlzLm1vdXNlLngsIHk6IHRoaXMubW91c2UueSwgdGFyZ2V0OiB0aGlzLm9uRWxlbWVudCB9KTtcbiAgICAgIC8vIH1cbiAgICB9LCAxMCk7XG4gIH07XG5cbiAgdGhpcy5kZWFjdGl2YXRlU2Nyb2xsID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCkgZWxlbWVudC5zdHlsZS5zY3JvbGxCZWhhdmlvciA9IFwiXCI7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/util/common.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/util/domContext2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initFunctionState": () => (/* binding */ initFunctionState),\n/* harmony export */   "default": () => (/* binding */ context)\n/* harmony export */ });\n// todo: jest support import/export\n\nlet initFunctionState = [];\n\nfunction context(html) {\n  this.map = new Map();\n\n  this.checkInitFunction = function checkInitFunction(element, request) {\n    for (let state of initFunctionState) {\n      if (state.target.contains(element)) {\n        let r = state.onDnd(element, request);\n        if (Array.isArray(r)) return r;\n      }\n    }\n  };\n  /**\n   * @param el the element look for context\n   *\n   * @returns attribute value or false if not found\n   */\n  this.getContext = function (el, attributeName) {\n    do {\n      if (el.getAnyAttribute(attributeName) == "true") return el;\n      else {\n        if (this.checkInitFunction(el, [attributeName])) return el;\n      }\n      el = el.parentElement;\n    } while (el);\n\n    return undefined;\n  };\n\n  /**\n   * @param el the element look for context\n   */\n  this.getContexts = function (el, attributeNames) {\n    do {\n      for (let attributeName of attributeNames) {\n        if (el.getAnyAttribute(attributeName) == "true")\n          return [el, attributeName];\n        else {\n          let r2 = this.checkInitFunction(el, attributeNames);\n          if (Array.isArray(r2) && attributeNames.includes(r2[1])) return r2;\n        }\n      }\n\n      el = el.parentElement;\n    } while (el);\n\n    return undefined;\n  };\n\n  this.setContext = function (el, att, value) {\n    el.setHiddenAttribute(att, value);\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvZG9tQ29udGV4dDIuanM/NzYyMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBOztBQUVBO0FBQzZCO0FBQ2Q7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvZG9tQ29udGV4dDIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0b2RvOiBqZXN0IHN1cHBvcnQgaW1wb3J0L2V4cG9ydFxuXG5sZXQgaW5pdEZ1bmN0aW9uU3RhdGUgPSBbXTtcbmV4cG9ydCB7IGluaXRGdW5jdGlvblN0YXRlIH07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb250ZXh0KGh0bWwpIHtcbiAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG5cbiAgdGhpcy5jaGVja0luaXRGdW5jdGlvbiA9IGZ1bmN0aW9uIGNoZWNrSW5pdEZ1bmN0aW9uKGVsZW1lbnQsIHJlcXVlc3QpIHtcbiAgICBmb3IgKGxldCBzdGF0ZSBvZiBpbml0RnVuY3Rpb25TdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlLnRhcmdldC5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgICBsZXQgciA9IHN0YXRlLm9uRG5kKGVsZW1lbnQsIHJlcXVlc3QpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQHBhcmFtIGVsIHRoZSBlbGVtZW50IGxvb2sgZm9yIGNvbnRleHRcbiAgICpcbiAgICogQHJldHVybnMgYXR0cmlidXRlIHZhbHVlIG9yIGZhbHNlIGlmIG5vdCBmb3VuZFxuICAgKi9cbiAgdGhpcy5nZXRDb250ZXh0ID0gZnVuY3Rpb24gKGVsLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgZG8ge1xuICAgICAgaWYgKGVsLmdldEFueUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSA9PSBcInRydWVcIikgcmV0dXJuIGVsO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrSW5pdEZ1bmN0aW9uKGVsLCBbYXR0cmlidXRlTmFtZV0pKSByZXR1cm4gZWw7XG4gICAgICB9XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfSB3aGlsZSAoZWwpO1xuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIGVsIHRoZSBlbGVtZW50IGxvb2sgZm9yIGNvbnRleHRcbiAgICovXG4gIHRoaXMuZ2V0Q29udGV4dHMgPSBmdW5jdGlvbiAoZWwsIGF0dHJpYnV0ZU5hbWVzKSB7XG4gICAgZG8ge1xuICAgICAgZm9yIChsZXQgYXR0cmlidXRlTmFtZSBvZiBhdHRyaWJ1dGVOYW1lcykge1xuICAgICAgICBpZiAoZWwuZ2V0QW55QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpID09IFwidHJ1ZVwiKVxuICAgICAgICAgIHJldHVybiBbZWwsIGF0dHJpYnV0ZU5hbWVdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsZXQgcjIgPSB0aGlzLmNoZWNrSW5pdEZ1bmN0aW9uKGVsLCBhdHRyaWJ1dGVOYW1lcyk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocjIpICYmIGF0dHJpYnV0ZU5hbWVzLmluY2x1ZGVzKHIyWzFdKSkgcmV0dXJuIHIyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICB9IHdoaWxlIChlbCk7XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIHRoaXMuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChlbCwgYXR0LCB2YWx1ZSkge1xuICAgIGVsLnNldEhpZGRlbkF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/util/domContext2.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/util/domReader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*global Element*/\n/*global HTMLElement*/\n\n\nfunction context(state) {\n  this.state = state;\n\n  this.removeAttribute = (element, attName) => {\n    if (this.state.has(element))\n      delete this.state.get(element)["attributes"][attName];\n  };\n\n  this.hasAttribute = (element, attName) => {\n    if (this.state.has(element))\n      return this.state.get(element)["attributes"][attName] ? true : false;\n  };\n\n  this.getAttribute = (element, attName) => {\n    if (this.state.has(element))\n      return this.state.get(element)["attributes"][attName];\n  };\n\n  this.setAttribute = (element, attName, value) => {\n    if (this.state.has(element))\n      this.state.get(element).attributes[attName] = value;\n    else\n      this.state.set(element, {\n        element,\n        attributes: {\n          [attName]: value\n        }\n      });\n  };\n\n  this.getAllAttributes = (element) => {\n    if (this.state.has(element)) return this.state.get(element)["attributes"];\n  };\n\n  this.getDataset = (element) => {\n    let dataset = {};\n    for (let [key, value] of Object.entries(\n        this.state.get(element)["attributes"]\n      ))\n      if (key.beginsWith("data-")) dataset[key.substr(5)] = value;\n\n    return dataset;\n  };\n}\n\nlet state = new Map();\nlet domContext = new context(state);\n\n\nfunction init() {\n\n\n  const domReader = {\n    splitBydelimiter: (str, delimiter) => {\n      return str.split(delimiter).map((s) => s.trim());\n    },\n    joinBydelimiter: (str, delimiter) => {\n      return str.map((s) => s.trim()).join(delimiter);\n    },\n  };\n\n  // console.log(\'aaaaaaaaaa\', window.frames)\n  let allFrames = Array.from(window.frames);\n  // console.log(\'aaaaaaaaaa\', allFrames)\n  allFrames.unshift(window);\n\n  for (let frame of allFrames) { register(frame.window) }\n}\n\n\n\nfunction register( window, context = domContext) {\n\n\n  \n  // console.log(\'registering domReader for \', frame)\n  let htmlPrototype = window.HTMLElement.prototype;\n  \n  if(htmlPrototype.setHiddenAttribute) return;\n  // let nativeSetAttribute = htmlPrototype.setAttribute;\n  // htmlPrototype.setAttribute = function (attName, value) {\n  //   if(this.getAttribute(attName) !== value)\n  //   nativeSetAttribute.apply(this, [attName,value])\n\n  // };\n  let nativeSetAttribute = htmlPrototype.setAttribute;\n  htmlPrototype.setAttribute = function(attName, value) {\n    nativeSetAttribute.apply(this, [attName, value])\n\n  };\n  htmlPrototype.setHiddenAttribute = function(attName, value) {\n    context.setAttribute(this, attName, value);\n  };\n\n  htmlPrototype.getHiddenAttribute = function(attName) {\n    return context.getAttribute(this, attName);\n  };\n\n  htmlPrototype.getAllHiddenAttribute = function(attName) {\n    return context.getAllAttributes(this);\n  };\n\n  htmlPrototype.getAnyAttribute = function(attName) {\n    if (this.hasAttribute(attName)) return this.getAttribute(attName);\n    else if (context.hasAttribute(this, attName))\n      return context.getAttribute(this, attName);\n  };\n\n  htmlPrototype.setAnyAttribute = function(attName, value) {\n    this.setAttribute(attName, value);\n    context.setAttribute(this, attName, value);\n  };\n\n  htmlPrototype.removeAnyAttribute = function(attName) {\n    this.removeAnyAttribute(attName);\n    context.removeAttribute(this, attName);\n  };\n\n  htmlPrototype.hasAnyAttribute = function(attName, value) {\n    return (\n      this.hasAttribute(attName) || context.hasAttribute(this, attName)\n    );\n  };\n\n  // todo: should this cause mutation\n  htmlPrototype.hideAttribute = function(attName) {\n    if (this.hasAttribute(attName)) {\n      if (context.hasAttribute(this, attName)) return false;\n      context.setAttribute(this, attName, this.getAttribute(attName));\n      this.removeAttribute(attName);\n    }\n  };\n\n  htmlPrototype.unhideAttribute = function(attName) {\n    if (context.hasAttribute(this, attName)) {\n      if (this.hasAttribute(attName)) return false;\n\n      this.setAttribute(attName, context.getAttribute(this, attName));\n      context.removeAttribute(this, attName);\n    }\n  };\n\n\n\n}\n\ninit();\n\nconst domReader  = {register, domContext}; \n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (domReader);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvZG9tUmVhZGVyLmpzP2NmOTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0M7QUFDaEM7Ozs7QUFJQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBOztBQUVBOztBQUVBLG9CQUFvQixzQjtBQUNwQixpRUFBZSxTQUFTLEVBQUMiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2RuZC9zcmMvdXRpbC9kb21SZWFkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCBFbGVtZW50Ki9cbi8qZ2xvYmFsIEhUTUxFbGVtZW50Ki9cblxuXG5mdW5jdGlvbiBjb250ZXh0KHN0YXRlKSB7XG4gIHRoaXMuc3RhdGUgPSBzdGF0ZTtcblxuICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSA9IChlbGVtZW50LCBhdHROYW1lKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzKGVsZW1lbnQpKVxuICAgICAgZGVsZXRlIHRoaXMuc3RhdGUuZ2V0KGVsZW1lbnQpW1wiYXR0cmlidXRlc1wiXVthdHROYW1lXTtcbiAgfTtcblxuICB0aGlzLmhhc0F0dHJpYnV0ZSA9IChlbGVtZW50LCBhdHROYW1lKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzKGVsZW1lbnQpKVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZ2V0KGVsZW1lbnQpW1wiYXR0cmlidXRlc1wiXVthdHROYW1lXSA/IHRydWUgOiBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmdldEF0dHJpYnV0ZSA9IChlbGVtZW50LCBhdHROYW1lKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzKGVsZW1lbnQpKVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZ2V0KGVsZW1lbnQpW1wiYXR0cmlidXRlc1wiXVthdHROYW1lXTtcbiAgfTtcblxuICB0aGlzLnNldEF0dHJpYnV0ZSA9IChlbGVtZW50LCBhdHROYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmhhcyhlbGVtZW50KSlcbiAgICAgIHRoaXMuc3RhdGUuZ2V0KGVsZW1lbnQpLmF0dHJpYnV0ZXNbYXR0TmFtZV0gPSB2YWx1ZTtcbiAgICBlbHNlXG4gICAgICB0aGlzLnN0YXRlLnNldChlbGVtZW50LCB7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICBbYXR0TmFtZV06IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0QWxsQXR0cmlidXRlcyA9IChlbGVtZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzKGVsZW1lbnQpKSByZXR1cm4gdGhpcy5zdGF0ZS5nZXQoZWxlbWVudClbXCJhdHRyaWJ1dGVzXCJdO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGF0YXNldCA9IChlbGVtZW50KSA9PiB7XG4gICAgbGV0IGRhdGFzZXQgPSB7fTtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgIHRoaXMuc3RhdGUuZ2V0KGVsZW1lbnQpW1wiYXR0cmlidXRlc1wiXVxuICAgICAgKSlcbiAgICAgIGlmIChrZXkuYmVnaW5zV2l0aChcImRhdGEtXCIpKSBkYXRhc2V0W2tleS5zdWJzdHIoNSldID0gdmFsdWU7XG5cbiAgICByZXR1cm4gZGF0YXNldDtcbiAgfTtcbn1cblxubGV0IHN0YXRlID0gbmV3IE1hcCgpO1xubGV0IGRvbUNvbnRleHQgPSBuZXcgY29udGV4dChzdGF0ZSk7XG5cblxuZnVuY3Rpb24gaW5pdCgpIHtcblxuXG4gIGNvbnN0IGRvbVJlYWRlciA9IHtcbiAgICBzcGxpdEJ5ZGVsaW1pdGVyOiAoc3RyLCBkZWxpbWl0ZXIpID0+IHtcbiAgICAgIHJldHVybiBzdHIuc3BsaXQoZGVsaW1pdGVyKS5tYXAoKHMpID0+IHMudHJpbSgpKTtcbiAgICB9LFxuICAgIGpvaW5CeWRlbGltaXRlcjogKHN0ciwgZGVsaW1pdGVyKSA9PiB7XG4gICAgICByZXR1cm4gc3RyLm1hcCgocykgPT4gcy50cmltKCkpLmpvaW4oZGVsaW1pdGVyKTtcbiAgICB9LFxuICB9O1xuXG4gIC8vIGNvbnNvbGUubG9nKCdhYWFhYWFhYWFhJywgd2luZG93LmZyYW1lcylcbiAgbGV0IGFsbEZyYW1lcyA9IEFycmF5LmZyb20od2luZG93LmZyYW1lcyk7XG4gIC8vIGNvbnNvbGUubG9nKCdhYWFhYWFhYWFhJywgYWxsRnJhbWVzKVxuICBhbGxGcmFtZXMudW5zaGlmdCh3aW5kb3cpO1xuXG4gIGZvciAobGV0IGZyYW1lIG9mIGFsbEZyYW1lcykgeyByZWdpc3RlcihmcmFtZS53aW5kb3cpIH1cbn1cblxuXG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKCB3aW5kb3csIGNvbnRleHQgPSBkb21Db250ZXh0KSB7XG5cblxuICBcbiAgLy8gY29uc29sZS5sb2coJ3JlZ2lzdGVyaW5nIGRvbVJlYWRlciBmb3IgJywgZnJhbWUpXG4gIGxldCBodG1sUHJvdG90eXBlID0gd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZTtcbiAgXG4gIGlmKGh0bWxQcm90b3R5cGUuc2V0SGlkZGVuQXR0cmlidXRlKSByZXR1cm47XG4gIC8vIGxldCBuYXRpdmVTZXRBdHRyaWJ1dGUgPSBodG1sUHJvdG90eXBlLnNldEF0dHJpYnV0ZTtcbiAgLy8gaHRtbFByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0TmFtZSwgdmFsdWUpIHtcbiAgLy8gICBpZih0aGlzLmdldEF0dHJpYnV0ZShhdHROYW1lKSAhPT0gdmFsdWUpXG4gIC8vICAgbmF0aXZlU2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsIFthdHROYW1lLHZhbHVlXSlcblxuICAvLyB9O1xuICBsZXQgbmF0aXZlU2V0QXR0cmlidXRlID0gaHRtbFByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7XG4gIGh0bWxQcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24oYXR0TmFtZSwgdmFsdWUpIHtcbiAgICBuYXRpdmVTZXRBdHRyaWJ1dGUuYXBwbHkodGhpcywgW2F0dE5hbWUsIHZhbHVlXSlcblxuICB9O1xuICBodG1sUHJvdG90eXBlLnNldEhpZGRlbkF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dE5hbWUsIHZhbHVlKSB7XG4gICAgY29udGV4dC5zZXRBdHRyaWJ1dGUodGhpcywgYXR0TmFtZSwgdmFsdWUpO1xuICB9O1xuXG4gIGh0bWxQcm90b3R5cGUuZ2V0SGlkZGVuQXR0cmlidXRlID0gZnVuY3Rpb24oYXR0TmFtZSkge1xuICAgIHJldHVybiBjb250ZXh0LmdldEF0dHJpYnV0ZSh0aGlzLCBhdHROYW1lKTtcbiAgfTtcblxuICBodG1sUHJvdG90eXBlLmdldEFsbEhpZGRlbkF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dE5hbWUpIHtcbiAgICByZXR1cm4gY29udGV4dC5nZXRBbGxBdHRyaWJ1dGVzKHRoaXMpO1xuICB9O1xuXG4gIGh0bWxQcm90b3R5cGUuZ2V0QW55QXR0cmlidXRlID0gZnVuY3Rpb24oYXR0TmFtZSkge1xuICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZShhdHROYW1lKSkgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGF0dE5hbWUpO1xuICAgIGVsc2UgaWYgKGNvbnRleHQuaGFzQXR0cmlidXRlKHRoaXMsIGF0dE5hbWUpKVxuICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0QXR0cmlidXRlKHRoaXMsIGF0dE5hbWUpO1xuICB9O1xuXG4gIGh0bWxQcm90b3R5cGUuc2V0QW55QXR0cmlidXRlID0gZnVuY3Rpb24oYXR0TmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHROYW1lLCB2YWx1ZSk7XG4gICAgY29udGV4dC5zZXRBdHRyaWJ1dGUodGhpcywgYXR0TmFtZSwgdmFsdWUpO1xuICB9O1xuXG4gIGh0bWxQcm90b3R5cGUucmVtb3ZlQW55QXR0cmlidXRlID0gZnVuY3Rpb24oYXR0TmFtZSkge1xuICAgIHRoaXMucmVtb3ZlQW55QXR0cmlidXRlKGF0dE5hbWUpO1xuICAgIGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKHRoaXMsIGF0dE5hbWUpO1xuICB9O1xuXG4gIGh0bWxQcm90b3R5cGUuaGFzQW55QXR0cmlidXRlID0gZnVuY3Rpb24oYXR0TmFtZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5oYXNBdHRyaWJ1dGUoYXR0TmFtZSkgfHwgY29udGV4dC5oYXNBdHRyaWJ1dGUodGhpcywgYXR0TmFtZSlcbiAgICApO1xuICB9O1xuXG4gIC8vIHRvZG86IHNob3VsZCB0aGlzIGNhdXNlIG11dGF0aW9uXG4gIGh0bWxQcm90b3R5cGUuaGlkZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dE5hbWUpIHtcbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoYXR0TmFtZSkpIHtcbiAgICAgIGlmIChjb250ZXh0Lmhhc0F0dHJpYnV0ZSh0aGlzLCBhdHROYW1lKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgY29udGV4dC5zZXRBdHRyaWJ1dGUodGhpcywgYXR0TmFtZSwgdGhpcy5nZXRBdHRyaWJ1dGUoYXR0TmFtZSkpO1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0TmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIGh0bWxQcm90b3R5cGUudW5oaWRlQXR0cmlidXRlID0gZnVuY3Rpb24oYXR0TmFtZSkge1xuICAgIGlmIChjb250ZXh0Lmhhc0F0dHJpYnV0ZSh0aGlzLCBhdHROYW1lKSkge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKGF0dE5hbWUpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dE5hbWUsIGNvbnRleHQuZ2V0QXR0cmlidXRlKHRoaXMsIGF0dE5hbWUpKTtcbiAgICAgIGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKHRoaXMsIGF0dE5hbWUpO1xuICAgIH1cbiAgfTtcblxuXG5cbn1cblxuaW5pdCgpO1xuXG5jb25zdCBkb21SZWFkZXIgID0ge3JlZ2lzdGVyLCBkb21Db250ZXh0fTsgXG5leHBvcnQgZGVmYXVsdCBkb21SZWFkZXI7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/util/domReader.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/util/iframe.js":()=>{eval("// always loaded in host no iframes\n\nwindow.addEventListener('load', () => {\n\n\n  let iframes = {\n    host: {\n      document,\n      window\n    },\n    guests: {}\n  };\n  window.iframes = iframes\n\n\n  let allFrames = document.getElementsByTagName('iframe')\n\n  let i = 1;\n  for (let frame of allFrames) {\n    let id = frame.id || `iframe${i++}`\n    iframes.guests[id] = ({\n      frame,\n      document: frame.contentDocument,\n      window: frame.contentWindow\n    })\n    frame.contentWindow.iframes = iframes;\n  }\n\n\n\n\n  const callback = function(mutationsList, observer) {\n\n    for (let mutation of mutationsList) {\n      if (mutation.type === 'childList') {\n        for (let added of mutation.addedNodes) {\n          if (added.tagName === 'IFRAME') {\n            let id = added.id || `iframe${i++}`\n            iframes.guests[id] = ({\n              frame: added,\n              document: added.contentDocument,\n              window: added.contentWindow\n            })\n            added.contentWindow.iframes = iframes;\n          }\n        }\n      }\n\n    }\n  };\n\n  const observer = new MutationObserver(callback);\n\n  const config = { attributes: true, childList: true, subtree: true };\n\n  observer.observe(document.body, config);\n\n\n})\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvaWZyYW1lLmpzPzc1NjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQyxJQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7Ozs7O0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsSUFBSTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLGtCQUFrQjs7QUFFbEI7OztBQUdBLENBQUMiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2RuZC9zcmMvdXRpbC9pZnJhbWUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhbHdheXMgbG9hZGVkIGluIGhvc3Qgbm8gaWZyYW1lc1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcblxuXG4gIGxldCBpZnJhbWVzID0ge1xuICAgIGhvc3Q6IHtcbiAgICAgIGRvY3VtZW50LFxuICAgICAgd2luZG93XG4gICAgfSxcbiAgICBndWVzdHM6IHt9XG4gIH07XG4gIHdpbmRvdy5pZnJhbWVzID0gaWZyYW1lc1xuXG5cbiAgbGV0IGFsbEZyYW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpZnJhbWUnKVxuXG4gIGxldCBpID0gMTtcbiAgZm9yIChsZXQgZnJhbWUgb2YgYWxsRnJhbWVzKSB7XG4gICAgbGV0IGlkID0gZnJhbWUuaWQgfHwgYGlmcmFtZSR7aSsrfWBcbiAgICBpZnJhbWVzLmd1ZXN0c1tpZF0gPSAoe1xuICAgICAgZnJhbWUsXG4gICAgICBkb2N1bWVudDogZnJhbWUuY29udGVudERvY3VtZW50LFxuICAgICAgd2luZG93OiBmcmFtZS5jb250ZW50V2luZG93XG4gICAgfSlcbiAgICBmcmFtZS5jb250ZW50V2luZG93LmlmcmFtZXMgPSBpZnJhbWVzO1xuICB9XG5cblxuXG5cbiAgY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbihtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikge1xuXG4gICAgZm9yIChsZXQgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkge1xuICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgIGZvciAobGV0IGFkZGVkIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHtcbiAgICAgICAgICBpZiAoYWRkZWQudGFnTmFtZSA9PT0gJ0lGUkFNRScpIHtcbiAgICAgICAgICAgIGxldCBpZCA9IGFkZGVkLmlkIHx8IGBpZnJhbWUke2krK31gXG4gICAgICAgICAgICBpZnJhbWVzLmd1ZXN0c1tpZF0gPSAoe1xuICAgICAgICAgICAgICBmcmFtZTogYWRkZWQsXG4gICAgICAgICAgICAgIGRvY3VtZW50OiBhZGRlZC5jb250ZW50RG9jdW1lbnQsXG4gICAgICAgICAgICAgIHdpbmRvdzogYWRkZWQuY29udGVudFdpbmRvd1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGFkZGVkLmNvbnRlbnRXaW5kb3cuaWZyYW1lcyA9IGlmcmFtZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XG5cbiAgY29uc3QgY29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcblxuICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIGNvbmZpZyk7XG5cblxufSlcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/util/iframe.js\n")},"../../CoCreateJS/node_modules/@cocreate/dnd/src/util/onClickLeftEvent.js":()=>{eval("// synthesize custom event \"CoCreateClickLeft\" that only trigger when\n// mousedown and up happen in 500ms witin the same element\n\nlet lastEl = null;\nlet time = null;\n\ndocument.addEventListener('mousedown', e => {\n  if (e.which === 1) {\n    lastEl = e.target;\n    time = new Date().getTime()\n  }\n})\n\ndocument.addEventListener('mouseup', e => {\n  let newTime = new Date().getTime();\n  if (lastEl == e.target && newTime < time + 500) {\n    const event = new CustomEvent('CoCreateClickLeft', {\n      bubbles: true\n    });\n    e.target.dispatchEvent(event)\n  }\n\n})\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvb25DbGlja0xlZnRFdmVudC5qcz9iMzExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsQ0FBQyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvZG5kL3NyYy91dGlsL29uQ2xpY2tMZWZ0RXZlbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzeW50aGVzaXplIGN1c3RvbSBldmVudCBcIkNvQ3JlYXRlQ2xpY2tMZWZ0XCIgdGhhdCBvbmx5IHRyaWdnZXIgd2hlblxuLy8gbW91c2Vkb3duIGFuZCB1cCBoYXBwZW4gaW4gNTAwbXMgd2l0aW4gdGhlIHNhbWUgZWxlbWVudFxuXG5sZXQgbGFzdEVsID0gbnVsbDtcbmxldCB0aW1lID0gbnVsbDtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZSA9PiB7XG4gIGlmIChlLndoaWNoID09PSAxKSB7XG4gICAgbGFzdEVsID0gZS50YXJnZXQ7XG4gICAgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gIH1cbn0pXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHtcbiAgbGV0IG5ld1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgaWYgKGxhc3RFbCA9PSBlLnRhcmdldCAmJiBuZXdUaW1lIDwgdGltZSArIDUwMCkge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZUNsaWNrTGVmdCcsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWVcbiAgICB9KTtcbiAgICBlLnRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KVxuICB9XG5cbn0pXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/util/onClickLeftEvent.js\n")},"../../CoCreateJS/node_modules/@cocreate/dnd/src/util/variables.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "droppable": () => (/* binding */ droppable),\n/* harmony export */   "exclude": () => (/* binding */ exclude),\n/* harmony export */   "draggable": () => (/* binding */ draggable),\n/* harmony export */   "cloneable": () => (/* binding */ cloneable),\n/* harmony export */   "selectable": () => (/* binding */ selectable),\n/* harmony export */   "editable": () => (/* binding */ editable),\n/* harmony export */   "hoverable": () => (/* binding */ hoverable),\n/* harmony export */   "handleable": () => (/* binding */ handleable),\n/* harmony export */   "dndname": () => (/* binding */ dndname),\n/* harmony export */   "group_name": () => (/* binding */ group_name),\n/* harmony export */   "data_insert_html": () => (/* binding */ data_insert_html)\n/* harmony export */ });\nconst droppable = "data-droppable";\nconst exclude = "data-exclude";\nconst draggable = "data-draggable";\nconst cloneable = "data-cloneable";\nconst selectable = "data-selectable";\nconst editable = "data-editable";\nconst hoverable = "data-hoverable";\nconst handleable = "data-handle";\nconst dndname = "data-name";\nconst group_name = "data-group_name";\nconst data_insert_html = "data-insert-html";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvdmFyaWFibGVzLmpzPzM5NjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3V0aWwvdmFyaWFibGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRyb3BwYWJsZSA9IFwiZGF0YS1kcm9wcGFibGVcIjtcbmV4cG9ydCBjb25zdCBleGNsdWRlID0gXCJkYXRhLWV4Y2x1ZGVcIjtcbmV4cG9ydCBjb25zdCBkcmFnZ2FibGUgPSBcImRhdGEtZHJhZ2dhYmxlXCI7XG5leHBvcnQgY29uc3QgY2xvbmVhYmxlID0gXCJkYXRhLWNsb25lYWJsZVwiO1xuZXhwb3J0IGNvbnN0IHNlbGVjdGFibGUgPSBcImRhdGEtc2VsZWN0YWJsZVwiO1xuZXhwb3J0IGNvbnN0IGVkaXRhYmxlID0gXCJkYXRhLWVkaXRhYmxlXCI7XG5leHBvcnQgY29uc3QgaG92ZXJhYmxlID0gXCJkYXRhLWhvdmVyYWJsZVwiO1xuZXhwb3J0IGNvbnN0IGhhbmRsZWFibGUgPSBcImRhdGEtaGFuZGxlXCI7XG5leHBvcnQgY29uc3QgZG5kbmFtZSA9IFwiZGF0YS1uYW1lXCI7XG5leHBvcnQgY29uc3QgZ3JvdXBfbmFtZSA9IFwiZGF0YS1ncm91cF9uYW1lXCI7XG5leHBvcnQgY29uc3QgZGF0YV9pbnNlcnRfaHRtbCA9IFwiZGF0YS1pbnNlcnQtaHRtbFwiO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/util/variables.js\n')},"../../CoCreateJS/node_modules/@cocreate/dnd/src/virtualDnd.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ virtualDnd)\n/* harmony export */ });\n/* harmony import */ var _eventUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./eventUtil */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/eventUtil.js");\n/* harmony import */ var _util_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/common */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/common.js");\n/* harmony import */ var _util_variables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/variables */ "../../CoCreateJS/node_modules/@cocreate/dnd/src/util/variables.js");\n/* harmony import */ var _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @cocreate/cocreatejs */ "../../CoCreateJS/node_modules/@cocreate/cocreatejs/src/index.js");\n\n\n\n\n\nfunction UUID(length = 10) {\n  var result = "";\n  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  var d = new Date().toTimeString();\n  var random = d.replace(/[\\W_]+/g, "").substr(0, 6);\n  result += random;\n  return result;\n}\n\nlet topleft = ["left", "top"];\n\nfunction virtualDnd(beforeDndSuccess) {\n  this.dragedEl;\n  this.dropedEl;\n  this.position;\n  this.id;\n  this.type;\n\n  let evnt = new _eventUtil__WEBPACK_IMPORTED_MODULE_0__.default();\n\n  this.on = function() {\n    evnt.on.apply(evnt, arguments);\n  };\n\n  this.dragStart = (e, el, id, ref, dropType) => {\n    // #broadcast\n    // domEditor({\n    //   obj: selectorUtil.cssPath( this.dropedEl),\n    //   method: \'insertAdjacentElement\',\n    //   value: { param1: [this.position, selectorUtil.cssPath(this.dragedEl)] }\n    // });\n    this.id = id;\n    this.dropType = dropType;\n    console.log({\n      comment: "dragStart",\n    });\n    // dfonclk.onActive(e.target)\n    // selectBoxMarker.hide(onRemove)\n    // greenDropMarker.hide();\n\n    this.dragedEl = el;\n    evnt.dispatch("dragStart", { e, el, ref });\n  };\n\n  this.dragEnd = (e, ref) => {\n    try {\n      if (this.dragedEl) this.dragedEl.removeAttribute("CoC-dragging");\n      if (this.position) {\n        if (this.dropedEl === this.dragedEl)\n          throw "dnd cancelled. you can\'t dnd on the same element.";\n\n        // in future we should also disable hover and tag name in dragOver method\n        // parent can\'t be draged into children\n        if (this.dragedEl.contains(this.dropedEl))\n          throw "dnd cancelled, you can\'t dnd from parent to its children.";\n\n        let path = _cocreate_cocreatejs__WEBPACK_IMPORTED_MODULE_3__.utils.getElementPath(this.dropedEl);\n        // get iframe path\n        // let path = [];\n        //   const {cssPath, findIframeFromElement, getTopMostWindow} = window.cc;\n        //   let topWindow = getTopMostWindow()\n        //   let iframeElement = findIframeFromElement(topWindow, this.dropedEl)\n        //   let p = cssPath(iframeElement);\n        //   if(p)\n        //   path.unshift(p)\n\n        //todo: support for nested iframe\n        // while(iframeElement !== findIframeFromElement(topWindow,iframeElement))\n        // {\n        //   iframeElement = findIframeFromElement(topWindow,iframeElement);\n        //   path.unshift(cssPath(iframeElement))\n        // }\n\n        let detail = {\n          position: this.position,\n          dragedEl: this.dragedEl,\n          dropedEl: this.dropedEl,\n          dropType: this.dropType,\n          path,\n        };\n        let result;\n        if (beforeDndSuccess) result = beforeDndSuccess(detail);\n        Object.assign(detail, result);\n\n        // dispatch gloval events\n        const event = new CustomEvent("dndsuccess", {\n          bubbles: false,\n          detail,\n        });\n\n        let broadcast = {\n          target: detail.dropedEl,\n          method: "insertAdjacentElement",\n          value: [detail.position, detail.dragedEl],\n        };\n\n\n        this.dropedEl.insertAdjacentElement(this.position, this.dragedEl);\n        // domEditor(broadcast);\n        window.dispatchEvent(event, { bubbles: false });\n      }\n    }\n    catch (e) {\n      console.error(e);\n    }\n    finally {\n      if (this.type) {\n        this.position = null;\n        console.log(\n          "dnd completed",\n          "type:",\n          this.type,\n          "position:",\n          this.position\n        );\n      }\n      evnt.dispatch("dragEnd", { e, ref });\n    }\n  };\n\n  this.dragOver = (e, el, ref) => {\n    // el is the element hovered\n    if (this.dragedEl) this.dragedEl.setAttribute("CoC-dragging", true);\n    if (el.children.length === 0) {\n      // place top or bottom inside the element\n      let [orientation, closestEl] = (0,_util_common__WEBPACK_IMPORTED_MODULE_1__.closestChild)([e.x, e.y], [el]);\n      evnt.dispatch("dragOver", {\n        e,\n        el,\n        closestEl,\n        orientation,\n        hasChild: true,\n        ref,\n      });\n      // greenDropMarker.draw(el, el, orientation, true);\n      // hoverBoxMarker.draw(el)\n      // tagNameTooltip.draw(el)\n      this.position = topleft.includes(orientation) ?\n        "afterbegin" :\n        "beforeend";\n      this.dropedEl = el;\n      this.type = "normal";\n    }\n    else {\n      // find closest child and put outside the child element on top or bottom relating to that child,\n      let [orientation, closestEl] = (0,_util_common__WEBPACK_IMPORTED_MODULE_1__.closestChild)([e.x, e.y], el.children);\n\n      // greenDropMarker.draw(el, closestEl, orientation, false);\n      // hoverBoxMarker.draw(el)\n      // tagNameTooltip.draw(el)\n      if (closestEl.getAttribute("data-exclude") == "true") {\n        this.dropedEl = closestEl.parentElement;\n        // only to get orientation\n        let [orientation2, closestEl2] = (0,_util_common__WEBPACK_IMPORTED_MODULE_1__.closestChild)(\n          [e.x, e.y], [this.dropedEl]\n        );\n        orientation = orientation2;\n      }\n      else this.dropedEl = closestEl;\n\n      evnt.dispatch("dragOver", {\n        e,\n        el,\n        closestEl,\n        orientation,\n        hasChild: false,\n        ref,\n      });\n\n      this.position = topleft.includes(orientation) ?\n        "beforebegin" :\n        "afterend";\n\n      this.type = "children";\n    }\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5hdHRyaWJ1dGVzLy4uLy4uL0NvQ3JlYXRlSlMvbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9kbmQvc3JjL3ZpcnR1YWxEbmQuanM/ZTEyYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQztBQUNnQjtBQUNUO0FBQ0U7O0FBRTdDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLCtDQUFTOztBQUUxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixzRUFBb0I7QUFDdkM7QUFDQTtBQUNBLG9CQUFvQixpREFBaUQ7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxxQ0FBcUMsaUJBQWlCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFNBQVM7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDBEQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsMERBQVk7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywwREFBWTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2RuZC9zcmMvdmlydHVhbERuZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBldmVudFV0aWwgZnJvbSBcIi4vZXZlbnRVdGlsXCI7XG5pbXBvcnQgeyBjbG9zZXN0Q2hpbGQsIHBhcnNlIH0gZnJvbSBcIi4vdXRpbC9jb21tb25cIjtcbmltcG9ydCB7IGV4Y2x1ZGUgfSBmcm9tIFwiLi91dGlsL3ZhcmlhYmxlc1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tICdAY29jcmVhdGUvY29jcmVhdGVqcyc7XG5cbmZ1bmN0aW9uIFVVSUQobGVuZ3RoID0gMTApIHtcbiAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gIHZhciBjaGFyYWN0ZXJzID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCI7XG5cbiAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG4gIH1cblxuICB2YXIgZCA9IG5ldyBEYXRlKCkudG9UaW1lU3RyaW5nKCk7XG4gIHZhciByYW5kb20gPSBkLnJlcGxhY2UoL1tcXFdfXSsvZywgXCJcIikuc3Vic3RyKDAsIDYpO1xuICByZXN1bHQgKz0gcmFuZG9tO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5sZXQgdG9wbGVmdCA9IFtcImxlZnRcIiwgXCJ0b3BcIl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZpcnR1YWxEbmQoYmVmb3JlRG5kU3VjY2Vzcykge1xuICB0aGlzLmRyYWdlZEVsO1xuICB0aGlzLmRyb3BlZEVsO1xuICB0aGlzLnBvc2l0aW9uO1xuICB0aGlzLmlkO1xuICB0aGlzLnR5cGU7XG5cbiAgbGV0IGV2bnQgPSBuZXcgZXZlbnRVdGlsKCk7XG5cbiAgdGhpcy5vbiA9IGZ1bmN0aW9uKCkge1xuICAgIGV2bnQub24uYXBwbHkoZXZudCwgYXJndW1lbnRzKTtcbiAgfTtcblxuICB0aGlzLmRyYWdTdGFydCA9IChlLCBlbCwgaWQsIHJlZiwgZHJvcFR5cGUpID0+IHtcbiAgICAvLyAjYnJvYWRjYXN0XG4gICAgLy8gZG9tRWRpdG9yKHtcbiAgICAvLyAgIG9iajogc2VsZWN0b3JVdGlsLmNzc1BhdGgoIHRoaXMuZHJvcGVkRWwpLFxuICAgIC8vICAgbWV0aG9kOiAnaW5zZXJ0QWRqYWNlbnRFbGVtZW50JyxcbiAgICAvLyAgIHZhbHVlOiB7IHBhcmFtMTogW3RoaXMucG9zaXRpb24sIHNlbGVjdG9yVXRpbC5jc3NQYXRoKHRoaXMuZHJhZ2VkRWwpXSB9XG4gICAgLy8gfSk7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuZHJvcFR5cGUgPSBkcm9wVHlwZTtcbiAgICBjb25zb2xlLmxvZyh7XG4gICAgICBjb21tZW50OiBcImRyYWdTdGFydFwiLFxuICAgIH0pO1xuICAgIC8vIGRmb25jbGsub25BY3RpdmUoZS50YXJnZXQpXG4gICAgLy8gc2VsZWN0Qm94TWFya2VyLmhpZGUob25SZW1vdmUpXG4gICAgLy8gZ3JlZW5Ecm9wTWFya2VyLmhpZGUoKTtcblxuICAgIHRoaXMuZHJhZ2VkRWwgPSBlbDtcbiAgICBldm50LmRpc3BhdGNoKFwiZHJhZ1N0YXJ0XCIsIHsgZSwgZWwsIHJlZiB9KTtcbiAgfTtcblxuICB0aGlzLmRyYWdFbmQgPSAoZSwgcmVmKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLmRyYWdlZEVsKSB0aGlzLmRyYWdlZEVsLnJlbW92ZUF0dHJpYnV0ZShcIkNvQy1kcmFnZ2luZ1wiKTtcbiAgICAgIGlmICh0aGlzLnBvc2l0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmRyb3BlZEVsID09PSB0aGlzLmRyYWdlZEVsKVxuICAgICAgICAgIHRocm93IFwiZG5kIGNhbmNlbGxlZC4geW91IGNhbid0IGRuZCBvbiB0aGUgc2FtZSBlbGVtZW50LlwiO1xuXG4gICAgICAgIC8vIGluIGZ1dHVyZSB3ZSBzaG91bGQgYWxzbyBkaXNhYmxlIGhvdmVyIGFuZCB0YWcgbmFtZSBpbiBkcmFnT3ZlciBtZXRob2RcbiAgICAgICAgLy8gcGFyZW50IGNhbid0IGJlIGRyYWdlZCBpbnRvIGNoaWxkcmVuXG4gICAgICAgIGlmICh0aGlzLmRyYWdlZEVsLmNvbnRhaW5zKHRoaXMuZHJvcGVkRWwpKVxuICAgICAgICAgIHRocm93IFwiZG5kIGNhbmNlbGxlZCwgeW91IGNhbid0IGRuZCBmcm9tIHBhcmVudCB0byBpdHMgY2hpbGRyZW4uXCI7XG5cbiAgICAgICAgbGV0IHBhdGggPSB1dGlscy5nZXRFbGVtZW50UGF0aCh0aGlzLmRyb3BlZEVsKTtcbiAgICAgICAgLy8gZ2V0IGlmcmFtZSBwYXRoXG4gICAgICAgIC8vIGxldCBwYXRoID0gW107XG4gICAgICAgIC8vICAgY29uc3Qge2Nzc1BhdGgsIGZpbmRJZnJhbWVGcm9tRWxlbWVudCwgZ2V0VG9wTW9zdFdpbmRvd30gPSB3aW5kb3cuY2M7XG4gICAgICAgIC8vICAgbGV0IHRvcFdpbmRvdyA9IGdldFRvcE1vc3RXaW5kb3coKVxuICAgICAgICAvLyAgIGxldCBpZnJhbWVFbGVtZW50ID0gZmluZElmcmFtZUZyb21FbGVtZW50KHRvcFdpbmRvdywgdGhpcy5kcm9wZWRFbClcbiAgICAgICAgLy8gICBsZXQgcCA9IGNzc1BhdGgoaWZyYW1lRWxlbWVudCk7XG4gICAgICAgIC8vICAgaWYocClcbiAgICAgICAgLy8gICBwYXRoLnVuc2hpZnQocClcblxuICAgICAgICAvL3RvZG86IHN1cHBvcnQgZm9yIG5lc3RlZCBpZnJhbWVcbiAgICAgICAgLy8gd2hpbGUoaWZyYW1lRWxlbWVudCAhPT0gZmluZElmcmFtZUZyb21FbGVtZW50KHRvcFdpbmRvdyxpZnJhbWVFbGVtZW50KSlcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgIGlmcmFtZUVsZW1lbnQgPSBmaW5kSWZyYW1lRnJvbUVsZW1lbnQodG9wV2luZG93LGlmcmFtZUVsZW1lbnQpO1xuICAgICAgICAvLyAgIHBhdGgudW5zaGlmdChjc3NQYXRoKGlmcmFtZUVsZW1lbnQpKVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgbGV0IGRldGFpbCA9IHtcbiAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICBkcmFnZWRFbDogdGhpcy5kcmFnZWRFbCxcbiAgICAgICAgICBkcm9wZWRFbDogdGhpcy5kcm9wZWRFbCxcbiAgICAgICAgICBkcm9wVHlwZTogdGhpcy5kcm9wVHlwZSxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBpZiAoYmVmb3JlRG5kU3VjY2VzcykgcmVzdWx0ID0gYmVmb3JlRG5kU3VjY2VzcyhkZXRhaWwpO1xuICAgICAgICBPYmplY3QuYXNzaWduKGRldGFpbCwgcmVzdWx0KTtcblxuICAgICAgICAvLyBkaXNwYXRjaCBnbG92YWwgZXZlbnRzXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiZG5kc3VjY2Vzc1wiLCB7XG4gICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgZGV0YWlsLFxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgYnJvYWRjYXN0ID0ge1xuICAgICAgICAgIHRhcmdldDogZGV0YWlsLmRyb3BlZEVsLFxuICAgICAgICAgIG1ldGhvZDogXCJpbnNlcnRBZGphY2VudEVsZW1lbnRcIixcbiAgICAgICAgICB2YWx1ZTogW2RldGFpbC5wb3NpdGlvbiwgZGV0YWlsLmRyYWdlZEVsXSxcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHRoaXMuZHJvcGVkRWwuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHRoaXMucG9zaXRpb24sIHRoaXMuZHJhZ2VkRWwpO1xuICAgICAgICAvLyBkb21FZGl0b3IoYnJvYWRjYXN0KTtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQsIHsgYnViYmxlczogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgIGlmICh0aGlzLnR5cGUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIFwiZG5kIGNvbXBsZXRlZFwiLFxuICAgICAgICAgIFwidHlwZTpcIixcbiAgICAgICAgICB0aGlzLnR5cGUsXG4gICAgICAgICAgXCJwb3NpdGlvbjpcIixcbiAgICAgICAgICB0aGlzLnBvc2l0aW9uXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBldm50LmRpc3BhdGNoKFwiZHJhZ0VuZFwiLCB7IGUsIHJlZiB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5kcmFnT3ZlciA9IChlLCBlbCwgcmVmKSA9PiB7XG4gICAgLy8gZWwgaXMgdGhlIGVsZW1lbnQgaG92ZXJlZFxuICAgIGlmICh0aGlzLmRyYWdlZEVsKSB0aGlzLmRyYWdlZEVsLnNldEF0dHJpYnV0ZShcIkNvQy1kcmFnZ2luZ1wiLCB0cnVlKTtcbiAgICBpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBwbGFjZSB0b3Agb3IgYm90dG9tIGluc2lkZSB0aGUgZWxlbWVudFxuICAgICAgbGV0IFtvcmllbnRhdGlvbiwgY2xvc2VzdEVsXSA9IGNsb3Nlc3RDaGlsZChbZS54LCBlLnldLCBbZWxdKTtcbiAgICAgIGV2bnQuZGlzcGF0Y2goXCJkcmFnT3ZlclwiLCB7XG4gICAgICAgIGUsXG4gICAgICAgIGVsLFxuICAgICAgICBjbG9zZXN0RWwsXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBoYXNDaGlsZDogdHJ1ZSxcbiAgICAgICAgcmVmLFxuICAgICAgfSk7XG4gICAgICAvLyBncmVlbkRyb3BNYXJrZXIuZHJhdyhlbCwgZWwsIG9yaWVudGF0aW9uLCB0cnVlKTtcbiAgICAgIC8vIGhvdmVyQm94TWFya2VyLmRyYXcoZWwpXG4gICAgICAvLyB0YWdOYW1lVG9vbHRpcC5kcmF3KGVsKVxuICAgICAgdGhpcy5wb3NpdGlvbiA9IHRvcGxlZnQuaW5jbHVkZXMob3JpZW50YXRpb24pID9cbiAgICAgICAgXCJhZnRlcmJlZ2luXCIgOlxuICAgICAgICBcImJlZm9yZWVuZFwiO1xuICAgICAgdGhpcy5kcm9wZWRFbCA9IGVsO1xuICAgICAgdGhpcy50eXBlID0gXCJub3JtYWxcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBmaW5kIGNsb3Nlc3QgY2hpbGQgYW5kIHB1dCBvdXRzaWRlIHRoZSBjaGlsZCBlbGVtZW50IG9uIHRvcCBvciBib3R0b20gcmVsYXRpbmcgdG8gdGhhdCBjaGlsZCxcbiAgICAgIGxldCBbb3JpZW50YXRpb24sIGNsb3Nlc3RFbF0gPSBjbG9zZXN0Q2hpbGQoW2UueCwgZS55XSwgZWwuY2hpbGRyZW4pO1xuXG4gICAgICAvLyBncmVlbkRyb3BNYXJrZXIuZHJhdyhlbCwgY2xvc2VzdEVsLCBvcmllbnRhdGlvbiwgZmFsc2UpO1xuICAgICAgLy8gaG92ZXJCb3hNYXJrZXIuZHJhdyhlbClcbiAgICAgIC8vIHRhZ05hbWVUb29sdGlwLmRyYXcoZWwpXG4gICAgICBpZiAoY2xvc2VzdEVsLmdldEF0dHJpYnV0ZShcImRhdGEtZXhjbHVkZVwiKSA9PSBcInRydWVcIikge1xuICAgICAgICB0aGlzLmRyb3BlZEVsID0gY2xvc2VzdEVsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIC8vIG9ubHkgdG8gZ2V0IG9yaWVudGF0aW9uXG4gICAgICAgIGxldCBbb3JpZW50YXRpb24yLCBjbG9zZXN0RWwyXSA9IGNsb3Nlc3RDaGlsZChcbiAgICAgICAgICBbZS54LCBlLnldLCBbdGhpcy5kcm9wZWRFbF1cbiAgICAgICAgKTtcbiAgICAgICAgb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjI7XG4gICAgICB9XG4gICAgICBlbHNlIHRoaXMuZHJvcGVkRWwgPSBjbG9zZXN0RWw7XG5cbiAgICAgIGV2bnQuZGlzcGF0Y2goXCJkcmFnT3ZlclwiLCB7XG4gICAgICAgIGUsXG4gICAgICAgIGVsLFxuICAgICAgICBjbG9zZXN0RWwsXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBoYXNDaGlsZDogZmFsc2UsXG4gICAgICAgIHJlZixcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnBvc2l0aW9uID0gdG9wbGVmdC5pbmNsdWRlcyhvcmllbnRhdGlvbikgP1xuICAgICAgICBcImJlZm9yZWJlZ2luXCIgOlxuICAgICAgICBcImFmdGVyZW5kXCI7XG5cbiAgICAgIHRoaXMudHlwZSA9IFwiY2hpbGRyZW5cIjtcbiAgICB9XG4gIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreateJS/node_modules/@cocreate/dnd/src/virtualDnd.js\n')}}]);